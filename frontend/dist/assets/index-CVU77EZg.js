const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-aA-kYyDG.js","assets/qrcode-BS2YopO_.js"])))=>i.map(i=>d[i]);
import{d as e,b as a,c as t,o as r,a as l,e as s,n,r as o,t as i,f as d,g as u,u as c,h as g,i as p,j as y,w as x,v,F as k,k as b,l as m,m as w,p as f,q as h,s as z,x as _,y as j,z as C,A as S}from"./vue-vendor-szcosyoL.js";import{a as A}from"./axios-vendor-rSMZb3Ae.js";import{r as I,a as q,b as O,c as Z,d as F,e as K,f as U,g as N,h as D,i as $,j as R,k as P,l as Q,m as E,n as T,o as W,p as B,q as M,s as V,t as G,u as L,v as J,w as H,x as Y,y as X,z as ee,A as ae}from"./heroicons-BK3P3fZ4.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver((e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&a(e)})).observe(document,{childList:!0,subtree:!0})}function a(e){if(e.ep)return;e.ep=!0;const a=function(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?a.credentials="include":"anonymous"===e.crossOrigin?a.credentials="omit":a.credentials="same-origin",a}(e);fetch(e.href,a)}}();const te={class:"bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg transition-colors duration-200"},re={class:"p-3 sm:p-5"},le={class:"flex items-center"},se={class:"flex-shrink-0"},ne={class:"ml-3 sm:ml-5 w-0 flex-1"},oe={class:"text-xs sm:text-sm font-medium text-gray-500 dark:text-gray-400 truncate"},ie={class:"text-base sm:text-lg font-medium text-gray-900 dark:text-white"},de={key:0,class:"text-xs text-gray-400 dark:text-gray-500 mt-1"},ue=e({__name:"StatsCard",props:{title:{},value:{},icon:{},color:{},subtitle:{}},setup(e){const u=e,c=a((()=>({blue:"text-blue-400",green:"text-green-400",red:"text-red-400",purple:"text-purple-400",yellow:"text-yellow-400"}[u.color])));return(e,a)=>(r(),t("div",te,[l("div",re,[l("div",le,[l("div",se,["string"!=typeof e.icon?(r(),s(o(e.icon),{key:0,class:n([c.value,"h-5 w-5 sm:h-6 sm:w-6"])},null,8,["class"])):(r(),t("span",{key:1,class:n([c.value,"text-lg sm:text-xl"])},i(e.icon),3))]),l("div",ne,[l("dl",null,[l("dt",oe,i(e.title),1),l("dd",ie,i(e.value),1),e.subtitle?(r(),t("dd",de,i(e.subtitle),1)):d("",!0)])])])])]))}}),ce=e({__name:"StatusBadge",props:{status:{}},setup(e){const l=e,s=a((()=>{switch(l.status){case"FINISHED":return"bg-green-100 text-green-800";case"DNF":return"bg-yellow-100 text-yellow-800";case"DSQ":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}));return(e,a)=>(r(),t("span",{class:n([s.value,"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},i(e.status),3))}}),ge={class:"bg-white dark:bg-gray-800 shadow rounded-lg p-3 border border-gray-200 dark:border-gray-700 transition-colors duration-200"},pe={class:"flex items-center space-x-3 mb-2"},ye={class:"inline-flex items-center justify-center w-10 h-10 rounded-full bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200 text-base font-bold flex-shrink-0"},xe={class:"font-bold text-gray-900 dark:text-white leading-tight text-lg"},ve={class:"flex flex-col xs:flex-row xs:items-center xs:justify-between gap-2 mb-3 text-sm"},ke={class:"flex items-center space-x-1 min-w-0"},be={class:"font-medium text-gray-700 dark:text-gray-300 truncate"},me={class:"flex items-center space-x-1 min-w-0 xs:flex-shrink-0"},we={class:"font-medium text-gray-700 dark:text-gray-300 truncate"},fe={class:"flex items-center justify-between bg-gray-50 dark:bg-gray-700 rounded-lg p-3 mb-3"},he={class:"flex items-center space-x-2"},ze={class:"text-2xl font-bold text-gray-900 dark:text-white"},_e={key:0,class:"flex space-x-2"},je=e({__name:"ZawodnikCard",props:{zawodnik:{},isAdmin:{type:Boolean}},emits:["edit"],setup:e=>(e,a)=>{return r(),t("div",ge,[l("div",pe,[l("span",ye,i(e.zawodnik.nr_startowy),1),l("h3",xe,i(e.zawodnik.imie)+" "+i(e.zawodnik.nazwisko),1)]),l("div",ve,[l("div",ke,[u(c(I),{class:"h-4 w-4 text-blue-500 dark:text-blue-400 flex-shrink-0"}),l("span",be,i(e.zawodnik.klub),1)]),l("div",me,[u(c(q),{class:"h-4 w-4 text-green-500 dark:text-green-400 flex-shrink-0"}),l("span",we,i(e.zawodnik.kategoria),1)])]),l("div",fe,[l("div",he,[u(c(O),{class:"h-5 w-5 text-purple-500 dark:text-purple-400"}),l("span",ze,i(e.zawodnik.czas_przejazdu_s?(s=e.zawodnik.czas_przejazdu_s,`${Math.floor(s/60)}:${(s%60).toFixed(2).padStart(5,"0")}`):"-"),1)]),u(ce,{status:e.zawodnik.status},null,8,["status"])]),e.isAdmin?(r(),t("div",_e,[l("button",{onClick:a[0]||(a[0]=a=>e.$emit("edit",e.zawodnik)),class:"flex-1 inline-flex items-center justify-center px-3 py-2 text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 transition-colors duration-200"},[u(c(Z),{class:"h-3 w-3 mr-1"}),a[1]||(a[1]=g(" Edytuj "))])])):d("",!0)]);var s}}),Ce={class:"space-y-6"},Se={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 space-y-4 sm:space-y-0"},Ae={class:"flex items-center space-x-3"},Ie={key:0,class:"flex justify-center items-center h-64"},qe={key:1,class:"bg-red-50 border border-red-200 rounded-md p-4"},Oe={class:"flex"},Ze={class:"ml-3"},Fe={class:"mt-2 text-sm text-red-700"},Ke={key:2},Ue={class:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mb-6"},Ne={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4 sm:p-6 transition-colors duration-200 mb-6"},De={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6"},$e=["value"],Re={class:"border-t border-gray-200 dark:border-gray-700 pt-4"},Pe={class:"flex flex-wrap gap-3"},Qe={class:"mt-4 flex justify-between items-center text-sm text-gray-500 dark:text-gray-400 border-t border-gray-200 dark:border-gray-700 pt-4"},Ee={class:"space-y-8"},Te={class:"text-xl font-semibold text-gray-900 dark:text-white mb-6"},We={class:"space-y-8"},Be={class:"text-lg font-medium text-gray-800 dark:text-gray-200 mb-4"},Me={key:0,class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-4"},Ve={class:"grid grid-cols-2 gap-4 text-sm"},Ge={class:"ml-1 text-gray-900 dark:text-white"},Le={class:"ml-1 text-gray-900 dark:text-white"},Je={key:1,class:"mb-6"},He={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},Ye={class:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2"},Xe={class:"space-y-1"},ea={class:"text-xs"},aa={key:2,class:"mb-6"},ta={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ra={class:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2"},la={class:"space-y-1"},sa={class:"text-xs"},na={key:3,class:"mb-6"},oa={class:"border-2 border-yellow-300 dark:border-yellow-600 rounded-lg p-4 bg-yellow-50 dark:bg-yellow-900/20"},ia={class:"space-y-2"},da={key:0},ua={key:1},ca={key:2},ga={key:3},pa={class:"text-xs"},ya={key:4,class:"text-center py-8 text-gray-500 dark:text-gray-400"},xa=e({__name:"DrabinkaPucharowa",setup(e){const s=p(null),o=p(!0),w=p(null),f=p({kategoria:"",plec:"",faza:"",sortowanie:"kategoria_asc"}),h=p([]),z=p([]),_=a((()=>{if(!s.value)return{};const{podsumowanie:e,...a}=s.value;return a})),j=a((()=>Object.keys(_.value).sort())),C=a((()=>{var e;if(!s.value)return{};const{podsumowanie:a,...t}=s.value;let r={};if(f.value.kategoria)t[f.value.kategoria]&&(r[f.value.kategoria]=t[f.value.kategoria]);else for(const[s,o]of Object.entries(t))(0===h.value.length||h.value.includes(s))&&(r[s]=o);if(f.value.plec||z.value.length>0){const e=f.value.plec||(1===z.value.length?z.value[0]:"");if(e){const a={};for(const[t,l]of Object.entries(r)){const r={};for(const[a,t]of Object.entries(l))a===e&&(r[a]=t);Object.keys(r).length>0&&(a[t]=r)}r=a}}if(f.value.faza){const a=f.value.faza,t={};for(const[l,s]of Object.entries(r)){const r={};for(const[t,l]of Object.entries(s)){const s={...l};"ćwierćfinały"===a?(delete s.półfinały,delete s.finał):"półfinały"===a?(delete s.ćwierćfinały,delete s.finał):"finał"===a&&(delete s.ćwierćfinały,delete s.półfinały);(null==(e=s[a])?void 0:e.length)>0&&(r[t]=s)}Object.keys(r).length>0&&(t[l]=r)}r=t}const l=Object.keys(r).sort(((e,a)=>{switch(f.value.sortowanie){case"kategoria_desc":return a.localeCompare(e);case"zawodnikow_desc":return O(r[a])-O(r[e]);case"zawodnikow_asc":return O(r[e])-O(r[a]);default:return e.localeCompare(a)}})),n={};return l.forEach((e=>{n[e]=r[e]})),n})),S=a((()=>h.value.length===j.value.length)),I=a((()=>2===z.value.length||""===f.value.plec)),q=a((()=>{let e=0;for(const a of Object.values(C.value))e+=O(a);return e})),O=e=>{var a,t;let r=0;for(const l of Object.values(e))if("object"==typeof l&&null!==l){const e=["ćwierćfinały","półfinały","finał"];for(const s of e)if((null==(a=l[s])?void 0:a.length)>0)for(const e of l[s])r+=(null==(t=e.zawodnicy)?void 0:t.length)||0}return r},Z=e=>{if(!e)return"-";return`${Math.floor(e/60)}:${(e%60).toFixed(2).padStart(5,"0")}`},D=()=>{f.value={kategoria:"",plec:"",faza:"",sortowanie:"kategoria_asc"},h.value=[],z.value=[]},$=()=>{S.value?(h.value=[],f.value.kategoria=""):(h.value=[...j.value],f.value.kategoria="")},R=()=>{I.value?(z.value=["Mężczyźni"],f.value.plec="Mężczyźni"):(z.value=["Mężczyźni","Kobiety"],f.value.plec="")},P=()=>{"finał"===f.value.faza?f.value.faza="":f.value.faza="finał"};return y((()=>{(async()=>{try{o.value=!0,w.value=null;const e=await A.get("/api/drabinka");s.value=e.data}catch(e){w.value="Nie udało się załadować drabinki turniejowej"}finally{o.value=!1}})()})),(e,a)=>{var p,y,h,A,O,Q;return r(),t("div",Ce,[l("div",Se,[l("div",Ae,[u(c(F),{class:"h-8 w-8 text-yellow-600"}),a[4]||(a[4]=l("h2",{class:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white"},"Drabinka Pucharowa SKATECROSS",-1))]),a[5]||(a[5]=l("p",{class:"text-sm text-gray-600 dark:text-gray-400"}," System turniejowy z grupami 4-osobowymi - do ćwierćfinałów awansuje maksymalnie 16 najlepszych zawodników ",-1))]),o.value?(r(),t("div",Ie,a[6]||(a[6]=[l("div",{class:"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-500"},null,-1)]))):w.value?(r(),t("div",qe,[l("div",Oe,[u(c(K),{class:"h-5 w-5 text-red-400"}),l("div",Ze,[a[7]||(a[7]=l("h3",{class:"text-sm font-medium text-red-800"},"Błąd ładowania drabinki",-1)),l("p",Fe,i(w.value),1)])])])):(r(),t("div",Ke,[l("div",Ue,[u(ue,{title:"Zawodnicy w turnieju",value:(null==(p=s.value.podsumowanie)?void 0:p.łączna_liczba_zawodników)||0,icon:c(U),color:"blue"},null,8,["value","icon"]),u(ue,{title:"W ćwierćfinałach",value:(null==(y=s.value.podsumowanie)?void 0:y.w_ćwierćfinałach)||0,icon:c(F),color:"green"},null,8,["value","icon"]),u(ue,{title:"Mężczyźni",value:(null==(A=null==(h=s.value.podsumowanie)?void 0:h.podział_płeć)?void 0:A.mężczyźni)||0,icon:c(N),color:"purple"},null,8,["value","icon"]),u(ue,{title:"Kobiety",value:(null==(Q=null==(O=s.value.podsumowanie)?void 0:O.podział_płeć)?void 0:Q.kobiety)||0,icon:c(N),color:"red"},null,8,["value","icon"])]),l("div",Ne,[l("div",{class:"flex items-center justify-between mb-6"},[a[9]||(a[9]=l("h3",{class:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white"},"Filtry i sortowanie",-1)),l("button",{onClick:D,class:"text-sm text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 flex items-center space-x-1 transition-colors duration-200"},a[8]||(a[8]=[l("span",null,"🗑️",-1),l("span",null,"Wyczyść filtry",-1)]))]),l("div",De,[l("div",null,[a[11]||(a[11]=l("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[l("span",{class:"flex items-center space-x-2"},[l("span",null,"🏆"),l("span",null,"Kategoria")])],-1)),x(l("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>f.value.kategoria=e),class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},[a[10]||(a[10]=l("option",{value:""},"Wszystkie",-1)),(r(!0),t(k,null,b(j.value,(e=>(r(),t("option",{key:e,value:e},i(e),9,$e)))),128))],512),[[v,f.value.kategoria]])]),l("div",null,[a[13]||(a[13]=l("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[l("span",{class:"flex items-center space-x-2"},[l("span",null,"👥"),l("span",null,"Płeć")])],-1)),x(l("select",{"onUpdate:modelValue":a[1]||(a[1]=e=>f.value.plec=e),class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},a[12]||(a[12]=[l("option",{value:""},"Wszystkie",-1),l("option",{value:"Mężczyźni"},"Mężczyźni",-1),l("option",{value:"Kobiety"},"Kobiety",-1)]),512),[[v,f.value.plec]])]),l("div",null,[a[15]||(a[15]=l("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[l("span",{class:"flex items-center space-x-2"},[l("span",null,"🎯"),l("span",null,"Faza turnieju")])],-1)),x(l("select",{"onUpdate:modelValue":a[2]||(a[2]=e=>f.value.faza=e),class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},a[14]||(a[14]=[l("option",{value:""},"Wszystkie fazy",-1),l("option",{value:"ćwierćfinały"},"Ćwierćfinały",-1),l("option",{value:"półfinały"},"Półfinały",-1),l("option",{value:"finał"},"Finał",-1)]),512),[[v,f.value.faza]])]),l("div",null,[a[17]||(a[17]=l("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[l("span",{class:"flex items-center space-x-2"},[l("span",null,"🔄"),l("span",null,"Sortowanie")])],-1)),x(l("select",{"onUpdate:modelValue":a[3]||(a[3]=e=>f.value.sortowanie=e),class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},a[16]||(a[16]=[l("option",{value:"kategoria_asc"},"Kategoria (A-Z)",-1),l("option",{value:"kategoria_desc"},"Kategoria (Z-A)",-1),l("option",{value:"zawodnikow_desc"},"Liczba zawodników (malejąco)",-1),l("option",{value:"zawodnikow_asc"},"Liczba zawodników (rosnąco)",-1)]),512),[[v,f.value.sortowanie]])])]),l("div",Re,[a[20]||(a[20]=l("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-3"},[l("span",{class:"flex items-center space-x-2"},[l("span",null,"⚡"),l("span",null,"Operacje grupowe")])],-1)),l("div",Pe,[l("button",{onClick:$,class:n(["px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 flex items-center space-x-2 border-2",S.value?"bg-indigo-700 text-white shadow-inner border-indigo-800":"bg-indigo-600 text-white hover:bg-indigo-700 border-transparent"])},[l("span",null,i(S.value?"✅":"☐"),1),l("span",null,i(S.value?"Odznacz wszystkie":"Zaznacz wszystkie")+" kategorie ("+i(j.value.length)+")",1)],2),l("button",{onClick:R,class:n(["px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 flex items-center space-x-2 border-2",I.value?"bg-green-700 text-white shadow-inner border-green-800":"bg-green-600 text-white hover:bg-green-700 border-transparent"])},[l("span",null,i(I.value?"✅":"☐"),1),l("span",null,i(I.value?"Tylko jedna płeć":"Obie płcie"),1)],2),l("button",{onClick:P,class:n(["px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 flex items-center space-x-2 border-2","finał"===f.value.faza?"bg-yellow-700 text-white shadow-inner border-yellow-800":"bg-yellow-600 text-white hover:bg-yellow-700 border-transparent"])},[a[18]||(a[18]=l("span",null,"🏆",-1)),l("span",null,i("finał"===f.value.faza?"Pokaż wszystkie":"Tylko finały"),1)],2),l("button",{onClick:D,class:"px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 flex items-center space-x-2 border-2 border-transparent bg-gray-600 text-white hover:bg-gray-700"},a[19]||(a[19]=[l("span",null,"🗑️",-1),l("span",null,"Wyczyść filtry",-1)]))])]),l("div",Qe,[l("div",null," Wyświetlane kategorie: "+i(Object.keys(C.value).length)+" z "+i(Object.keys(_.value).length),1),l("div",null," Łączna liczba zawodników: "+i(q.value),1)])]),l("div",Ee,[(r(!0),t(k,null,b(C.value,((e,s)=>(r(),t("div",{key:s,class:"bg-white dark:bg-gray-800 shadow rounded-lg p-6"},[l("h3",Te,"🏆 "+i(s),1),l("div",We,[(r(!0),t(k,null,b(e,((e,s)=>{var o,p,y,v,w,h;return x((r(),t("div",{key:s,class:"border-l-4 border-indigo-500 pl-4"},[l("h4",Be,i("Mężczyźni"===String(s)?"👨 Mężczyźni":"👩 Kobiety"),1),e.statystyki?(r(),t("div",Me,[l("div",Ve,[l("div",null,[a[21]||(a[21]=l("span",{class:"font-medium text-gray-700 dark:text-gray-300"},"Łącznie:",-1)),l("span",Ge,i(e.statystyki.łącznie_zawodników),1)]),l("div",null,[a[22]||(a[22]=l("span",{class:"font-medium text-gray-700 dark:text-gray-300"},"W ćwierćfinałach:",-1)),l("span",Le,i(e.statystyki.w_ćwierćfinałach),1)])])])):d("",!0),(null==(o=e.ćwierćfinały)?void 0:o.length)>0&&(!f.value.faza||"ćwierćfinały"===f.value.faza)?(r(),t("div",Je,[a[23]||(a[23]=l("h5",{class:"font-medium text-gray-700 dark:text-gray-300 mb-3"},"🥇 Ćwierćfinały",-1)),l("div",He,[(r(!0),t(k,null,b(e.ćwierćfinały,(e=>(r(),t("div",{key:e.grupa,class:"border border-gray-200 dark:border-gray-600 rounded-lg p-3"},[l("div",Ye,"Grupa "+i(e.grupa)+" (awansuje "+i(e.awansują)+")",1),l("div",Xe,[(r(!0),t(k,null,b(e.zawodnicy,((a,s)=>(r(),t("div",{key:a.nr_startowy,class:n(["text-sm p-2 rounded",s<e.awansują?"bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-200 font-medium":"bg-gray-50 dark:bg-gray-700 text-gray-600 dark:text-gray-300"])},[g(i(a.nr_startowy)+". "+i(a.imie)+" "+i(a.nazwisko)+" ",1),l("div",ea,i(Z(a.czas_przejazdu_s)),1)],2)))),128))])])))),128))])])):d("",!0),(null==(p=e.półfinały)?void 0:p.length)>0&&(!f.value.faza||"półfinały"===f.value.faza)?(r(),t("div",aa,[a[24]||(a[24]=l("h5",{class:"font-medium text-gray-700 dark:text-gray-300 mb-3"},"🥈 Półfinały",-1)),l("div",ta,[(r(!0),t(k,null,b(e.półfinały,(e=>(r(),t("div",{key:e.grupa,class:"border border-gray-200 dark:border-gray-600 rounded-lg p-3"},[l("div",ra,"Grupa "+i(e.grupa)+" (awansuje "+i(e.awansują)+")",1),l("div",la,[(r(!0),t(k,null,b(e.zawodnicy,((a,s)=>(r(),t("div",{key:a.nr_startowy,class:n(["text-sm p-2 rounded",s<e.awansują?"bg-yellow-50 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-200 font-medium":"bg-gray-50 dark:bg-gray-700 text-gray-600 dark:text-gray-300"])},[g(i(a.nr_startowy)+". "+i(a.imie)+" "+i(a.nazwisko)+" ",1),l("div",sa,i(Z(a.czas_przejazdu_s)),1)],2)))),128))])])))),128))])])):d("",!0),(null==(y=e.finał)?void 0:y.length)>0&&(!f.value.faza||"finał"===f.value.faza)?(r(),t("div",na,[a[25]||(a[25]=l("h5",{class:"font-medium text-gray-700 dark:text-gray-300 mb-3"},"🏆 Finał",-1)),l("div",oa,[(r(!0),t(k,null,b(e.finał,(e=>(r(),t("div",{key:e.grupa},[l("div",ia,[(r(!0),t(k,null,b(e.zawodnicy,((e,a)=>(r(),t("div",{key:e.nr_startowy,class:n(["text-sm p-3 rounded font-medium",0===a?"bg-yellow-200 dark:bg-yellow-800 text-yellow-900 dark:text-yellow-100":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"])},[0===a?(r(),t("span",da,"🥇")):1===a?(r(),t("span",ua,"🥈")):2===a?(r(),t("span",ca,"🥉")):(r(),t("span",ga,i(a+1)+".",1)),g(" "+i(e.nr_startowy)+". "+i(e.imie)+" "+i(e.nazwisko)+" ",1),l("div",pa,i(Z(e.czas_przejazdu_s)),1)],2)))),128))])])))),128))])])):d("",!0),(null==(v=e.ćwierćfinały)?void 0:v.length)||(null==(w=e.półfinały)?void 0:w.length)||(null==(h=e.finał)?void 0:h.length)?d("",!0):(r(),t("div",ya,[u(c(F),{class:"h-12 w-12 mx-auto mb-3 text-gray-300 dark:text-gray-600"}),a[26]||(a[26]=l("p",null,"Brak zawodników w tej kategorii",-1))]))])),[[m,0===z.value.length||z.value.includes(String(s))||""===f.value.plec||f.value.plec===String(s)]])})),128))])])))),128))])]))])}}}),va=(e,a)=>{const t=e.__vccOpts||e;for(const[r,l]of a)t[r]=l;return t},ka=va(xa,[["__scopeId","data-v-0c2a0382"]]),ba={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},ma={class:"relative top-20 mx-auto p-5 border w-full max-w-lg shadow-lg rounded-lg bg-white dark:bg-gray-800"},wa={class:"flex justify-between items-center pb-4 border-b dark:border-gray-600"},fa={class:"text-xl font-semibold text-gray-900 dark:text-white"},ha={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},za={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},_a=["value"],ja={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ca={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Sa={key:0,class:"mt-4 p-3 bg-red-50 border border-red-200 rounded-md"},Aa={class:"text-sm text-red-700"},Ia={key:1,class:"mt-4 p-3 bg-green-50 border border-green-200 rounded-md"},qa={class:"text-sm text-green-700"},Oa={class:"flex justify-end space-x-3 mt-6 pt-4 border-t dark:border-gray-600"},Za=["disabled"],Fa=e({__name:"EditZawodnikModal",props:{show:{type:Boolean},zawodnik:{}},emits:["close","updated","deleted"],setup(e,{emit:a}){const s=e,n=a,o=p({nr_startowy:0,imie:"",nazwisko:"",kategoria:"",plec:"",klub:"",czas_przejazdu:"",status:""}),g=p(null),m=p(!1),_=p(""),j=p(""),C=p([]);y((async()=>{try{const e=await A.get("/api/kluby");e.data&&e.data.nazwy_klubow&&e.data.nazwy_klubow.length>0?C.value=e.data.nazwy_klubow:s.zawodnik&&(C.value=[s.zawodnik.klub].filter(Boolean))}catch(e){s.zawodnik?C.value=[s.zawodnik.klub].filter(Boolean):C.value=[]}})),w((()=>s.zawodnik),(e=>{e&&s.show&&(g.value={...e},o.value={nr_startowy:e.nr_startowy,imie:e.imie,nazwisko:e.nazwisko,kategoria:e.kategoria,plec:e.plec,klub:e.klub||"",czas_przejazdu:S(e.czas_przejazdu_s),status:e.status||"DNF"},_.value="",j.value="")}));const S=e=>{if(!e)return"";const a=Math.floor(e/60),t=(e%60).toFixed(3);return a>0?`${a}:${t.padStart(6,"0")}`:t},I=()=>n("close"),q=async()=>{var e,a;m.value=!0,_.value="",j.value="";try{if(g.value){await A.put(`/api/zawodnicy/${g.value.nr_startowy}`,{imie:o.value.imie,nazwisko:o.value.nazwisko,kategoria:o.value.kategoria,plec:o.value.plec,klub:o.value.klub});await A.put("/api/wyniki",{nr_startowy:o.value.nr_startowy,czas_przejazdu_s:o.value.czas_przejazdu,status:o.value.status}),j.value="Zawodnik został zaktualizowany!"}else{await A.post("/api/zawodnicy",{nr_startowy:o.value.nr_startowy,imie:o.value.imie,nazwisko:o.value.nazwisko,kategoria:o.value.kategoria,plec:o.value.plec,klub:o.value.klub});await A.put("/api/wyniki",{nr_startowy:o.value.nr_startowy,czas_przejazdu_s:o.value.czas_przejazdu,status:o.value.status}),j.value="Zawodnik został dodany!"}setTimeout((()=>{n("updated"),I()}),1e3)}catch(t){_.value=(null==(a=null==(e=t.response)?void 0:e.data)?void 0:a.error)||t.message||"Wystąpił błąd podczas zapisywania"}finally{m.value=!1}};return(e,a)=>e.show?(r(),t("div",ba,[l("div",ma,[l("div",wa,[l("h3",fa,i(g.value?`Edycja zawodnika #${g.value.nr_startowy}`:"Dodaj nowego zawodnika"),1),l("button",{onClick:I,class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[u(c(D),{class:"h-6 w-6"})])]),l("form",{onSubmit:f(q,["prevent"]),class:"mt-4 text-xl space-y-6"},[l("div",ha,[l("div",null,[a[9]||(a[9]=l("label",{class:"block text-lg font-medium text-gray-700 dark:text-gray-300"},"Imię",-1)),x(l("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>o.value.imie=e),type:"text",required:"",class:"mt-1 block w-full rounded-full px-4 py-2 text-xl border-gray-300 shadow-sm bg-gray-100 dark:bg-gray-700 focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-600 dark:text-white"},null,512),[[h,o.value.imie]])]),l("div",null,[a[10]||(a[10]=l("label",{class:"block text-lg font-medium text-gray-700 dark:text-gray-300"},"Nazwisko",-1)),x(l("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>o.value.nazwisko=e),type:"text",required:"",class:"mt-1 block w-full rounded-full px-4 py-2 text-xl border-gray-300 shadow-sm bg-gray-100 dark:bg-gray-700 focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-600 dark:text-white"},null,512),[[h,o.value.nazwisko]])])]),l("div",za,[l("div",null,[a[11]||(a[11]=l("label",{class:"block text-lg font-medium text-gray-700 dark:text-gray-300"},"Nr startowy",-1)),x(l("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>o.value.nr_startowy=e),type:"number",required:"",min:"1",class:"mt-1 block w-full rounded-full px-4 py-2 text-xl border-gray-300 shadow-sm bg-gray-100 dark:bg-gray-700 focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-600 dark:text-white"},null,512),[[h,o.value.nr_startowy,void 0,{number:!0}]])]),l("div",null,[a[14]||(a[14]=l("label",{class:"block text-lg font-medium text-gray-700 dark:text-gray-300"},"Klub",-1)),C.value.length>0?x((r(),t("select",{key:0,"onUpdate:modelValue":a[3]||(a[3]=e=>o.value.klub=e),required:"",class:"mt-1 block w-full rounded-full px-4 py-2 text-xl border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},[a[12]||(a[12]=l("option",{value:"",disabled:""},"Wybierz klub...",-1)),(r(!0),t(k,null,b(C.value,(e=>(r(),t("option",{key:e,value:e},i(e),9,_a)))),128))],512)),[[v,o.value.klub]]):(r(),t(k,{key:1},[x(l("input",{"onUpdate:modelValue":a[4]||(a[4]=e=>o.value.klub=e),type:"text",required:"",placeholder:"Wpisz klub",class:"mt-1 block w-full rounded-full px-4 py-2 text-xl border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[h,o.value.klub]]),a[13]||(a[13]=l("p",{class:"text-xs text-red-500 mt-1"},"Brak klubów w bazie! Wpisz ręcznie.",-1))],64))])]),l("div",ja,[l("div",null,[a[16]||(a[16]=l("label",{class:"block text-lg font-medium text-gray-700 dark:text-gray-300"},"Płeć",-1)),x(l("select",{"onUpdate:modelValue":a[5]||(a[5]=e=>o.value.plec=e),required:"",class:"mt-1 block w-full rounded-full px-4 py-2 text-xl border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},a[15]||(a[15]=[l("option",{value:"M"},"👨 Mężczyzna",-1),l("option",{value:"K"},"👩 Kobieta",-1)]),512),[[v,o.value.plec]])]),l("div",null,[a[18]||(a[18]=l("label",{class:"block text-lg font-medium text-gray-700 dark:text-gray-300"},"Kategoria",-1)),x(l("select",{"onUpdate:modelValue":a[6]||(a[6]=e=>o.value.kategoria=e),required:"",class:"mt-1 block w-full rounded-full px-4 py-2 text-xl border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},a[17]||(a[17]=[z('<option value="Junior A">🏷️ Junior A</option><option value="Junior B">🏷️ Junior B</option><option value="Junior C">🏷️ Junior C</option><option value="Junior D">🏷️ Junior D</option><option value="Masters">🏷️ Masters</option><option value="Senior">🏷️ Senior</option>',6)]),512),[[v,o.value.kategoria]])])]),l("div",Ca,[l("div",null,[a[19]||(a[19]=l("label",{class:"block text-lg font-medium text-gray-700 dark:text-gray-300"},"Czas przejazdu",-1)),x(l("input",{"onUpdate:modelValue":a[7]||(a[7]=e=>o.value.czas_przejazdu=e),type:"text",placeholder:"MM:SS.ms lub SS.ms",class:"mt-1 block w-full rounded-full px-4 py-2 text-xl border-gray-300 shadow-sm bg-gray-100 dark:bg-gray-700 focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-600 dark:text-white"},null,512),[[h,o.value.czas_przejazdu]]),a[20]||(a[20]=l("p",{class:"text-xs text-gray-500 mt-1"},"Format: MM:SS.ms lub SS.ms (np. 1:23.456 lub 45.123)",-1))]),l("div",null,[a[22]||(a[22]=l("label",{class:"block text-lg font-medium text-gray-700 dark:text-gray-300"},"Status",-1)),x(l("select",{"onUpdate:modelValue":a[8]||(a[8]=e=>o.value.status=e),required:"",class:"mt-1 block w-full rounded-full px-4 py-2 text-xl border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},a[21]||(a[21]=[l("option",{value:"NOT_STARTED"},"⏳ Nie wystartował",-1),l("option",{value:"FINISHED"},"✅ Ukończył",-1),l("option",{value:"DNF"},"❌ Nie ukończył",-1),l("option",{value:"DSQ"},"🚫 Dyskwalifikacja",-1)]),512),[[v,o.value.status]])])]),_.value?(r(),t("div",Sa,[l("p",Aa,i(_.value),1)])):d("",!0),j.value?(r(),t("div",Ia,[l("p",qa,i(j.value),1)])):d("",!0),l("div",Oa,[l("button",{type:"button",onClick:I,class:"px-6 py-2 text-base font-semibold text-indigo-700 bg-indigo-100 rounded-full hover:bg-indigo-200 transition-colors"},"✖ Anuluj"),l("button",{type:"submit",disabled:m.value,class:"px-6 py-2 text-base font-semibold text-white bg-green-400 rounded-full hover:bg-green-500 disabled:opacity-50 transition-colors"},i(m.value?"⏳ Zapisywanie...":"💾 Zapisz"),9,Za)])],32)])])):d("",!0)}}),Ka={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4 sm:p-6 transition-colors duration-200"},Ua={class:"flex items-center justify-between mb-6"},Na={class:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white"},Da={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6"},$a={class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},Ra={class:"flex items-center space-x-2"},Pa=["onUpdate:modelValue"],Qa={value:""},Ea=["value"],Ta=["onUpdate:modelValue","min","max","placeholder"],Wa={key:1,class:"space-y-4 mb-6"},Ba={class:"block text-sm font-semibold text-gray-800 dark:text-gray-200"},Ma={class:"flex flex-wrap gap-2"},Va=["onClick"],Ga={key:0,class:"mr-1"},La={key:1,class:"ml-1 text-xs opacity-75"},Ja={key:2,class:"space-y-2"},Ha={class:"text-sm font-semibold text-gray-800 dark:text-gray-200"},Ya={class:"flex flex-wrap gap-2"},Xa=["onClick","disabled"],et={key:0,class:"ml-1 text-xs opacity-75"},at=e({__name:"FilterSection",props:{config:{},filters:{},data:{}},emits:["filtersChange","clearFilters","quickAction"],setup(e,{emit:a}){const s=e,o=a,u=p({...s.filters});w((()=>s.filters),(e=>{u.value={...e}}),{deep:!0});const c=()=>{o("filtersChange",{...u.value})},y=(e,a)=>{var t;return(null==(t=u.value[e])?void 0:t.includes(a))||!1},m=(e,a)=>{const t={blue:a?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-blue-50 text-blue-600 dark:bg-blue-800/50 dark:text-blue-300",green:a?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-green-50 text-green-600 dark:bg-green-800/50 dark:text-green-300",indigo:a?"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200":"bg-indigo-50 text-indigo-600 dark:bg-indigo-800/50 dark:text-indigo-300",pink:a?"bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-200":"bg-pink-50 text-pink-600 dark:bg-pink-800/50 dark:text-pink-300",yellow:a?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-yellow-50 text-yellow-600 dark:bg-yellow-800/50 dark:text-yellow-300",red:a?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-red-50 text-red-600 dark:bg-red-800/50 dark:text-red-300",purple:a?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":"bg-purple-50 text-purple-600 dark:bg-purple-800/50 dark:text-purple-300",orange:a?"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200":"bg-orange-50 text-orange-600 dark:bg-orange-800/50 dark:text-orange-300"};return t[e]||t.blue};return(e,a)=>{var p,w,f,z;return r(),t("div",Ka,[l("div",Ua,[l("h3",Na,i(e.config.title),1),l("button",{onClick:a[0]||(a[0]=a=>e.$emit("clearFilters")),class:"text-sm text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 flex items-center space-x-1 transition-colors duration-200"},[a[1]||(a[1]=l("span",null,"🗑️",-1)),l("span",null,i(e.config.clearButtonText),1)])]),(null==(p=e.config.mainFilters)?void 0:p.length)?(r(),t("div",Da,[(r(!0),t(k,null,b(e.config.mainFilters,(e=>(r(),t("div",{key:e.key},[l("label",$a,[l("span",Ra,[l("span",null,i(e.icon),1),l("span",null,i(e.label),1)])]),"select"===e.type?x((r(),t("select",{key:0,"onUpdate:modelValue":a=>u.value[e.key]=a,onChange:c,class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},[l("option",Qa,i(e.placeholder),1),(r(!0),t(k,null,b(e.options,(e=>(r(),t("option",{key:"string"==typeof e?e:e.value,value:"string"==typeof e?e:e.value},i("string"==typeof e?e:e.label),9,Ea)))),128))],40,Pa)),[[v,u.value[e.key]]]):"number"===e.type?x((r(),t("input",{key:1,"onUpdate:modelValue":a=>u.value[e.key]=a,onInput:c,type:"number",min:e.min,max:e.max,placeholder:e.placeholder,class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},null,40,Ta)),[[h,u.value[e.key],void 0,{number:!0}]]):d("",!0)])))),128))])):d("",!0),(null==(w=e.config.chipFilters)?void 0:w.length)?(r(),t("div",Wa,[(r(!0),t(k,null,b(e.config.chipFilters,(e=>(r(),t("div",{key:e.key,class:"space-y-2"},[l("label",Ba,i(e.label),1),l("div",Ma,[(r(!0),t(k,null,b(e.options,(a=>(r(),t("button",{key:"string"==typeof a?a:a.value,onClick:t=>((e,a)=>{u.value[e]||(u.value[e]=[]);const t=u.value[e].indexOf(a);t>-1?u.value[e].splice(t,1):u.value[e].push(a),c()})(e.key,"string"==typeof a?a:a.value),class:n(["px-3 py-1.5 rounded-full text-sm font-medium transition-colors duration-200",y(e.key,"string"==typeof a?a:a.value)?m(e.color,!0):m(e.color,!1)])},[e.showIcons&&"string"!=typeof a&&a.icon?(r(),t("span",Ga,i(a.icon),1)):d("",!0),g(" "+i("string"==typeof a?a:a.label)+" ",1),e.showCount?(r(),t("span",La," ("+i((e.key,"string"==typeof a||a.value,0))+") ",1)):d("",!0)],10,Va)))),128))])])))),128))])):d("",!0),(null==(z=null==(f=e.config.quickActions)?void 0:f.buttons)?void 0:z.length)?(r(),t("div",Ja,[l("h4",Ha,i(e.config.quickActions.title),1),l("div",Ya,[(r(!0),t(k,null,b(e.config.quickActions.buttons,(a=>{var g,p;return r(),t("button",{key:a.key,onClick:e=>(e=>{var a;(null==(a=e.disabled)?void 0:a.call(e,u.value,s.data))||(e.action(u.value,s.data),c(),o("quickAction",e.key,s.data))})(a),disabled:null==(g=a.disabled)?void 0:g.call(a,u.value,e.data),class:n(["px-3 py-1.5 rounded-lg text-sm font-medium transition-colors duration-200 flex items-center space-x-1",a.className,(null==(p=a.disabled)?void 0:p.call(a,u.value,e.data))?"opacity-50 cursor-not-allowed":""])},[l("span",null,i(a.icon),1),l("span",null,i(a.label),1),a.showCount?(r(),t("span",et," ("+i("function"==typeof a.count?a.count(u.value,e.data):a.count)+") ",1)):d("",!0)],10,Xa)})),128))])])):d("",!0)])}}}),tt={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 space-y-4 sm:space-y-0"},rt={class:"flex items-center space-x-3"},lt={class:"flex items-center space-x-4"},st=["disabled"],nt={class:"border-b border-gray-200 dark:border-gray-700 mb-6"},ot={class:"-mb-px flex space-x-8 overflow-x-auto"},it=["onClick"],dt={key:0,class:"ml-2 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 py-0.5 px-2 rounded-full text-xs"},ut={key:0,class:"flex justify-center py-12"},ct={class:"text-center"},gt={key:1},pt={key:0,class:"space-y-6"},yt={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 transition-colors duration-200"},xt={class:"p-4 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900 dark:to-indigo-900 transition-colors duration-200"},vt={class:"text-lg font-semibold text-gray-900 dark:text-white flex items-center"},kt={class:"ml-2 text-sm text-gray-600 dark:text-gray-400"},bt={class:"overflow-x-auto"},mt={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},wt={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},ft={key:0},ht={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},zt={key:0},_t={key:1},jt={key:2},Ct={key:3},St={class:"px-6 py-4 whitespace-nowrap"},At={class:"text-sm font-medium text-gray-900 dark:text-white"},It={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},qt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},Ot={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-purple-600 dark:text-purple-400"},Zt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},Ft={key:1,class:"space-y-6"},Kt={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4 sm:p-6 transition-colors duration-200"},Ut={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},Nt=["value"],Dt=["value"],$t={class:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden"},Rt={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Pt={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Qt={key:0},Et={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},Tt={key:0},Wt={key:1},Bt={class:"px-6 py-4 whitespace-nowrap"},Mt={class:"text-sm font-medium text-gray-900 dark:text-white"},Vt={class:"text-sm text-gray-500 dark:text-gray-400"},Gt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},Lt={class:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-600 dark:text-green-400"},Jt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},Ht={class:"px-6 py-4 whitespace-nowrap text-sm text-red-500 dark:text-red-400"},Yt={key:2,class:"space-y-6"},Xt={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4 sm:p-6 transition-colors duration-200"},er={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ar={class:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden"},tr={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},rr={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},lr={key:0},sr={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},nr={key:0},or={key:1},ir={key:2},dr={key:3},ur={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},cr={class:"px-6 py-4 whitespace-nowrap text-sm font-bold text-blue-600 dark:text-blue-400"},gr={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},pr={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},yr={key:3,class:"space-y-6"},xr={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4 sm:p-6 transition-colors duration-200"},vr={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},kr={class:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden"},br={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},mr={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},wr={key:0},fr={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},hr={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},zr={class:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-600 dark:text-green-400"},_r={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},jr={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},Cr={key:4,class:"space-y-6"},Sr={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4 sm:p-6 transition-colors duration-200"},Ar={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ir={class:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden"},qr={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Or={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Zr={key:0},Fr={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},Kr={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},Ur={class:"px-6 py-4 whitespace-nowrap text-center text-sm font-bold text-yellow-600"},Nr={class:"px-6 py-4 whitespace-nowrap text-center text-sm font-bold text-gray-400"},Dr={class:"px-6 py-4 whitespace-nowrap text-center text-sm font-bold text-yellow-700"},$r={class:"px-6 py-4 whitespace-nowrap text-center text-sm font-bold text-purple-600"},Rr={key:2,class:"text-center py-12"},Pr=e({__name:"Rankingi",setup(e){const m=p(!1),w=p("2025"),f=p("general"),_=p([]),j=p([]),C=p([]),S=p([]),A=p([]),q=p(""),O=p(""),Z=p(""),K=p("pozycja_asc"),N=p(""),D=p(""),P=p(""),Q=p("punkty_desc"),E=p(null),T=p("punkty_desc"),W=p(null),B=p("punkty_desc"),M=p(null),V=p("zlote_desc"),G=[{id:"general",name:"Generalna",icon:F},{id:"individual",name:"Indywidualna",icon:U},{id:"clubs-total",name:"Klubowa - Suma",icon:I},{id:"clubs-top3",name:"Klubowa - TOP3",icon:I},{id:"medals",name:"Medale",icon:F}],L=p(["Junior D","Junior C","Junior B","Junior A","Senior","Master"]),J=a((()=>[...new Set(_.value.map((e=>e.klub)).filter(Boolean))].sort()));a((()=>[...new Set(_.value.map((e=>e.plec)).filter(Boolean))].sort()));const H=a((()=>{let e=_.value;return q.value&&(e=e.filter((e=>e.kategoria===q.value))),O.value&&(e=e.filter((e=>e.klub===O.value))),Z.value&&(e=e.filter((e=>e.plec===Z.value))),"pozycja_asc"===K.value?e.sort(((e,a)=>parseFloat(a.punkty)-parseFloat(e.punkty))):"pozycja_desc"===K.value?e.sort(((e,a)=>parseFloat(e.punkty)-parseFloat(a.punkty))):"punkty_desc"===K.value?e.sort(((e,a)=>parseFloat(a.punkty)-parseFloat(e.punkty))):"punkty_asc"===K.value?e.sort(((e,a)=>parseFloat(e.punkty)-parseFloat(a.punkty))):"nazwisko_asc"===K.value?e.sort(((e,a)=>e.nazwisko.localeCompare(a.nazwisko))):"nazwisko_desc"===K.value?e.sort(((e,a)=>a.nazwisko.localeCompare(e.nazwisko))):"klub_asc"===K.value?e.sort(((e,a)=>(e.klub||"").localeCompare(a.klub||""))):"kategoria_asc"===K.value?e.sort(((e,a)=>e.kategoria.localeCompare(a.kategoria))):"starty_desc"===K.value&&e.sort(((e,a)=>parseInt(a.liczba_zawodow)-parseInt(e.liczba_zawodow))),e})),Y=a((()=>{let e=j.value;return N.value&&(e=e.filter((e=>e.kategoria===N.value))),D.value&&(e=e.filter((e=>e.klub===D.value))),P.value&&(e=e.filter((e=>e.plec===P.value))),"punkty_desc"===Q.value?e.sort(((e,a)=>parseFloat(a.punkty_koncowe)-parseFloat(e.punkty_koncowe))):"punkty_asc"===Q.value?e.sort(((e,a)=>parseFloat(e.punkty_koncowe)-parseFloat(a.punkty_koncowe))):"nazwisko_asc"===Q.value?e.sort(((e,a)=>e.nazwisko.localeCompare(a.nazwisko))):"nazwisko_desc"===Q.value?e.sort(((e,a)=>a.nazwisko.localeCompare(e.nazwisko))):"kategoria_asc"===Q.value?e.sort(((e,a)=>e.kategoria.localeCompare(a.kategoria))):"starty_desc"===Q.value?e.sort(((e,a)=>parseInt(a.uczestnictwa)-parseInt(e.uczestnictwa))):"odrzucone_desc"===Q.value&&e.sort(((e,a)=>parseInt(a.odrzucone||0)-parseInt(e.odrzucone||0))),e})),X=a((()=>{let e=C.value;return E.value&&(e=e.filter((e=>parseInt(e.liczba_zawodnikow)>=parseInt(E.value)))),"punkty_desc"===T.value?e.sort(((e,a)=>parseFloat(a.laczne_punkty)-parseFloat(e.laczne_punkty))):"punkty_asc"===T.value?e.sort(((e,a)=>parseFloat(e.laczne_punkty)-parseFloat(a.laczne_punkty))):"srednia_desc"===T.value?e.sort(((e,a)=>parseFloat(a.srednia)-parseFloat(e.srednia))):"srednia_asc"===T.value?e.sort(((e,a)=>parseFloat(e.srednia)-parseFloat(a.srednia))):"zawodnicy_desc"===T.value?e.sort(((e,a)=>parseInt(a.liczba_zawodnikow)-parseInt(e.liczba_zawodnikow))):"zawodnicy_asc"===T.value?e.sort(((e,a)=>parseInt(e.liczba_zawodnikow)-parseInt(a.liczba_zawodnikow))):"nazwa_asc"===T.value?e.sort(((e,a)=>e.klub.localeCompare(a.klub))):"nazwa_desc"===T.value&&e.sort(((e,a)=>a.klub.localeCompare(e.klub))),e})),ee=a((()=>{let e=S.value;return W.value&&(e=e.filter((e=>parseInt(e.aktywne_kategorie)>=parseInt(W.value)))),"punkty_desc"===B.value?e.sort(((e,a)=>parseFloat(a.punkty_top3)-parseFloat(e.punkty_top3))):"punkty_asc"===B.value?e.sort(((e,a)=>parseFloat(e.punkty_top3)-parseFloat(a.punkty_top3))):"kategorie_desc"===B.value?e.sort(((e,a)=>parseInt(a.aktywne_kategorie)-parseInt(e.aktywne_kategorie))):"kategorie_asc"===B.value?e.sort(((e,a)=>parseInt(e.aktywne_kategorie)-parseInt(a.aktywne_kategorie))):"balance_desc"===B.value?e.sort(((e,a)=>parseFloat(a.balance)-parseFloat(e.balance))):"balance_asc"===B.value?e.sort(((e,a)=>parseFloat(e.balance)-parseFloat(a.balance))):"nazwa_asc"===B.value?e.sort(((e,a)=>e.klub.localeCompare(a.klub))):"nazwa_desc"===B.value&&e.sort(((e,a)=>a.klub.localeCompare(e.klub))),e})),ae=a((()=>{let e=A.value;return M.value&&(e=e.filter((e=>parseInt(e.zlote)>=parseInt(M.value)))),"zlote_desc"===V.value?e.sort(((e,a)=>parseInt(a.zlote)-parseInt(e.zlote)||parseInt(a.srebrne)-parseInt(e.srebrne)||parseInt(a.brazowe)-parseInt(e.brazowe))):"zlote_asc"===V.value?e.sort(((e,a)=>parseInt(e.zlote)-parseInt(a.zlote))):"srebrne_desc"===V.value?e.sort(((e,a)=>parseInt(a.srebrne)-parseInt(e.srebrne))):"srebrne_asc"===V.value?e.sort(((e,a)=>parseInt(e.srebrne)-parseInt(a.srebrne))):"brazowe_desc"===V.value?e.sort(((e,a)=>parseInt(a.brazowe)-parseInt(e.brazowe))):"brazowe_asc"===V.value?e.sort(((e,a)=>parseInt(e.brazowe)-parseInt(a.brazowe))):"lacznie_desc"===V.value?e.sort(((e,a)=>parseInt(a.lacznie)-parseInt(e.lacznie))):"lacznie_asc"===V.value?e.sort(((e,a)=>parseInt(e.lacznie)-parseInt(a.lacznie))):"nazwa_asc"===V.value?e.sort(((e,a)=>e.klub.localeCompare(a.klub))):"nazwa_desc"===V.value&&e.sort(((e,a)=>a.klub.localeCompare(e.klub))),e})),te=a((()=>0===_.value.length&&0===j.value.length&&0===C.value.length&&0===A.value.length)),re=async()=>{m.value=!0;try{await Promise.all([le(),se(),ne(),oe()])}catch(e){}finally{m.value=!1}},le=async()=>{const e=await fetch(`/api/rankings/individual?season=${w.value}`);if(e.ok){const a=await e.json();_.value=a}else _.value=[]},se=async()=>{const e=await fetch(`/api/rankings/general?season=${w.value}`);if(e.ok){const a=await e.json();j.value=a}else j.value=[]},ne=async()=>{const[e,a]=await Promise.all([fetch(`/api/rankings/clubs/total?season=${w.value}`),fetch(`/api/rankings/clubs/top3?season=${w.value}`)]);if(e.ok){const a=await e.json();C.value=a}else C.value=[];if(a.ok){const e=await a.json();S.value=e}else S.value=[]},oe=async()=>{const e=await fetch(`/api/rankings/medals?season=${w.value}`);if(e.ok){const a=await e.json();A.value=a}else A.value=[]},ie=()=>{q.value="",O.value="",Z.value="",K.value="pozycja_asc"},de=()=>{N.value="",D.value="",P.value="",Q.value="punkty_desc"},ue=()=>{E.value=null,T.value="punkty_desc"},ce=()=>{W.value=null,B.value="punkty_desc"},ge=()=>{M.value=null,V.value="zlote_desc"},pe=p({kategoria:"",klub:"",plec:"",sortowanie:"pozycja_asc"});return p({kategoria:"",klub:"",plec:"",sortowanie:"punkty_desc"}),p({minZawodnikow:"",sortowanie:"punkty_desc"}),p({minKategorie:"",sortowanie:"punkty_desc"}),p({minZlote:"",sortowanie:"zlote_desc"}),y((()=>{re()})),(e,a)=>(r(),t("div",null,[l("div",tt,[l("div",rt,[u(c($),{class:"h-8 w-8 text-purple-600 dark:text-purple-400"}),a[11]||(a[11]=l("h2",{class:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white"},"Rankingi SKATECROSS",-1))]),l("div",lt,[x(l("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>w.value=e),class:"rounded-lg border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"},a[12]||(a[12]=[l("option",{value:"2025"},"Sezon 2025",-1),l("option",{value:"2024"},"Sezon 2024",-1)]),512),[[v,w.value]]),l("button",{onClick:re,disabled:m.value,class:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-lg text-white bg-purple-600 hover:bg-purple-700 disabled:opacity-50"},[u(c(R),{class:n(["h-4 w-4 mr-2",m.value?"animate-spin":""])},null,8,["class"]),a[13]||(a[13]=g(" Odśwież "))],8,st)])]),l("div",nt,[l("nav",ot,[(r(),t(k,null,b(G,(e=>l("button",{key:e.id,onClick:a=>f.value=e.id,class:n(["whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2",f.value===e.id?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"])},[(r(),s(o(e.icon),{class:"h-5 w-5"})),l("span",null,i(e.name),1),e.count?(r(),t("span",dt,i(e.count),1)):d("",!0)],10,it))),64))])]),m.value?(r(),t("div",ut,[l("div",ct,[u(c(R),{class:"h-8 w-8 text-purple-500 animate-spin mx-auto mb-4"}),a[14]||(a[14]=l("p",{class:"text-gray-600 dark:text-gray-400"},"Ładowanie rankingów...",-1))])])):(r(),t("div",gt,["individual"===f.value?(r(),t("div",pt,[u(at,{config:e.individualFilterConfig,filters:pe.value,data:{categories:e.uniqueCategories,clubs:e.uniqueClubs},onFiltersChange:e.handleIndividualFiltersChange,onClearFilters:ie,onQuickAction:e.handleQuickAction},null,8,["config","filters","data","onFiltersChange","onQuickAction"]),l("div",yt,[l("div",xt,[l("h3",vt,[a[15]||(a[15]=l("span",{class:"mr-2"},"🏆",-1)),a[16]||(a[16]=g(" Klasyfikacja Indywidualna ")),l("span",kt,"("+i(H.value.length)+" pozycji)",1)])]),l("div",bt,[l("table",mt,[a[18]||(a[18]=l("thead",{class:"bg-gray-50 dark:bg-gray-700"},[l("tr",null,[l("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Pozycja"),l("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Zawodnik"),l("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Klub"),l("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Kategoria"),l("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Punkty"),l("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Starty")])],-1)),l("tbody",wt,[0===H.value.length?(r(),t("tr",ft,a[17]||(a[17]=[l("td",{colspan:"6",class:"px-6 py-12 text-center text-gray-500 dark:text-gray-400"}," Brak zawodników spełniających wybrane kryteria ",-1)]))):d("",!0),(r(!0),t(k,null,b(H.value,((e,a)=>(r(),t("tr",{key:e.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[l("td",ht,[0===a?(r(),t("span",zt,"🥇")):1===a?(r(),t("span",_t,"🥈")):2===a?(r(),t("span",jt,"🥉")):(r(),t("span",Ct,i(a+1),1))]),l("td",St,[l("div",At,i(e.imie)+" "+i(e.nazwisko),1)]),l("td",It,i(e.klub),1),l("td",qt,i(e.kategoria),1),l("td",Ot,i(e.punkty)+" pkt",1),l("td",Zt,i(e.liczba_zawodow),1)])))),128))])])])])])):d("",!0),"general"===f.value?(r(),t("div",Ft,[l("div",Kt,[l("div",{class:"flex items-center justify-between mb-6"},[a[20]||(a[20]=l("h3",{class:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white"},"Filtry i sortowanie",-1)),l("button",{onClick:de,class:"text-sm text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 flex items-center space-x-1 transition-colors duration-200"},a[19]||(a[19]=[l("span",null,"🗑️",-1),l("span",null,"Wyczyść filtry",-1)]))]),l("div",Ut,[l("div",null,[a[22]||(a[22]=l("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[l("span",{class:"flex items-center space-x-2"},[l("span",null,"🏆"),l("span",null,"Kategoria")])],-1)),x(l("select",{"onUpdate:modelValue":a[1]||(a[1]=e=>N.value=e),class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},[a[21]||(a[21]=l("option",{value:""},"Wszystkie",-1)),(r(!0),t(k,null,b(L.value,(e=>(r(),t("option",{key:e,value:e},i(e),9,Nt)))),128))],512),[[v,N.value]])]),l("div",null,[a[24]||(a[24]=l("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[l("span",{class:"flex items-center space-x-2"},[l("span",null,"🏢"),l("span",null,"Klub")])],-1)),x(l("select",{"onUpdate:modelValue":a[2]||(a[2]=e=>D.value=e),class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},[a[23]||(a[23]=l("option",{value:""},"Wszystkie",-1)),(r(!0),t(k,null,b(J.value,(e=>(r(),t("option",{key:e,value:e},i(e),9,Dt)))),128))],512),[[v,D.value]])]),l("div",null,[a[26]||(a[26]=l("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[l("span",{class:"flex items-center space-x-2"},[l("span",null,"👥"),l("span",null,"Płeć")])],-1)),x(l("select",{"onUpdate:modelValue":a[3]||(a[3]=e=>P.value=e),class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},a[25]||(a[25]=[l("option",{value:""},"Wszystkie",-1),l("option",{value:"M"},"Mężczyźni",-1),l("option",{value:"K"},"Kobiety",-1)]),512),[[v,P.value]])]),l("div",null,[a[28]||(a[28]=l("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[l("span",{class:"flex items-center space-x-2"},[l("span",null,"🔄"),l("span",null,"Sortowanie")])],-1)),x(l("select",{"onUpdate:modelValue":a[4]||(a[4]=e=>Q.value=e),class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},a[27]||(a[27]=[z('<option value="punkty_desc" data-v-16af53ce>Punkty (malejąco)</option><option value="punkty_asc" data-v-16af53ce>Punkty (rosnąco)</option><option value="nazwisko_asc" data-v-16af53ce>Nazwisko (A-Z)</option><option value="nazwisko_desc" data-v-16af53ce>Nazwisko (Z-A)</option><option value="kategoria_asc" data-v-16af53ce>Kategoria (A-Z)</option><option value="starty_desc" data-v-16af53ce>Starty (malejąco)</option><option value="odrzucone_desc" data-v-16af53ce>Odrzucone (malejąco)</option>',7)]),512),[[v,Q.value]])])])]),a[31]||(a[31]=l("div",{class:"flex items-center justify-between"},[l("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Klasyfikacja Generalna (n-2)"),l("div",{class:"text-sm text-gray-600 dark:text-gray-400"},[l("span",{class:"font-medium"},"Zasada n-2:"),g(" Najlepsze wyniki minus 2 najsłabsze ")])],-1)),l("div",$t,[l("table",Rt,[a[30]||(a[30]=l("thead",{class:"bg-gray-50 dark:bg-gray-700"},[l("tr",null,[l("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Pozycja"),l("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Zawodnik"),l("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Kategoria"),l("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Punkty końcowe"),l("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Starty"),l("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Odrzucone")])],-1)),l("tbody",Pt,[0===Y.value.length?(r(),t("tr",Qt,a[29]||(a[29]=[l("td",{colspan:"6",class:"px-6 py-12 text-center text-gray-500 dark:text-gray-400"}," Brak zawodników spełniających wybrane kryteria ",-1)]))):d("",!0),(r(!0),t(k,null,b(Y.value,((e,a)=>(r(),t("tr",{key:e.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[l("td",Et,[0===a?(r(),t("span",Tt,"🏆")):(r(),t("span",Wt,i(a+1),1))]),l("td",Bt,[l("div",Mt,i(e.imie)+" "+i(e.nazwisko),1),l("div",Vt,i(e.klub),1)]),l("td",Gt,i(e.kategoria),1),l("td",Lt,i(e.punkty_koncowe)+" pkt",1),l("td",Jt,i(e.uczestnictwa),1),l("td",Ht,i(e.odrzucone||0),1)])))),128))])])])])):d("",!0),"clubs-total"===f.value?(r(),t("div",Yt,[l("div",Xt,[l("div",{class:"flex items-center justify-between mb-6"},[a[33]||(a[33]=l("h3",{class:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white"},"Filtry i sortowanie",-1)),l("button",{onClick:ue,class:"text-sm text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 flex items-center space-x-1 transition-colors duration-200"},a[32]||(a[32]=[l("span",null,"🗑️",-1),l("span",null,"Wyczyść filtry",-1)]))]),l("div",er,[l("div",null,[a[34]||(a[34]=l("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[l("span",{class:"flex items-center space-x-2"},[l("span",null,"👥"),l("span",null,"Min. zawodników")])],-1)),x(l("input",{"onUpdate:modelValue":a[5]||(a[5]=e=>E.value=e),type:"number",min:"1",placeholder:"Minimalna liczba",class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},null,512),[[h,E.value]])]),l("div",null,[a[36]||(a[36]=l("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[l("span",{class:"flex items-center space-x-2"},[l("span",null,"🔄"),l("span",null,"Sortowanie")])],-1)),x(l("select",{"onUpdate:modelValue":a[6]||(a[6]=e=>T.value=e),class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},a[35]||(a[35]=[z('<option value="punkty_desc" data-v-16af53ce>Punkty (malejąco)</option><option value="punkty_asc" data-v-16af53ce>Punkty (rosnąco)</option><option value="srednia_desc" data-v-16af53ce>Średnia (malejąco)</option><option value="srednia_asc" data-v-16af53ce>Średnia (rosnąco)</option><option value="zawodnicy_desc" data-v-16af53ce>Zawodnicy (malejąco)</option><option value="zawodnicy_asc" data-v-16af53ce>Zawodnicy (rosnąco)</option><option value="nazwa_asc" data-v-16af53ce>Nazwa (A-Z)</option><option value="nazwa_desc" data-v-16af53ce>Nazwa (Z-A)</option>',8)]),512),[[v,T.value]])])])]),a[39]||(a[39]=l("div",{class:"flex items-center justify-between"},[l("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Klasyfikacja Klubowa - Suma Punktów"),l("div",{class:"text-sm text-gray-600 dark:text-gray-400"}," Wszystkie punkty zawodników klubu ")],-1)),l("div",ar,[l("table",tr,[a[38]||(a[38]=l("thead",{class:"bg-gray-50 dark:bg-gray-700"},[l("tr",null,[l("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Pozycja"),l("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Klub"),l("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Łączne punkty"),l("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Zawodnicy"),l("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Średnia")])],-1)),l("tbody",rr,[0===X.value.length?(r(),t("tr",lr,a[37]||(a[37]=[l("td",{colspan:"5",class:"px-6 py-12 text-center text-gray-500 dark:text-gray-400"}," Brak klubów spełniających wybrane kryteria ",-1)]))):d("",!0),(r(!0),t(k,null,b(X.value,((e,a)=>(r(),t("tr",{key:e.klub,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[l("td",sr,[0===a?(r(),t("span",nr,"🏆")):1===a?(r(),t("span",or,"🥈")):2===a?(r(),t("span",ir,"🥉")):(r(),t("span",dr,i(a+1),1))]),l("td",ur,i(e.klub),1),l("td",cr,i(e.laczne_punkty)+" pkt",1),l("td",gr,i(e.liczba_zawodnikow),1),l("td",pr,i(parseFloat(e.srednia).toFixed(1))+" pkt",1)])))),128))])])])])):d("",!0),"clubs-top3"===f.value?(r(),t("div",yr,[l("div",xr,[l("div",{class:"flex items-center justify-between mb-6"},[a[41]||(a[41]=l("h3",{class:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white"},"Filtry i sortowanie",-1)),l("button",{onClick:ce,class:"text-sm text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 flex items-center space-x-1 transition-colors duration-200"},a[40]||(a[40]=[l("span",null,"🗑️",-1),l("span",null,"Wyczyść filtry",-1)]))]),l("div",vr,[l("div",null,[a[42]||(a[42]=l("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[l("span",{class:"flex items-center space-x-2"},[l("span",null,"🏆"),l("span",null,"Min. aktywnych kategorii")])],-1)),x(l("input",{"onUpdate:modelValue":a[7]||(a[7]=e=>W.value=e),type:"number",min:"1",placeholder:"Minimalna liczba",class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},null,512),[[h,W.value]])]),l("div",null,[a[44]||(a[44]=l("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[l("span",{class:"flex items-center space-x-2"},[l("span",null,"🔄"),l("span",null,"Sortowanie")])],-1)),x(l("select",{"onUpdate:modelValue":a[8]||(a[8]=e=>B.value=e),class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},a[43]||(a[43]=[z('<option value="punkty_desc" data-v-16af53ce>Punkty Top 3 (malejąco)</option><option value="punkty_asc" data-v-16af53ce>Punkty Top 3 (rosnąco)</option><option value="kategorie_desc" data-v-16af53ce>Kategorie (malejąco)</option><option value="kategorie_asc" data-v-16af53ce>Kategorie (rosnąco)</option><option value="balance_desc" data-v-16af53ce>Równowaga (malejąco)</option><option value="balance_asc" data-v-16af53ce>Równowaga (rosnąco)</option><option value="nazwa_asc" data-v-16af53ce>Nazwa (A-Z)</option><option value="nazwa_desc" data-v-16af53ce>Nazwa (Z-A)</option>',8)]),512),[[v,B.value]])])])]),a[47]||(a[47]=l("div",{class:"flex items-center justify-between"},[l("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Klasyfikacja Klubowa - Top 3"),l("div",{class:"text-sm text-gray-600 dark:text-gray-400"}," 3 najlepszych zawodników z każdej kategorii ")],-1)),l("div",kr,[l("table",br,[a[46]||(a[46]=l("thead",{class:"bg-gray-50 dark:bg-gray-700"},[l("tr",null,[l("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Pozycja"),l("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Klub"),l("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Punkty Top 3"),l("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Kategorie"),l("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Równowaga")])],-1)),l("tbody",mr,[0===ee.value.length?(r(),t("tr",wr,a[45]||(a[45]=[l("td",{colspan:"5",class:"px-6 py-12 text-center text-gray-500 dark:text-gray-400"}," Brak klubów spełniających wybrane kryteria ",-1)]))):d("",!0),(r(!0),t(k,null,b(ee.value,((e,a)=>(r(),t("tr",{key:e.klub,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[l("td",fr,i(a+1),1),l("td",hr,i(e.klub),1),l("td",zr,i(e.punkty_top3)+" pkt",1),l("td",_r,i(e.aktywne_kategorie),1),l("td",jr,i(e.balance),1)])))),128))])])])])):d("",!0),"medals"===f.value?(r(),t("div",Cr,[l("div",Sr,[l("div",{class:"flex items-center justify-between mb-6"},[a[49]||(a[49]=l("h3",{class:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white"},"Filtry i sortowanie",-1)),l("button",{onClick:ge,class:"text-sm text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 flex items-center space-x-1 transition-colors duration-200"},a[48]||(a[48]=[l("span",null,"🗑️",-1),l("span",null,"Wyczyść filtry",-1)]))]),l("div",Ar,[l("div",null,[a[50]||(a[50]=l("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[l("span",{class:"flex items-center space-x-2"},[l("span",null,"🥇"),l("span",null,"Min. złotych medali")])],-1)),x(l("input",{"onUpdate:modelValue":a[9]||(a[9]=e=>M.value=e),type:"number",min:"0",placeholder:"Minimalna liczba",class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},null,512),[[h,M.value]])]),l("div",null,[a[52]||(a[52]=l("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[l("span",{class:"flex items-center space-x-2"},[l("span",null,"🔄"),l("span",null,"Sortowanie")])],-1)),x(l("select",{"onUpdate:modelValue":a[10]||(a[10]=e=>V.value=e),class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},a[51]||(a[51]=[z('<option value="zlote_desc" data-v-16af53ce>Złote (malejąco)</option><option value="zlote_asc" data-v-16af53ce>Złote (rosnąco)</option><option value="srebrne_desc" data-v-16af53ce>Srebrne (malejąco)</option><option value="srebrne_asc" data-v-16af53ce>Srebrne (rosnąco)</option><option value="brazowe_desc" data-v-16af53ce>Brązowe (malejąco)</option><option value="brazowe_asc" data-v-16af53ce>Brązowe (rosnąco)</option><option value="lacznie_desc" data-v-16af53ce>Łącznie (malejąco)</option><option value="lacznie_asc" data-v-16af53ce>Łącznie (rosnąco)</option><option value="nazwa_asc" data-v-16af53ce>Nazwa (A-Z)</option><option value="nazwa_desc" data-v-16af53ce>Nazwa (Z-A)</option>',10)]),512),[[v,V.value]])])])]),a[55]||(a[55]=l("div",{class:"flex items-center justify-between"},[l("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Klasyfikacja Medalowa"),l("div",{class:"text-sm text-gray-600 dark:text-gray-400"}," Złote, srebrne i brązowe medale ")],-1)),l("div",Ir,[l("table",qr,[a[54]||(a[54]=l("thead",{class:"bg-gray-50 dark:bg-gray-700"},[l("tr",null,[l("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Pozycja"),l("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Klub"),l("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"🥇 Złote"),l("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"🥈 Srebrne"),l("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"🥉 Brązowe"),l("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Łącznie")])],-1)),l("tbody",Or,[0===ae.value.length?(r(),t("tr",Zr,a[53]||(a[53]=[l("td",{colspan:"6",class:"px-6 py-12 text-center text-gray-500 dark:text-gray-400"}," Brak klubów spełniających wybrane kryteria ",-1)]))):d("",!0),(r(!0),t(k,null,b(ae.value,((e,a)=>(r(),t("tr",{key:e.klub,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[l("td",Fr,i(a+1),1),l("td",Kr,i(e.klub),1),l("td",Ur,i(e.zlote),1),l("td",Nr,i(e.srebrne),1),l("td",Dr,i(e.brazowe),1),l("td",$r,i(e.lacznie),1)])))),128))])])])])):d("",!0)])),!m.value&&te.value?(r(),t("div",Rr,[u(c($),{class:"h-16 w-16 text-gray-300 mx-auto mb-4"}),a[57]||(a[57]=l("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"},"Brak danych rankingowych",-1)),a[58]||(a[58]=l("p",{class:"text-gray-600 dark:text-gray-400 mb-6"}," Rankingi będą dostępne po zakończeniu pierwszych zawodów w sezonie. ",-1)),l("button",{onClick:re,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg text-white bg-purple-600 hover:bg-purple-700"},[u(c(R),{class:"h-4 w-4 mr-2"}),a[56]||(a[56]=g(" Sprawdź ponownie "))])])):d("",!0)]))}}),Qr=va(Pr,[["__scopeId","data-v-16af53ce"]]),Er={class:"space-y-6"},Tr={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 space-y-4 sm:space-y-0"},Wr={class:"flex items-center space-x-3"},Br={class:"flex space-x-2"},Mr=["disabled"],Vr={class:"bg-white dark:bg-gray-800 shadow rounded-lg p-6"},Gr={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},Lr={class:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg"},Jr={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},Hr={class:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg"},Yr={class:"text-2xl font-bold text-green-600 dark:text-green-400"},Xr={class:"bg-orange-50 dark:bg-orange-900/20 p-4 rounded-lg"},el={class:"text-2xl font-bold text-orange-600 dark:text-orange-400"},al={class:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg"},tl={class:"text-2xl font-bold text-purple-600 dark:text-purple-400"},rl={key:0,class:"bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-400 p-4 rounded-lg"},ll={class:"flex"},sl={class:"ml-3"},nl={class:"text-sm font-medium text-yellow-800 dark:text-yellow-200"},ol={class:"mt-2 text-sm text-yellow-700 dark:text-yellow-300"},il={class:"list-disc list-inside space-y-1"},dl={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},ul={class:"bg-white dark:bg-gray-800 shadow rounded-lg p-6"},cl={class:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center"},gl={class:"ml-2 text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-full"},pl={class:"space-y-3 max-h-80 overflow-y-auto"},yl={class:"flex items-center space-x-3"},xl={class:"w-10 h-10 bg-indigo-100 dark:bg-indigo-900 rounded-full flex items-center justify-center"},vl={class:"text-sm font-medium text-indigo-600 dark:text-indigo-400"},kl={class:"text-sm font-medium text-gray-900 dark:text-white"},bl={class:"text-xs text-gray-500 dark:text-gray-400"},ml={class:"text-right"},wl={class:"text-xs text-gray-500 dark:text-gray-400"},fl={class:"text-xs text-gray-400 dark:text-gray-500"},hl={class:"bg-white dark:bg-gray-800 shadow rounded-lg p-6"},zl={class:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center"},_l={class:"ml-2 text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-full"},jl={class:"space-y-3"},Cl={class:"flex items-center space-x-3"},Sl={class:"text-sm font-medium text-gray-900 dark:text-white"},Al={class:"text-xs text-gray-500 dark:text-gray-400"},Il={class:"text-right"},ql={class:"text-xs text-gray-500 dark:text-gray-400"},Ol={class:"flex space-x-1 text-xs"},Zl={class:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-1 rounded"},Fl={class:"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 px-2 py-1 rounded"},Kl={class:"bg-white dark:bg-gray-800 shadow rounded-lg p-6"},Ul={class:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center"},Nl={class:"overflow-x-auto"},Dl={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},$l={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Rl={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},Pl={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"},Ql={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"},El={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"},Tl={class:"px-6 py-4 whitespace-nowrap"},Wl={class:"flex items-center"},Bl={class:"w-16 bg-gray-200 dark:bg-gray-700 rounded-full h-2"},Ml={class:"ml-2 text-sm text-gray-500 dark:text-gray-300"},Vl={key:1,class:"bg-white dark:bg-gray-800 shadow rounded-lg p-6"},Gl={class:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center"},Ll={class:"space-y-2"},Jl={class:"text-sm font-medium text-gray-600 dark:text-gray-300 w-20"},Hl={class:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-4 relative"},Yl={class:"text-sm text-gray-500 dark:text-gray-400 w-24 text-right"},Xl={class:"bg-white dark:bg-gray-800 shadow rounded-lg p-6"},es={class:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center"},as={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},ts={class:"text-xs text-gray-500"},rs={class:"bg-white dark:bg-gray-800 shadow rounded-lg p-6"},ls={class:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center"},ss={class:"bg-orange-50 dark:bg-orange-900/20 border-l-4 border-orange-400 p-4 mb-6"},ns={class:"flex"},os={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},is={class:"space-y-4"},ds=["disabled"],us=["disabled"],cs={key:0},gs=["disabled"],ps=["disabled"],ys={class:"space-y-4"},xs={key:0,class:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"},vs={class:"flex items-center space-x-4 mb-3"},ks={class:"w-12 h-12 bg-indigo-100 dark:bg-indigo-900 rounded-full flex items-center justify-center"},bs={class:"text-lg font-bold text-indigo-600 dark:text-indigo-400"},ms={class:"text-lg font-medium text-gray-900 dark:text-white"},ws={class:"text-sm text-gray-500 dark:text-gray-400"},fs={class:"grid grid-cols-2 gap-3 text-sm"},hs={class:"font-medium text-gray-900 dark:text-white"},zs={class:"flex items-center mt-1"},_s={key:0,class:"inline-flex items-center px-2 py-1 text-xs bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded-full"},js={key:1,class:"inline-flex items-center px-2 py-1 text-xs bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 rounded-full"},Cs={class:"font-medium text-gray-900 dark:text-white"},Ss={class:"font-medium text-gray-900 dark:text-white"},As={key:0,class:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-600"},Is={class:"text-xs text-gray-500 dark:text-gray-400"},qs={key:1,class:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg"},Os={class:"flex"},Zs={class:"ml-3"},Fs={class:"text-sm text-red-700 dark:text-red-300 mt-1"},Ks={key:2,class:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"},Us={key:3,class:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg text-center"},Ns={key:0,class:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700"},Ds={class:"text-md font-medium text-gray-900 dark:text-white mb-4"},$s={class:"space-y-2 max-h-40 overflow-y-auto"},Rs={class:"flex items-center space-x-3"},Ps={class:"w-8 h-8 bg-orange-100 dark:bg-orange-900 rounded-full flex items-center justify-center"},Qs={class:"text-sm font-medium text-orange-600 dark:text-orange-400"},Es={class:"text-sm font-medium text-gray-900 dark:text-white"},Ts={class:"text-xs text-gray-500 dark:text-gray-400"},Ws={class:"text-xs text-gray-500 dark:text-gray-400"},Bs=e({__name:"QrAdminDashboard",setup(e){const o=p(!1),m=p({total_zawodnikow:0,z_qr_kodami:0,zameldowanych:0,bez_qr_kodow:0,procent_zameldowanych:0}),f=p([]),C=p([]),S=p([]),I=p([]),q=p([]),Z=p({nr_startowy:0,powod:"",opis:""}),F=p(!1),U=p(null),D=p(!1),G=p([]);let L=null,J=null;const H=a((()=>0===I.value.length?1:Math.max(...I.value.map((e=>Math.max(e.check_ins,e.results)))))),Y=a((()=>Z.value.nr_startowy>0&&""!==Z.value.powod&&null!==U.value&&!U.value.checked_in));w((()=>Z.value.nr_startowy),(e=>{J&&clearTimeout(J),e&&e>0?J=setTimeout((()=>{ne(e)}),500):U.value=null}));const X=async()=>{try{o.value=!0;const e=await A.get("/api/qr/dashboard");e.data.success&&(m.value=e.data.basic_stats,f.value=e.data.recent_checkpoints,C.value=e.data.device_activity,S.value=e.data.category_stats,I.value=e.data.hourly_progress,q.value=e.data.issues)}catch(e){}finally{o.value=!1}},ee=()=>{X()},ae=async()=>{try{window.open("/api/qr/export","_blank")}catch(e){}},te=async()=>{alert("Funkcja w przygotowaniu")},re=async()=>{confirm("Czy na pewno chcesz zresetować wszystkie check-iny? Ta operacja jest nieodwracalna.")&&alert("Funkcja w przygotowaniu")},le=()=>{alert("Funkcja w przygotowaniu")},se=e=>new Date(e).toLocaleTimeString("pl-PL",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),ne=async e=>{if(!e||e<=0)U.value=null;else try{D.value=!0;const a=await A.get(`/api/zawodnicy/${e}`);a.data.success?U.value=a.data.zawodnik:U.value=null}catch(a){U.value=null}finally{D.value=!1}},oe=async()=>{var e,a,t,r,l,s,n,o,i,d,u;if(Y.value)try{F.value=!0;const d={nr_startowy:Z.value.nr_startowy,device_id:"manual-admin",manual:!0,reason:Z.value.powod,description:Z.value.opis||null},u=await A.post("/api/qr/check-in",d);u.data.success?(await X(),await ne(Z.value.nr_startowy),G.value.unshift({nr_startowy:Z.value.nr_startowy,imie:(null==(e=U.value)?void 0:e.imie)||"",nazwisko:(null==(a=U.value)?void 0:a.nazwisko)||"",kategoria:(null==(t=U.value)?void 0:t.kategoria)||"",checked_in:!0,check_in_time:(new Date).toISOString(),qr_code:(null==(r=U.value)?void 0:r.qr_code)||!1,ma_wynik:(null==(l=U.value)?void 0:l.ma_wynik)||!1,klub:(null==(s=U.value)?void 0:s.klub)||"",plec:(null==(n=U.value)?void 0:n.plec)||"",powod:Z.value.powod,timestamp:(new Date).toISOString()}),Z.value={nr_startowy:0,powod:"",opis:""},alert(`✅ Zawodnik ${null==(o=U.value)?void 0:o.imie} ${null==(i=U.value)?void 0:i.nazwisko} został pomyślnie zameldowany ręcznie.`)):alert(`❌ Błąd podczas zameldowania: ${u.data.message}`)}catch(c){const e=(null==(u=null==(d=c.response)?void 0:d.data)?void 0:u.message)||"Nieznany błąd serwera";alert(`❌ Błąd podczas zameldowania: ${e}`)}finally{F.value=!1}};return y((()=>{X(),(async()=>{try{const e=await A.get("/api/qr/manual-checkins");e.data.success&&(G.value=e.data.manual_checkins)}catch(e){}})(),L=setInterval(X,1e4)})),_((()=>{L&&clearInterval(L),J&&clearTimeout(J)})),(e,a)=>(r(),t("div",Er,[l("div",Tr,[l("div",Wr,[u(c(P),{class:"h-8 w-8 text-indigo-600"}),a[3]||(a[3]=l("h2",{class:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white"},"QR Admin Dashboard",-1))]),l("div",Br,[l("button",{onClick:ee,disabled:o.value,class:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 flex items-center"},[u(c(R),{class:n(["h-4 w-4 mr-2",{"animate-spin":o.value}])},null,8,["class"]),a[4]||(a[4]=g(" Odśwież "))],8,Mr),l("button",{onClick:ae,class:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center"},[u(c(Q),{class:"h-4 w-4 mr-2"}),a[5]||(a[5]=g(" Eksport CSV "))])])]),l("div",Vr,[l("div",Gr,[l("div",Lr,[l("div",Jr,i(m.value.total_zawodnikow||0),1),a[6]||(a[6]=l("div",{class:"text-sm text-blue-700 dark:text-blue-300"},"Wszyscy zawodnicy",-1))]),l("div",Hr,[l("div",Yr,i(m.value.z_qr_kodami||0),1),a[7]||(a[7]=l("div",{class:"text-sm text-green-700 dark:text-green-300"},"Z QR kodami",-1))]),l("div",Xr,[l("div",el,i(m.value.zameldowanych||0),1),a[8]||(a[8]=l("div",{class:"text-sm text-orange-700 dark:text-orange-300"},"Zameldowanych",-1))]),l("div",al,[l("div",tl,i(m.value.procent_zameldowanych||0)+"% ",1),a[9]||(a[9]=l("div",{class:"text-sm text-purple-700 dark:text-purple-300"},"% zameldowanych",-1))])])]),q.value.length>0?(r(),t("div",rl,[l("div",ll,[u(c(K),{class:"h-5 w-5 text-yellow-400"}),l("div",sl,[l("h3",nl," Wykryto problemy ("+i(q.value.length)+") ",1),l("div",ol,[l("ul",il,[(r(!0),t(k,null,b(q.value,(e=>(r(),t("li",{key:e.type},i(e.title)+": "+i(e.count),1)))),128))])])])])])):d("",!0),l("div",dl,[l("div",ul,[l("h2",cl,[u(c(O),{class:"h-5 w-5 mr-2 text-gray-500"}),a[10]||(a[10]=g(" Ostatnia aktywność ")),l("span",gl,i(f.value.length),1)]),l("div",pl,[(r(!0),t(k,null,b(f.value.slice(0,10),(e=>{return r(),t("div",{key:`${e.nr_startowy}-${e.scan_time}`,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg"},[l("div",yl,[l("div",xl,[l("span",vl,i(e.nr_startowy),1)]),l("div",null,[l("div",kl,i(e.imie)+" "+i(e.nazwisko),1),l("div",bl,i(e.kategoria)+" • "+i((a=e.checkpoint_name,{"check-in":"Zameldowanie",finish:"Meta",verify:"Weryfikacja"}[a]||a)),1)])]),l("div",ml,[l("div",wl,i(se(e.scan_time)),1),l("div",fl,i(e.device_id),1)])]);var a})),128))])]),l("div",hl,[l("h2",zl,[u(c(E),{class:"h-5 w-5 mr-2 text-gray-500"}),a[11]||(a[11]=g(" Aktywne urządzenia ")),l("span",_l,i(C.value.length),1)]),l("div",jl,[(r(!0),t(k,null,b(C.value,(e=>(r(),t("div",{key:e.device_id,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg"},[l("div",Cl,[a[12]||(a[12]=l("div",{class:"w-3 h-3 bg-green-400 rounded-full animate-pulse"},null,-1)),l("div",null,[l("div",Sl,i(e.device_id),1),l("div",Al,i(e.total_scans)+" skanów • "+i(e.unique_zawodnicy)+" zawodników ",1)])]),l("div",Il,[l("div",ql,i(se(e.last_activity)),1),l("div",Ol,[l("span",Zl,i(e.check_ins)+" check-in ",1),l("span",Fl,i(e.results)+" wyniki ",1)])])])))),128))])])]),l("div",Kl,[l("h2",Ul,[u(c($),{class:"h-5 w-5 mr-2 text-gray-500"}),a[13]||(a[13]=g(" Statystyki według kategorii "))]),l("div",Nl,[l("table",Dl,[a[14]||(a[14]=l("thead",{class:"bg-gray-50 dark:bg-gray-700"},[l("tr",null,[l("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Kategoria "),l("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Łącznie "),l("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Zameldowanych "),l("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Z wynikami "),l("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Postęp ")])],-1)),l("tbody",$l,[(r(!0),t(k,null,b(S.value,(e=>(r(),t("tr",{key:e.kategoria},[l("td",Rl,i(e.kategoria),1),l("td",Pl,i(e.total),1),l("td",Ql,i(e.zameldowanych),1),l("td",El,i(e.z_wynikami),1),l("td",Tl,[l("div",Wl,[l("div",Bl,[l("div",{class:"bg-indigo-600 h-2 rounded-full transition-all duration-300",style:j({width:`${Math.round(e.z_wynikami/e.total*100)}%`})},null,4)]),l("span",Ml,i(Math.round(e.z_wynikami/e.total*100))+"% ",1)])])])))),128))])])])]),I.value.length>0?(r(),t("div",Vl,[l("h2",Gl,[u(c($),{class:"h-5 w-5 mr-2 text-gray-500"}),a[15]||(a[15]=g(" Postęp w ciągu dnia "))]),l("div",Ll,[(r(!0),t(k,null,b(I.value,(e=>{return r(),t("div",{key:e.hour,class:"flex items-center space-x-4"},[l("div",Jl,i((a=e.hour,new Date(a).toLocaleTimeString("pl-PL",{hour:"2-digit",minute:"2-digit"}))),1),l("div",Hl,[l("div",{class:"bg-blue-500 h-full rounded-full transition-all duration-300",style:j({width:`${Math.min(e.check_ins/H.value*100,100)}%`})},null,4),l("div",{class:"bg-green-500 h-full rounded-full absolute top-0 transition-all duration-300",style:j({width:`${Math.min(e.results/H.value*100,100)}%`,left:`${Math.min(e.check_ins/H.value*100,100)}%`})},null,4)]),l("div",Yl,i(e.check_ins)+" / "+i(e.results),1)]);var a})),128))]),a[16]||(a[16]=z('<div class="flex items-center space-x-4 mt-4 text-xs text-gray-500"><div class="flex items-center"><div class="w-3 h-3 bg-blue-500 rounded-full mr-2"></div> Check-ins </div><div class="flex items-center"><div class="w-3 h-3 bg-green-500 rounded-full mr-2"></div> Wyniki </div></div>',1))])):d("",!0),l("div",Xl,[l("h2",es,[u(c(T),{class:"h-5 w-5 mr-2 text-gray-500"}),a[17]||(a[17]=g(" Narzędzia diagnostyczne "))]),l("div",as,[l("button",{onClick:te,class:"p-4 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg hover:border-indigo-400 transition-colors"},[u(c(P),{class:"h-8 w-8 mx-auto text-gray-400 mb-2"}),a[18]||(a[18]=l("div",{class:"text-sm font-medium text-gray-600 dark:text-gray-300"}," Generuj brakujące QR ",-1)),l("div",ts,i(m.value.bez_qr_kodow)+" zawodników ",1)]),l("button",{onClick:re,class:"p-4 border-2 border-dashed border-red-300 dark:border-red-600 rounded-lg hover:border-red-400 transition-colors"},[u(c(R),{class:"h-8 w-8 mx-auto text-red-400 mb-2"}),a[19]||(a[19]=l("div",{class:"text-sm font-medium text-red-600 dark:text-red-300"}," Reset check-inów ",-1)),a[20]||(a[20]=l("div",{class:"text-xs text-red-500"}," Usuń wszystkie meldunki ",-1))]),l("button",{onClick:le,class:"p-4 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg hover:border-indigo-400 transition-colors"},[u(c(W),{class:"h-8 w-8 mx-auto text-gray-400 mb-2"}),a[21]||(a[21]=l("div",{class:"text-sm font-medium text-gray-600 dark:text-gray-300"}," Logi systemu ",-1)),a[22]||(a[22]=l("div",{class:"text-xs text-gray-500"}," Ostatnie wydarzenia ",-1))])])]),l("div",rs,[l("h2",ls,[u(c(B),{class:"h-5 w-5 mr-2 text-orange-500"}),a[23]||(a[23]=g(" Ręczne zameldowanie ")),a[24]||(a[24]=l("span",{class:"ml-2 text-xs bg-orange-100 dark:bg-orange-900 text-orange-800 dark:text-orange-200 px-2 py-1 rounded-full"}," BACKUP ",-1))]),l("div",ss,[l("div",ns,[u(c(K),{class:"h-5 w-5 text-orange-400"}),a[25]||(a[25]=l("div",{class:"ml-3"},[l("p",{class:"text-sm text-orange-700 dark:text-orange-300"},[l("strong",null,"Uwaga:"),g(' Używaj tylko gdy skaner QR nie działa lub w sytuacjach awaryjnych. Każde ręczne zameldowanie jest rejestrowane z identyfikatorem urządzenia "manual-admin". ')])],-1))])]),l("div",os,[l("div",is,[a[30]||(a[30]=l("h3",{class:"text-md font-medium text-gray-900 dark:text-white"},"Zamelduj zawodnika",-1)),l("div",null,[a[26]||(a[26]=l("label",{for:"nr_startowy",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Numer startowy ",-1)),x(l("input",{id:"nr_startowy","onUpdate:modelValue":a[0]||(a[0]=e=>Z.value.nr_startowy=e),type:"number",min:"1",disabled:F.value,class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Wprowadź numer startowy..."},null,8,ds),[[h,Z.value.nr_startowy]])]),l("div",null,[a[28]||(a[28]=l("label",{for:"powod",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Powód ręcznego zameldowania ",-1)),x(l("select",{id:"powod","onUpdate:modelValue":a[1]||(a[1]=e=>Z.value.powod=e),disabled:F.value,class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent dark:bg-gray-700 dark:text-white"},a[27]||(a[27]=[z('<option value="">Wybierz powód...</option><option value="awaria_skanera">Awaria skanera QR</option><option value="brak_kodu">Brak/uszkodzony kod QR</option><option value="problem_techniczny">Problem techniczny</option><option value="decyzja_organizatora">Decyzja organizatora</option><option value="inne">Inne</option>',6)]),8,us),[[v,Z.value.powod]])]),"inne"===Z.value.powod?(r(),t("div",cs,[a[29]||(a[29]=l("label",{for:"opis",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Opis szczegółowy ",-1)),x(l("textarea",{id:"opis","onUpdate:modelValue":a[2]||(a[2]=e=>Z.value.opis=e),rows:"2",disabled:F.value,class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Opisz powód ręcznego zameldowania..."},null,8,gs),[[h,Z.value.opis]])])):d("",!0),l("button",{onClick:oe,disabled:!Y.value||F.value,class:"w-full px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center"},[F.value?d("",!0):(r(),s(c(M),{key:0,class:"h-4 w-4 mr-2"})),F.value?(r(),s(c(R),{key:1,class:"h-4 w-4 mr-2 animate-spin"})):d("",!0),g(" "+i(F.value?"Meldowanie...":"Zamelduj zawodnika"),1)],8,ps)]),l("div",ys,[a[40]||(a[40]=l("h3",{class:"text-md font-medium text-gray-900 dark:text-white"},"Podgląd zawodnika",-1)),U.value?(r(),t("div",xs,[l("div",vs,[l("div",ks,[l("span",bs,i(U.value.nr_startowy),1)]),l("div",null,[l("div",ms,i(U.value.imie)+" "+i(U.value.nazwisko),1),l("div",ws,i(U.value.kategoria)+" • "+i("M"===U.value.plec?"Mężczyzna":"Kobieta"),1)])]),l("div",fs,[l("div",null,[a[31]||(a[31]=l("span",{class:"text-gray-500 dark:text-gray-400"},"Klub:",-1)),l("div",hs,i(U.value.klub||"Brak danych"),1)]),l("div",null,[a[34]||(a[34]=l("span",{class:"text-gray-500 dark:text-gray-400"},"Status:",-1)),l("div",zs,[U.value.checked_in?(r(),t("span",_s,[u(c(M),{class:"h-3 w-3 mr-1"}),a[32]||(a[32]=g(" Zameldowany "))])):(r(),t("span",js,[u(c(V),{class:"h-3 w-3 mr-1"}),a[33]||(a[33]=g(" Nie zameldowany "))]))])]),l("div",null,[a[35]||(a[35]=l("span",{class:"text-gray-500 dark:text-gray-400"},"QR kod:",-1)),l("div",Cs,i(U.value.qr_code?"Dostępny":"Brak"),1)]),l("div",null,[a[36]||(a[36]=l("span",{class:"text-gray-500 dark:text-gray-400"},"Wynik:",-1)),l("div",Ss,i(U.value.ma_wynik?"Tak":"Nie"),1)])]),U.value.checked_in&&U.value.check_in_time?(r(),t("div",As,[l("span",Is," Zameldowany: "+i(se(U.value.check_in_time)),1)])):d("",!0)])):Z.value.nr_startowy&&!D.value?(r(),t("div",qs,[l("div",Os,[u(c(V),{class:"h-5 w-5 text-red-400"}),l("div",Zs,[a[37]||(a[37]=l("h3",{class:"text-sm font-medium text-red-800 dark:text-red-200"}," Zawodnik nie znaleziony ",-1)),l("p",Fs," Nie znaleziono zawodnika z numerem startowym "+i(Z.value.nr_startowy)+". ",1)])])])):D.value?(r(),t("div",Ks,a[38]||(a[38]=[z('<div class="animate-pulse"><div class="flex items-center space-x-4"><div class="w-12 h-12 bg-gray-300 dark:bg-gray-600 rounded-full"></div><div class="space-y-2"><div class="h-4 bg-gray-300 dark:bg-gray-600 rounded w-32"></div><div class="h-3 bg-gray-300 dark:bg-gray-600 rounded w-24"></div></div></div></div>',1)]))):(r(),t("div",Us,[u(c(N),{class:"h-12 w-12 mx-auto text-gray-400 mb-2"}),a[39]||(a[39]=l("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Wprowadź numer startowy, aby zobaczyć podgląd zawodnika ",-1))]))])]),G.value.length>0?(r(),t("div",Ns,[l("h3",Ds," Ostatnie ręczne zameldowania ("+i(G.value.length)+") ",1),l("div",$s,[(r(!0),t(k,null,b(G.value.slice(0,5),(e=>{return r(),t("div",{key:`manual-${e.nr_startowy}-${e.timestamp}`,class:"flex items-center justify-between p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg"},[l("div",Rs,[l("div",Ps,[l("span",Qs,i(e.nr_startowy),1)]),l("div",null,[l("div",Es,i(e.imie)+" "+i(e.nazwisko),1),l("div",Ts,i((a=e.powod,{awaria_skanera:"Awaria skanera QR",brak_kodu:"Brak/uszkodzony kod QR",problem_techniczny:"Problem techniczny",decyzja_organizatora:"Decyzja organizatora",inne:"Inne"}[a]||a)),1)])]),l("div",Ws,i(se(e.timestamp)),1)]);var a})),128))])])):d("",!0)])]))}}),Ms={},Vs={class:"p-4 sm:p-6"},Gs={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 space-y-4 sm:space-y-0"},Ls={class:"flex items-center space-x-3"},Js={class:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3"},Hs=["disabled"],Ys=["disabled"],Xs={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4 sm:p-6 mb-6 transition-colors duration-200"},en={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"},an=["value"],tn=["value"],rn={value:"with_qr"},ln={value:"without_qr"},sn={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6"},nn={class:"border-t border-gray-200 dark:border-gray-700 pt-6"},on={class:"flex flex-wrap gap-3"},dn=["disabled"],un=["disabled"],cn=["disabled"],gn=["disabled"],pn={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6"},yn={class:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800 transition-colors duration-200"},xn={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},vn={class:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border border-green-200 dark:border-green-800 transition-colors duration-200"},kn={class:"text-2xl font-bold text-green-600 dark:text-green-400"},bn={class:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg border border-purple-200 dark:border-purple-800 transition-colors duration-200"},mn={class:"text-2xl font-bold text-purple-600 dark:text-purple-400"},wn={class:"bg-orange-50 dark:bg-orange-900/20 p-4 rounded-lg border border-orange-200 dark:border-orange-800 transition-colors duration-200"},fn={class:"text-2xl font-bold text-orange-600 dark:text-orange-400"},hn={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 transition-colors duration-200"},zn={class:"p-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700 flex items-center justify-between transition-colors duration-200"},_n={class:"text-lg font-semibold text-gray-900 dark:text-white"},jn={class:"text-sm text-gray-600 dark:text-gray-400"},Cn={class:"hidden md:grid grid-cols-6 gap-4 p-4 bg-gray-100 dark:bg-gray-700 text-sm font-medium text-gray-600 dark:text-gray-300 border-b border-gray-200 dark:border-gray-600 transition-colors duration-200"},Sn={class:"flex items-center"},An=["checked"],In={class:"max-h-96 overflow-y-auto"},qn={key:0,class:"p-8 text-center text-gray-500 dark:text-gray-400"},On={class:"md:hidden"},Zn={class:"flex items-start space-x-3"},Fn=["checked","onChange"],Kn={class:"flex-1"},Un={class:"flex items-center justify-between mb-2"},Nn={class:"font-semibold text-lg text-gray-900 dark:text-white"},Dn={class:"flex items-center"},$n={key:0,class:"flex items-center text-green-600 dark:text-green-400 bg-green-50 dark:bg-green-900/20 px-2 py-1 rounded-full text-xs font-medium"},Rn={key:1,class:"flex items-center text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 px-2 py-1 rounded-full text-xs font-medium"},Pn={class:"text-base font-medium text-gray-900 dark:text-white mb-2"},Qn={class:"flex flex-wrap gap-2 text-sm"},En={class:"bg-blue-100 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200 px-2 py-1 rounded font-medium"},Tn={class:"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 px-2 py-1 rounded font-medium"},Wn={class:"hidden md:block"},Bn={class:"flex items-center"},Mn=["checked","onChange"],Vn={class:"font-medium text-gray-900 dark:text-white"},Gn={class:"font-medium text-gray-900 dark:text-white"},Ln={class:"text-gray-600 dark:text-gray-400"},Jn={class:"text-gray-600 dark:text-gray-400 truncate"},Hn={class:"flex items-center"},Yn={key:0,class:"flex items-center text-green-600 dark:text-green-400"},Xn={key:1,class:"flex items-center text-red-600 dark:text-red-400"},eo=["onClick"],ao={key:0,class:"mt-6 bg-white rounded-lg shadow-sm border"},to={class:"p-4 border-b bg-gray-50 flex items-center justify-between"},ro={class:"text-lg font-semibold text-gray-900"},lo={class:"p-4 grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 max-h-80 overflow-y-auto"},so=["src","alt"],no={class:"text-xs font-medium"},oo={class:"text-xs text-gray-600"},io={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},uo={class:"bg-white rounded-lg p-6 max-w-4xl w-full m-4 max-h-[90vh] overflow-y-auto"},co={class:"flex items-center justify-between mb-4"},go={class:"mb-4 flex space-x-4"},po={id:"printArea",class:"print-content"},yo={class:"sticker-grid"},xo={class:"sticker-header"},vo={class:"nr-startowy"},ko={class:"zawodnik-name"},bo={class:"qr-container"},mo=["src","alt"],wo={class:"sticker-footer"},fo={class:"kategoria"},ho={class:"klub"},zo=va(e({__name:"QrPrint",setup(e){const s=p([]),o=p([]),m=p([]),w=p(!1),f=p(!1),h=p(!1),_=p(""),j=p(""),C=p(""),S=p("nr_startowy_asc"),A=a((()=>[...new Set(s.value.map((e=>e.kategoria)))].sort())),I=a((()=>[...new Set(s.value.map((e=>e.klub)).filter(Boolean))].sort())),q=a((()=>{let e=s.value;return _.value&&(e=e.filter((e=>e.kategoria===_.value))),j.value&&(e=e.filter((e=>e.klub===j.value))),"with_qr"===C.value?e=e.filter((e=>e.qr_code)):"without_qr"===C.value&&(e=e.filter((e=>!e.qr_code))),"nr_startowy_asc"===S.value?e.sort(((e,a)=>e.nr_startowy-a.nr_startowy)):"nr_startowy_desc"===S.value?e.sort(((e,a)=>a.nr_startowy-e.nr_startowy)):"nazwisko_asc"===S.value?e.sort(((e,a)=>e.nazwisko.localeCompare(a.nazwisko))):"nazwisko_desc"===S.value&&e.sort(((e,a)=>a.nazwisko.localeCompare(e.nazwisko))),e})),O=a((()=>0!==q.value.length&&q.value.every((e=>o.value.includes(e.nr_startowy))))),Z=a((()=>{if(!_.value)return!1;const e=q.value.filter((e=>e.kategoria===_.value));return e.length>0&&e.every((e=>o.value.includes(e.nr_startowy)))})),F=a((()=>{if(!j.value)return!1;const e=q.value.filter((e=>e.klub===j.value));return e.length>0&&e.every((e=>o.value.includes(e.nr_startowy)))})),K=a((()=>{const e=q.value.filter((e=>!e.qr_code));return e.length>0&&e.every((e=>o.value.includes(e.nr_startowy)))})),U=a((()=>o.value.filter((e=>{const a=s.value.find((a=>a.nr_startowy===e));return a&&a.qr_code})))),N=a((()=>o.value.filter((e=>{const a=s.value.find((a=>a.nr_startowy===e));return a&&!a.qr_code})))),$=a((()=>({total:q.value.length,selected:o.value.filter((e=>q.value.some((a=>a.nr_startowy===e)))).length,withQr:q.value.filter((e=>e.qr_code)).length,generated:m.value.length}))),R=async()=>{w.value=!0;try{const e=await fetch("/api/zawodnicy");e.ok&&(s.value=await e.json())}catch(e){}finally{w.value=!1}},Q=e=>{const a=o.value.indexOf(e);a>-1?o.value.splice(a,1):o.value.push(e)},E=()=>{const e=q.value.map((e=>e.nr_startowy));o.value=[...new Set([...o.value,...e])]},T=()=>{if(O.value){const e=q.value.map((e=>e.nr_startowy));o.value=o.value.filter((a=>!e.includes(a)))}else E()},W=()=>{if(_.value)if(Z.value){const e=q.value.filter((e=>e.kategoria===_.value)).map((e=>e.nr_startowy));o.value=o.value.filter((a=>!e.includes(a)))}else(()=>{if(!_.value)return;const e=q.value.filter((e=>e.kategoria===_.value)).map((e=>e.nr_startowy));o.value=[...new Set([...o.value,...e])]})()},B=()=>{if(j.value)if(F.value){const e=q.value.filter((e=>e.klub===j.value)).map((e=>e.nr_startowy));o.value=o.value.filter((a=>!e.includes(a)))}else(()=>{if(!j.value)return;const e=q.value.filter((e=>e.klub===j.value)).map((e=>e.nr_startowy));o.value=[...new Set([...o.value,...e])]})()},L=()=>{if(K.value){const e=q.value.filter((e=>!e.qr_code)).map((e=>e.nr_startowy));o.value=o.value.filter((a=>!e.includes(a)))}else(()=>{const e=q.value.filter((e=>!e.qr_code)).map((e=>e.nr_startowy));o.value=[...new Set([...o.value,...e])]})()},J=()=>{o.value=[]},H=async()=>{if(0!==N.value.length){f.value=!0;try{const e=await fetch("/api/qr/generate-bulk",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({zawodnicy_ids:N.value})});if(e.ok){const a=await e.json(),t=m.value.map((e=>e.zawodnik.nr_startowy)),r=a.qr_codes.filter((e=>!t.includes(e.zawodnik.nr_startowy)));m.value=[...m.value,...r],await R()}}catch(e){}finally{f.value=!1}}},Y=async()=>{if(0!==U.value.length){f.value=!0;try{const e=U.value.map((e=>s.value.find((a=>a.nr_startowy===e)))).filter(Boolean).map((async e=>{if(!e.qr_code)return null;const a=await function(e,a){let t=Promise.resolve();if(a&&a.length>0){let e=function(e){return Promise.all(e.map((e=>Promise.resolve(e).then((e=>({status:"fulfilled",value:e})),(e=>({status:"rejected",reason:e}))))))};document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),l=(null==r?void 0:r.nonce)||(null==r?void 0:r.getAttribute("nonce"));t=e(a.map((e=>{if((e=function(e){return"/"+e}(e))in Ms)return;Ms[e]=!0;const a=e.endsWith(".css"),t=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${t}`))return;const r=document.createElement("link");return r.rel=a?"stylesheet":"modulepreload",a||(r.as="script"),r.crossOrigin="",r.href=e,l&&r.setAttribute("nonce",l),document.head.appendChild(r),a?new Promise(((a,t)=>{r.addEventListener("load",a),r.addEventListener("error",(()=>t(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}function r(e){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=e,window.dispatchEvent(a),!a.defaultPrevented)throw e}return t.then((a=>{for(const e of a||[])"rejected"===e.status&&r(e.reason);return e().catch(r)}))}((()=>import("./browser-aA-kYyDG.js").then((e=>e.b))),__vite__mapDeps([0,1])),t=await a.toDataURL(e.qr_code,{width:200,margin:2,color:{dark:"#000000",light:"#FFFFFF"}});return{zawodnik:e,qr_code:e.qr_code,qr_image:t}})),a=(await Promise.all(e)).filter(Boolean);m.value=a,h.value=!0}catch(e){}finally{f.value=!1}}},X=()=>{window.print(),h.value=!1},ee=()=>{m.value=[]},ae=()=>{_.value="",j.value="",C.value="",S.value="nr_startowy_asc",o.value=[]},te=()=>{if(o.value.length===q.value.length&&q.value.length>0){const e=q.value.map((e=>e.nr_startowy));o.value=o.value.filter((a=>!e.includes(a)))}else E()};return y((()=>{R()})),(e,a)=>(r(),t("div",Vs,[l("div",Gs,[l("div",Ls,[u(c(G),{class:"h-8 w-8 text-indigo-600"}),a[6]||(a[6]=l("h2",{class:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white"},"Drukowanie QR kodów",-1))]),l("div",Js,[l("button",{onClick:H,disabled:0===N.value.length||f.value,class:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 text-sm font-medium transition-colors duration-200"},[u(c(P),{class:"h-5 w-5"}),l("span",null,"Generuj QR ("+i(N.value.length)+")",1)],8,Hs),l("button",{onClick:Y,disabled:0===U.value.length||f.value,class:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 text-sm font-medium transition-colors duration-200"},[u(c(G),{class:"h-5 w-5"}),l("span",null,"Drukuj ("+i(U.value.length)+")",1)],8,Ys)])]),l("div",Xs,[l("div",{class:"flex items-center justify-between mb-6"},[a[8]||(a[8]=l("h3",{class:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white"},"Filtry i sortowanie",-1)),l("button",{onClick:ae,class:"text-sm text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 flex items-center space-x-1 transition-colors duration-200"},a[7]||(a[7]=[l("span",null,"🗑️",-1),l("span",null,"Wyczyść wszystko",-1)]))]),l("div",en,[l("div",null,[a[10]||(a[10]=l("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[l("span",{class:"flex items-center space-x-2"},[l("span",null,"🏆"),l("span",null,"Kategoria")])],-1)),x(l("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>_.value=e),class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},[a[9]||(a[9]=l("option",{value:""},"Wszystkie",-1)),(r(!0),t(k,null,b(A.value,(e=>(r(),t("option",{key:e,value:e},i(e)+" ("+i((e=>q.value.filter((a=>a.kategoria===e)).length)(e))+") ",9,an)))),128))],512),[[v,_.value]])]),l("div",null,[a[12]||(a[12]=l("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[l("span",{class:"flex items-center space-x-2"},[l("span",null,"🏢"),l("span",null,"Klub")])],-1)),x(l("select",{"onUpdate:modelValue":a[1]||(a[1]=e=>j.value=e),class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},[a[11]||(a[11]=l("option",{value:""},"Wszystkie",-1)),(r(!0),t(k,null,b(I.value,(e=>(r(),t("option",{key:e,value:e},i(e)+" ("+i((e=>q.value.filter((a=>a.klub===e)).length)(e))+") ",9,tn)))),128))],512),[[v,j.value]])]),l("div",null,[a[14]||(a[14]=l("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[l("span",{class:"flex items-center space-x-2"},[l("span",null,"📱"),l("span",null,"Status QR")])],-1)),x(l("select",{"onUpdate:modelValue":a[2]||(a[2]=e=>C.value=e),class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},[a[13]||(a[13]=l("option",{value:""},"Wszystkie",-1)),l("option",rn,"✅ Z QR kodami ("+i($.value.withQr)+")",1),l("option",ln,"❌ Bez QR kodów ("+i($.value.total-$.value.withQr)+")",1)],512),[[v,C.value]])])]),l("div",sn,[l("div",null,[a[16]||(a[16]=l("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[l("span",{class:"flex items-center space-x-2"},[l("span",null,"🔄"),l("span",null,"Sortowanie")])],-1)),x(l("select",{"onUpdate:modelValue":a[3]||(a[3]=e=>S.value=e),class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},a[15]||(a[15]=[z('<option value="nr_startowy_asc" data-v-926ab205>Nr startowy (rosnąco)</option><option value="nr_startowy_desc" data-v-926ab205>Nr startowy (malejąco)</option><option value="nazwisko_asc" data-v-926ab205>Nazwisko (A-Z)</option><option value="nazwisko_desc" data-v-926ab205>Nazwisko (Z-A)</option><option value="kategoria_asc" data-v-926ab205>Kategoria (A-Z)</option><option value="klub_asc" data-v-926ab205>Klub (A-Z)</option><option value="qr_status" data-v-926ab205>Status QR (najpierw bez QR)</option>',7)]),512),[[v,S.value]])])]),l("div",nn,[a[18]||(a[18]=l("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-4"},[l("span",{class:"flex items-center space-x-2"},[l("span",null,"⚡"),l("span",null,"Operacje grupowe")])],-1)),l("div",on,[l("button",{onClick:T,class:n(["px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 flex items-center space-x-2",O.value?"bg-indigo-700 text-white shadow-inner border-2 border-indigo-800":"bg-indigo-600 text-white hover:bg-indigo-700 border-2 border-transparent"])},[l("span",null,i(O.value?"✅":"☐"),1),l("span",null,i(O.value?"Odznacz wszystkie":"Zaznacz wszystkie")+" ("+i(q.value.length)+")",1)],2),l("button",{onClick:W,disabled:!_.value,class:n(["px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 flex items-center space-x-2 border-2",_.value?Z.value?"bg-green-700 text-white shadow-inner border-green-800":"bg-green-600 text-white hover:bg-green-700 border-transparent":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed border-transparent"])},[l("span",null,i(_.value?Z.value?"✅":"☐":"🏆"),1),l("span",null,i(_.value?Z.value?`Odznacz: ${_.value}`:`Zaznacz: ${_.value}`:"Wybierz kategorię"),1)],10,dn),l("button",{onClick:B,disabled:!j.value,class:n(["px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 flex items-center space-x-2 border-2",j.value?F.value?"bg-purple-700 text-white shadow-inner border-purple-800":"bg-purple-600 text-white hover:bg-purple-700 border-transparent":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed border-transparent"])},[l("span",null,i(j.value?F.value?"✅":"☐":"🏢"),1),l("span",null,i(j.value?F.value?`Odznacz: ${j.value}`:`Zaznacz: ${j.value}`:"Wybierz klub"),1)],10,un),l("button",{onClick:L,class:n(["px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 flex items-center space-x-2 border-2",0===q.value.filter((e=>!e.qr_code)).length?"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed border-transparent":K.value?"bg-orange-700 text-white shadow-inner border-orange-800":"bg-orange-600 text-white hover:bg-orange-700 border-transparent"]),disabled:0===q.value.filter((e=>!e.qr_code)).length},[l("span",null,i(K.value?"✅":"☐"),1),l("span",null,i(K.value?"Odznacz bez QR":"Zaznacz bez QR")+" ("+i(q.value.filter((e=>!e.qr_code)).length)+")",1)],10,cn),l("button",{onClick:J,disabled:0===o.value.length,class:n(["px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 flex items-center space-x-2 border-2 border-transparent",o.value.length>0?"bg-gray-600 text-white hover:bg-gray-700":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed"])},[a[17]||(a[17]=l("span",null,"🗑️",-1)),l("span",null,"Wyczyść zaznaczenia ("+i(o.value.length)+")",1)],10,gn)])])]),l("div",pn,[l("div",yn,[l("div",xn,i($.value.total),1),a[19]||(a[19]=l("div",{class:"text-sm text-blue-700 dark:text-blue-300"},"Po filtrach",-1))]),l("div",vn,[l("div",kn,i($.value.selected),1),a[20]||(a[20]=l("div",{class:"text-sm text-green-700 dark:text-green-300"},"Zaznaczonych",-1))]),l("div",bn,[l("div",mn,i($.value.withQr),1),a[21]||(a[21]=l("div",{class:"text-sm text-purple-700 dark:text-purple-300"},"Z QR kodami",-1))]),l("div",wn,[l("div",fn,i($.value.generated),1),a[22]||(a[22]=l("div",{class:"text-sm text-orange-700 dark:text-orange-300"},"Do druku",-1))])]),l("div",hn,[l("div",zn,[l("h3",_n," Lista zawodników ("+i(q.value.length)+") ",1),l("div",jn," Zaznaczono: "+i(o.value.length),1)]),l("div",Cn,[l("div",Sn,[l("input",{type:"checkbox",checked:o.value.length===q.value.length&&q.value.length>0,onChange:te,class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 dark:border-gray-600 rounded mr-3"},null,40,An),a[23]||(a[23]=g(" Nr startowy "))]),a[24]||(a[24]=l("div",null,"Imię i nazwisko",-1)),a[25]||(a[25]=l("div",null,"Kategoria",-1)),a[26]||(a[26]=l("div",null,"Klub",-1)),a[27]||(a[27]=l("div",null,"Status QR",-1)),a[28]||(a[28]=l("div",null,"Akcje",-1))]),l("div",In,[0===q.value.length?(r(),t("div",qn,a[29]||(a[29]=[l("div",{class:"text-4xl mb-2"},"🔍",-1),l("div",{class:"text-lg font-medium mb-1"},"Brak zawodników",-1),l("div",{class:"text-sm"},"Spróbuj zmienić kryteria filtrowania",-1)]))):d("",!0),l("div",On,[(r(!0),t(k,null,b(q.value,(e=>(r(),t("div",{key:e.nr_startowy,class:"p-4 border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200"},[l("div",Zn,[l("input",{type:"checkbox",checked:o.value.includes(e.nr_startowy),onChange:a=>Q(e.nr_startowy),class:"h-5 w-5 text-indigo-600 focus:ring-indigo-500 border-gray-300 dark:border-gray-600 rounded mt-1"},null,40,Fn),l("div",Kn,[l("div",Un,[l("div",Nn," #"+i(e.nr_startowy),1),l("div",Dn,[e.qr_code?(r(),t("div",$n,[u(c(M),{class:"h-3 w-3 mr-1"}),a[30]||(a[30]=l("span",null,"QR",-1))])):(r(),t("div",Rn,[u(c(V),{class:"h-3 w-3 mr-1"}),a[31]||(a[31]=l("span",null,"Brak QR",-1))]))])]),l("div",Pn,i(e.imie)+" "+i(e.nazwisko),1),l("div",Qn,[l("span",En,i(e.kategoria),1),l("span",Tn,i(e.klub||"-"),1)])])])])))),128))]),l("div",Wn,[(r(!0),t(k,null,b(q.value,(e=>(r(),t("div",{key:e.nr_startowy,class:"grid grid-cols-6 gap-4 p-4 border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 items-center text-sm transition-colors duration-200"},[l("div",Bn,[l("input",{type:"checkbox",checked:o.value.includes(e.nr_startowy),onChange:a=>Q(e.nr_startowy),class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 dark:border-gray-600 rounded mr-3"},null,40,Mn),l("span",Vn,"#"+i(e.nr_startowy),1)]),l("div",Gn,i(e.imie)+" "+i(e.nazwisko),1),l("div",Ln,i(e.kategoria),1),l("div",Jn,i(e.klub||"-"),1),l("div",Hn,[e.qr_code?(r(),t("div",Yn,[u(c(M),{class:"h-4 w-4 mr-1"}),a[32]||(a[32]=l("span",{class:"text-xs font-medium"},"Tak",-1))])):(r(),t("div",Xn,[u(c(V),{class:"h-4 w-4 mr-1"}),a[33]||(a[33]=l("span",{class:"text-xs font-medium"},"Nie",-1))]))]),l("div",null,[e.qr_code?d("",!0):(r(),t("button",{key:0,onClick:a=>(async e=>{f.value=!0;try{const a=await fetch("/api/qr/generate-bulk",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({zawodnicy_ids:[e]})});if(a.ok){const e=await a.json();m.value=[...m.value,...e.qr_codes],await R()}}catch(a){}finally{f.value=!1}})(e.nr_startowy),class:"text-xs bg-indigo-600 text-white px-3 py-1 rounded-md hover:bg-indigo-700 font-medium transition-colors duration-200"}," Generuj QR ",8,eo))])])))),128))])])]),m.value.length>0?(r(),t("div",ao,[l("div",to,[l("h3",ro," Wygenerowane QR kody ("+i(m.value.length)+") ",1),l("button",{onClick:ee,class:"text-sm text-red-600 hover:text-red-800"}," Wyczyść ")]),l("div",lo,[(r(!0),t(k,null,b(m.value,(e=>(r(),t("div",{key:e.zawodnik.nr_startowy,class:"text-center p-2 border rounded"},[l("img",{src:e.qr_image,alt:`QR ${e.zawodnik.nr_startowy}`,class:"w-16 h-16 mx-auto mb-1"},null,8,so),l("div",no,i(e.zawodnik.nr_startowy),1),l("div",oo,i(e.zawodnik.imie)+" "+i(e.zawodnik.nazwisko),1)])))),128))])])):d("",!0),h.value?(r(),t("div",io,[l("div",uo,[l("div",co,[a[34]||(a[34]=l("h3",{class:"text-lg font-semibold"},"Podgląd wydruku",-1)),l("button",{onClick:a[4]||(a[4]=e=>h.value=!1),class:"text-gray-400 hover:text-gray-600"},[u(c(D),{class:"h-6 w-6"})])]),l("div",go,[l("button",{onClick:X,class:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700"}," Drukuj teraz "),l("button",{onClick:a[5]||(a[5]=e=>h.value=!1),class:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400"}," Anuluj ")]),l("div",po,[l("div",yo,[(r(!0),t(k,null,b(m.value,(e=>(r(),t("div",{key:e.zawodnik.nr_startowy,class:"sticker"},[l("div",xo,[l("div",vo,i(e.zawodnik.nr_startowy),1),l("div",ko,i(e.zawodnik.imie)+" "+i(e.zawodnik.nazwisko),1)]),l("div",bo,[l("img",{src:e.qr_image,alt:`QR ${e.zawodnik.nr_startowy}`,class:"qr-code"},null,8,mo)]),l("div",wo,[l("div",fo,i(e.zawodnik.kategoria),1),l("div",ho,i(e.zawodnik.klub||""),1)])])))),128))])])])])):d("",!0)]))}}),[["__scopeId","data-v-926ab205"]]),_o={class:"p-4 sm:p-6"},jo={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 space-y-4 sm:space-y-0"},Co={class:"flex items-center space-x-3"},So={class:"text-sm bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 px-2 py-1 rounded-full"},Ao={class:"flex items-center space-x-3"},Io=["disabled"],qo={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6"},Oo={class:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800"},Zo={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},Fo={class:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border border-green-200 dark:border-green-800"},Ko={class:"text-2xl font-bold text-green-600 dark:text-green-400"},Uo={class:"bg-orange-50 dark:bg-orange-900/20 p-4 rounded-lg border border-orange-200 dark:border-orange-800"},No={class:"flex items-center space-x-2"},Do={class:"text-2xl font-bold text-orange-600 dark:text-orange-400"},$o={key:0,class:"animate-spin"},Ro={class:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg border border-purple-200 dark:border-purple-800"},Po={class:"flex items-center space-x-2"},Qo={class:"text-2xl font-bold text-purple-600 dark:text-purple-400"},Eo={key:0,class:"animate-pulse"},To={key:1,class:"animate-spin"},Wo={class:"text-sm text-purple-700 dark:text-purple-300"},Bo={key:0,class:"text-xs text-orange-600"},Mo={key:1,class:"text-xs text-blue-600"},Vo={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Go={class:"space-y-6"},Lo={key:0,class:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4"},Jo={class:"flex items-center justify-between"},Ho={class:"flex items-center space-x-3"},Yo={class:"font-medium text-green-800 dark:text-green-200"},Xo={key:0,class:"text-xs text-orange-600"},ei={key:1,class:"text-xs text-blue-600"},ai={class:"text-sm text-green-700 dark:text-green-300"},ti=["disabled"],ri={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700"},li={class:"p-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700"},si={class:"text-lg font-semibold text-gray-900 dark:text-white"},ni={key:0,class:"p-8 text-center text-gray-500 dark:text-gray-400"},oi={key:1,class:"p-8 text-center text-gray-500 dark:text-gray-400"},ii={key:2,class:"divide-y divide-gray-200 dark:divide-gray-700 max-h-96 overflow-y-auto"},di={class:"flex items-center justify-between"},ui={class:"flex items-center space-x-3"},ci={class:"w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center"},gi={class:"text-blue-600 dark:text-blue-400 font-bold text-sm"},pi={class:"font-medium text-gray-900 dark:text-white text-sm"},yi={class:"text-xs text-gray-600 dark:text-gray-400"},xi=["onClick","disabled"],vi={key:0,class:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-600"},ki={class:"text-xs text-gray-600 dark:text-gray-400"},bi=["onClick"],mi={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4"},wi={class:"flex flex-wrap gap-2"},fi={class:"space-y-6"},hi={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6"},zi={class:"text-center"},_i={class:"w-16 h-16 mx-auto mb-4 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center"},ji={class:"max-w-md mx-auto"},Ci={class:"flex space-x-2"},Si=["disabled"],Ai={key:0,class:"mb-6"},Ii={class:"flex items-start space-x-3"},qi={class:"flex-1"},Oi={class:"text-sm opacity-90"},Zi={class:"flex space-x-2 mt-3"},Fi={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700"},Ki={class:"p-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700 flex items-center justify-between"},Ui={class:"text-lg font-semibold text-gray-900 dark:text-white"},Ni={key:0,class:"text-sm text-gray-600 dark:text-gray-400"},Di={key:0,class:"text-blue-600 dark:text-blue-400"},$i={key:1,class:"text-orange-600 dark:text-orange-400"},Ri={class:"flex items-center space-x-2"},Pi={key:0,class:"text-xs text-blue-600 dark:text-blue-400 flex items-center space-x-1"},Qi={key:1,class:"text-xs text-orange-600 dark:text-orange-400 flex items-center space-x-1"},Ei={key:2,class:"text-xs text-orange-600 dark:text-orange-400 flex items-center space-x-1"},Ti={key:0,class:"p-6 text-center text-gray-500 dark:text-gray-400"},Wi={class:"text-lg font-medium mb-1"},Bi={key:0},Mi={key:1},Vi={key:1,class:"p-8 text-center text-gray-500 dark:text-gray-400"},Gi={key:2,class:"divide-y divide-gray-200 dark:divide-gray-700 max-h-96 overflow-y-auto"},Li={class:"flex items-center space-x-3"},Ji={class:"w-6 h-6 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center"},Hi={class:"text-blue-600 dark:text-blue-400 font-bold text-xs"},Yi={class:"font-medium text-gray-900 dark:text-white text-sm"},Xi={key:0,class:"ml-2 px-2 py-0.5 text-xs rounded-full bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},ed={key:1,class:"ml-2 px-2 py-0.5 text-xs rounded-full bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},ad={key:2,class:"ml-2 px-2 py-0.5 text-xs rounded-full bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"},td={class:"text-xs text-gray-500 dark:text-gray-400"},rd=["onClick"],ld=e({__name:"StartLineScanner",setup(e){const v=p({loading:!1,error:null,lastUpdate:null,optimisticActiveGroupId:null,syncingData:!1,syncingQueue:!1,activatingGroupId:null}),m=p([]),w=p(null),f=p([]),z=p(null),j=p(""),S=p(null),A=p("30.5.0");a((()=>m.value.reduce(((e,a)=>e+a.liczba_zawodnikow),0)));const I=a((()=>m.value.length)),q=a((()=>m.value.reduce(((e,a)=>e+a.liczba_zawodnikow),0))),O=a((()=>({total:f.value.length,skanowani:f.value.filter((e=>"SKANOWANY"===e.source_type)).length,aktywnaGrupa:f.value.filter((e=>"AKTYWNA_GRUPA"===e.source_type)).length}))),Z=async()=>{if(v.value.activatingGroupId)return;const e=w.value;w.value=null,v.value.optimisticActiveGroupId=null,v.value.activatingGroupId=-1;try{if(!(await fetch("/api/grupa-aktywna",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({clear:!0})})).ok)throw new Error("Błąd czyszczenia grupy");setTimeout((async()=>{v.value.syncingData=!0;try{await F("po wyczyszczeniu grupy")}finally{v.value.syncingData=!1}}),500),T("🧹 Wyczyszczono aktywną grupę")}catch(a){w.value=e,v.value.optimisticActiveGroupId=(null==e?void 0:e.numer_grupy)||null,v.value.error=a.message,W(`Błąd: ${a.message}`)}finally{v.value.activatingGroupId=null}},F=async(e="manual")=>{if("manual"===e){if(v.value.loading)return;v.value.loading=!0}else e.includes("kolejka")||e.includes("queue")?v.value.syncingQueue=!0:v.value.syncingData=!0;v.value.error=null;try{if(!A.value||"30.5.0"===A.value)try{const e=await fetch("/api/version");if(e.ok){const a=await e.json();A.value=a.version||"30.4.0"}}catch(a){}const e=await fetch("/api/grupy-startowe");if(!e.ok)throw new Error("Błąd ładowania grup");const t=await e.json();if(m.value=t.grupy||[],!v.value.optimisticActiveGroupId)try{const e=await fetch("/api/grupa-aktywna");if(e.ok){const a=await e.json();if(a.success&&a.aktywna_grupa){const e=a.aktywna_grupa;w.value=m.value.find((a=>a.kategoria===e.kategoria&&a.plec===e.plec))||null}else w.value=null}else w.value=null}catch(a){v.value.optimisticActiveGroupId||(w.value=null)}const r=await fetch("/api/start-queue");if(!r.ok)throw new Error("Błąd ładowania kolejki");const l=await r.json();f.value=l.queue||[],v.value.lastUpdate=new Date}catch(t){v.value.error=t.message}finally{"manual"===e&&(v.value.loading=!1),v.value.syncingData=!1,v.value.syncingQueue=!1}},N=async()=>{var e,a;if(j.value&&!v.value.loading){v.value.loading=!0;try{const t=await fetch("/api/start-line-verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({qr_code:j.value,kategoria:null==(e=w.value)?void 0:e.kategoria,plec:null==(a=w.value)?void 0:a.plec,device_id:"start-line-scanner-v30.4"})});if(t.ok){const e=await t.json();S.value=e,j.value="",await F("po skanie QR")}else{const e=await t.json();S.value={success:!1,action:"ODRZUC",issues:[e.error||"Nieznany błąd"],zawodnik:{},komunikat:"❌ Błąd weryfikacji"}}}catch(t){S.value={success:!1,action:"ODRZUC",issues:["Błąd połączenia z serwerem"],zawodnik:{},komunikat:"❌ Błąd połączenia"}}finally{v.value.loading=!1}}},$=async e=>{if(confirm("all"===e?"Czy na pewno chcesz wyczyścić całą kolejkę startową?":"Czy na pewno chcesz usunąć wszystkich skanowanych zawodników z kolejki?")){v.value.loading=!0;try{if(!(await fetch("/api/start-queue/clear",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:e})})).ok)throw new Error("Błąd czyszczenia kolejki");await F("po czyszczeniu kolejki"),T(`Wyczyszczono kolejkę: ${e}`)}catch(a){W(`Błąd: ${a.message}`)}finally{v.value.loading=!1}}},Q=()=>{S.value=null},E=()=>{S.value=null},T=e=>{},W=e=>{},B=e=>{switch(e){case"AKCEPTUJ":return"bg-green-100 dark:bg-green-900/20 border border-green-200 dark:border-green-800";case"OSTRZEZENIE":return"bg-orange-100 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800";case"ODRZUC":return"bg-red-100 dark:bg-red-900/20 border border-red-200 dark:border-red-800";default:return"bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600"}},G=e=>{switch(e){case"AKCEPTUJ":return"w-8 h-8 bg-green-600 rounded-full flex items-center justify-center text-white";case"OSTRZEZENIE":return"w-8 h-8 bg-orange-600 rounded-full flex items-center justify-center text-white";case"ODRZUC":return"w-8 h-8 bg-red-600 rounded-full flex items-center justify-center text-white";default:return"w-8 h-8 bg-gray-600 rounded-full flex items-center justify-center text-white"}},H=e=>{switch(e){case"AKCEPTUJ":return"text-green-800 dark:text-green-200";case"OSTRZEZENIE":return"text-orange-800 dark:text-orange-200";case"ODRZUC":return"text-red-800 dark:text-red-200";default:return"text-gray-800 dark:text-gray-200"}},Y=e=>{switch(e){case"AKCEPTUJ":return M;case"OSTRZEZENIE":return K;case"ODRZUC":return V;default:return P}},X=a((()=>v.value.optimisticActiveGroupId&&m.value.find((e=>e.numer_grupy===v.value.optimisticActiveGroupId))||w.value)),ee=e=>{var a;const t=(null==(a=X.value)?void 0:a.numer_grupy)===e.numer_grupy,r=v.value.activatingGroupId===e.numer_grupy,l=null!==v.value.activatingGroupId;return{isActive:t,isActivating:r,isDisabled:t||l,text:t?"Aktywna":r?"Aktywuję...":"Aktywuj",showSpinner:r}};return y((async()=>{await F("inicjalizacja")})),_((()=>{})),(e,a)=>(r(),t("div",_o,[l("div",jo,[l("div",Co,[u(c(P),{class:"h-8 w-8 text-green-600"}),a[4]||(a[4]=l("h2",{class:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white"},"Centrum Startu",-1)),l("span",So," v"+i(A.value),1)]),l("div",Ao,[a[6]||(a[6]=l("div",{class:"text-sm text-gray-600 dark:text-gray-400"},[g(" Scanner: "),l("span",{class:"text-green-600"}," 🟢 Aktywny ")],-1)),l("button",{onClick:a[0]||(a[0]=e=>F("manual")),disabled:v.value.loading,class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2 text-sm font-medium transition-colors duration-200"},[u(c(R),{class:n(["h-5 w-5",{"animate-spin":v.value.loading}])},null,8,["class"]),a[5]||(a[5]=l("span",null,"Odśwież wszystko",-1))],8,Io)])]),l("div",qo,[l("div",Oo,[l("div",Zo,i(I.value),1),a[7]||(a[7]=l("div",{class:"text-sm text-blue-700 dark:text-blue-300"},"Grup startowych",-1))]),l("div",Fo,[l("div",Ko,i(q.value),1),a[8]||(a[8]=l("div",{class:"text-sm text-green-700 dark:text-green-300"},"Zameldowanych",-1))]),l("div",Uo,[l("div",No,[l("div",Do,i(O.value.total),1),v.value.loading?(r(),t("div",$o,[u(c(R),{class:"h-4 w-4 text-orange-500"})])):d("",!0)]),a[9]||(a[9]=l("div",{class:"text-sm text-orange-700 dark:text-orange-300"},"W kolejce",-1))]),l("div",Ro,[l("div",Po,[l("div",Qo,i(X.value?X.value.numer_grupy:"-"),1),v.value.activatingGroupId?(r(),t("div",Eo,a[10]||(a[10]=[l("div",{class:"w-2 h-2 bg-purple-500 rounded-full"},null,-1)]))):v.value.syncingData?(r(),t("div",To,[u(c(R),{class:"h-4 w-4 text-purple-500"})])):d("",!0)]),l("div",Wo,[a[11]||(a[11]=g(" Aktywna grupa ")),v.value.activatingGroupId?(r(),t("span",Bo,"(aktywuję...)")):v.value.syncingData?(r(),t("span",Mo,"(sync...)")):d("",!0)])])]),l("div",Vo,[l("div",Go,[X.value?(r(),t("div",Lo,[l("div",Jo,[l("div",Ho,[u(c(U),{class:"h-6 w-6 text-green-600 dark:text-green-400"}),l("div",null,[l("h4",Yo,[g(i(X.value.nazwa)+" ",1),v.value.activatingGroupId?(r(),t("span",Xo,"(aktywuję...)")):v.value.syncingData?(r(),t("span",ei,"(sync...)")):d("",!0)]),l("p",ai,i(X.value.liczba_zawodnikow)+" zawodników ",1)])]),l("button",{onClick:Z,disabled:v.value.activatingGroupId,class:"text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-200 p-1 disabled:opacity-50 disabled:cursor-not-allowed"},[u(c(D),{class:"h-5 w-5"})],8,ti)])])):d("",!0),l("div",ri,[l("div",li,[l("h3",si," Grupy startowe ("+i(I.value)+") ",1)]),v.value.loading?(r(),t("div",ni,[u(c(R),{class:"h-8 w-8 animate-spin mx-auto mb-2"}),a[12]||(a[12]=l("div",null,"Ładowanie grup...",-1))])):0===m.value.length?(r(),t("div",oi,a[13]||(a[13]=[l("div",{class:"text-4xl mb-2"},"🏁",-1),l("div",{class:"text-lg font-medium mb-1"},"Brak grup startowych",-1),l("div",{class:"text-sm"},"Upewnij się że zawodnicy są zameldowani",-1)]))):(r(),t("div",ii,[(r(!0),t(k,null,b(m.value,(e=>(r(),t("div",{key:e.numer_grupy,class:"p-4 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200"},[l("div",di,[l("div",ui,[l("div",ci,[l("span",gi,i(e.numer_grupy),1)]),l("div",null,[l("h4",pi,i(e.nazwa),1),l("p",yi,i(e.liczba_zawodnikow)+" zawodników • ~"+i(Math.round(e.estimated_time/60))+" min ",1)])]),l("button",{onClick:a=>(async e=>{if(e&&!v.value.activatingGroupId){v.value.optimisticActiveGroupId=e.numer_grupy,v.value.activatingGroupId=e.numer_grupy,v.value.error=null;try{const a=await fetch("/api/grupa-aktywna",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({numer_grupy:e.numer_grupy,kategoria:e.kategoria,plec:e.plec,nazwa:e.nazwa})});if(!a.ok){const e=await a.text();throw new Error(`Backend error: ${a.status} - ${e}`)}w.value=e,setTimeout((async()=>{try{v.value.syncingData=!0,await F("po aktywacji grupy")}catch(e){}finally{v.value.syncingData=!1}}),500),T(`✅ Aktywowano grupę: ${e.nazwa}`)}catch(a){v.value.optimisticActiveGroupId=null,v.value.error=a.message,W(`Błąd aktywacji: ${a.message}`)}finally{v.value.activatingGroupId=null}}})(e),disabled:ee(e).isDisabled,class:n(["inline-flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 shadow-sm border",ee(e).isActive?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 text-green-800 dark:text-green-200 cursor-not-allowed":ee(e).isActivating?"bg-orange-50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-800 text-orange-800 dark:text-orange-200 cursor-not-allowed":"bg-blue-600 border-blue-600 text-white hover:bg-blue-700 hover:border-blue-700 hover:shadow-md active:transform active:scale-95"])},[ee(e).isActive?(r(),s(c(M),{key:0,class:"h-4 w-4"})):ee(e).isActivating?(r(),s(c(R),{key:1,class:"h-4 w-4 animate-spin"})):(r(),s(c(L),{key:2,class:"h-4 w-4"})),l("span",null,i(ee(e).text),1)],10,xi)]),z.value===e.numer_grupy?(r(),t("div",vi,[l("div",ki,[a[14]||(a[14]=l("strong",null,"Zawodnicy:",-1)),g(" "+i(e.numery_startowe),1)])])):d("",!0),l("button",{onClick:a=>{return t=e.numer_grupy,void(z.value=z.value===t?null:t);var t},class:"mt-2 text-xs text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200"},i(z.value===e.numer_grupy?"Ukryj szczegóły":"Pokaż szczegóły"),9,bi)])))),128))]))]),l("div",mi,[a[15]||(a[15]=l("h4",{class:"font-medium text-gray-900 dark:text-white mb-3"},"Zarządzanie kolejką",-1)),l("div",wi,[l("button",{onClick:a[1]||(a[1]=e=>$("all")),class:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm font-medium"}," Wyczyść kolejkę "),l("button",{onClick:a[2]||(a[2]=e=>$("scanned")),class:"px-3 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 text-sm font-medium"}," Usuń skanowanych ")])])]),l("div",fi,[l("div",hi,[l("div",zi,[l("div",_i,[u(c(P),{class:"h-8 w-8 text-green-600 dark:text-green-400"})]),a[16]||(a[16]=l("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"}," QR Scanner ",-1)),a[17]||(a[17]=l("p",{class:"text-gray-600 dark:text-gray-400 mb-4 text-sm"}," Zeskanuj QR kod lub wpisz numer startowy ",-1)),l("div",ji,[l("div",Ci,[x(l("input",{"onUpdate:modelValue":a[3]||(a[3]=e=>j.value=e),onKeyup:C(N,["enter"]),type:"text",placeholder:"QR kod lub nr startowy...",class:"flex-1 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm"},null,544),[[h,j.value]]),l("button",{onClick:N,disabled:!j.value||v.value.loading,class:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed font-medium text-sm"},i(v.value.loading?"⏳":"Skanuj"),9,Si)])])])]),S.value?(r(),t("div",Ai,[l("div",{class:n([B(S.value.action),"rounded-lg p-4"])},[l("div",Ii,[l("div",{class:n(G(S.value.action))},[(r(),s(o(Y(S.value.action)),{class:"h-6 w-6"}))],2),l("div",qi,[l("h4",{class:n(["font-semibold mb-2",H(S.value.action)])},i(S.value.komunikat),3),l("div",Oi,[a[18]||(a[18]=l("strong",null,"Nr:",-1)),g(" "+i(S.value.zawodnik.nr_startowy)+" • ",1),a[19]||(a[19]=l("strong",null,"Imię:",-1)),g(" "+i(S.value.zawodnik.imie)+" "+i(S.value.zawodnik.nazwisko),1)]),l("div",Zi,["AKCEPTUJ"===S.value.action?(r(),t("button",{key:0,onClick:Q,class:"px-3 py-1 bg-white text-green-800 rounded-md hover:bg-green-50 text-sm font-medium border border-green-200"}," ✅ Potwierdź ")):d("",!0),l("button",{onClick:E,class:"px-3 py-1 bg-white/20 hover:bg-white/30 rounded-md text-sm font-medium border border-white/30"}," Wyczyść ")])])])],2)])):d("",!0),l("div",Fi,[l("div",Ki,[l("div",null,[l("h3",Ui," Kolejka startowa ("+i(X.value?X.value.nazwa:`${f.value.length} zawodników`)+") ",1),X.value?(r(),t("div",Ni,[g(i(f.value.length)+" zawodników w kolejce ",1),v.value.syncingQueue?(r(),t("span",Di,"• synchronizuję...")):v.value.syncingData?(r(),t("span",$i,"• ładuję dane...")):d("",!0)])):d("",!0)]),l("div",Ri,[v.value.syncingQueue?(r(),t("div",Pi,[u(c(R),{class:"h-3 w-3 animate-spin"}),a[20]||(a[20]=l("span",null,"Sync kolejki",-1))])):v.value.syncingData?(r(),t("div",Qi,[u(c(R),{class:"h-3 w-3 animate-spin"}),a[21]||(a[21]=l("span",null,"Sync danych",-1))])):v.value.loading?(r(),t("div",Ei,[u(c(R),{class:"h-3 w-3 animate-spin"}),a[22]||(a[22]=l("span",null,"Sync...",-1))])):d("",!0)])]),v.value.syncingQueue||v.value.syncingData?(r(),t("div",Ti,[u(c(R),{class:"h-8 w-8 animate-spin mx-auto mb-2 text-blue-500"}),l("div",Wi,[v.value.syncingQueue?(r(),t("span",Bi,"Synchronizuję kolejkę...")):(r(),t("span",Mi,"Ładuję dane..."))]),a[23]||(a[23]=l("div",{class:"text-sm"},"Aktualny stan może się zmienić",-1))])):0===f.value.length?(r(),t("div",Vi,a[24]||(a[24]=[l("div",{class:"text-4xl mb-2"},"🏁",-1),l("div",{class:"text-lg font-medium mb-1"},"Kolejka pusta",-1),l("div",{class:"text-sm"},"Zawodnicy pojawią się po skanowaniu lub aktywacji grupy",-1)]))):(r(),t("div",Gi,[(r(!0),t(k,null,b(f.value,((e,a)=>(r(),t("div",{key:e.nr_startowy,class:"p-3 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-700"},[l("div",Li,[l("div",Ji,[l("span",Hi,i(a+1),1)]),l("div",null,[l("p",Yi,[g(" #"+i(e.nr_startowy)+" "+i(e.imie)+" "+i(e.nazwisko)+" ",1),"AKTYWNA_GRUPA"===e.source_type?(r(),t("span",Xi," Grupa ")):"SKANOWANY"===e.source_type?(r(),t("span",ed," Skan ")):"AKTYWNA_GRUPA_I_SKANOWANY"===e.source_type?(r(),t("span",ad," Grupa+Skan ")):d("",!0)]),l("p",td,i(e.kategoria)+" "+i(e.plec)+" - "+i(e.klub),1)])]),l("button",{onClick:a=>(async e=>{const a=`Czy na pewno chcesz usunąć zawodnika #${e.nr_startowy} ${e.imie} ${e.nazwisko} z kolejki?`;if(!confirm(a))return;const t=[...f.value];f.value=f.value.filter((a=>a.nr_startowy!==e.nr_startowy));try{const a=await fetch(`/api/start-queue/remove/${e.nr_startowy}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!a.ok){const e=await a.json();throw new Error(e.message||"Błąd usuwania")}setTimeout((async()=>{v.value.syncingQueue=!0;try{const e=await fetch("/api/start-queue");if(e.ok){const a=await e.json();f.value=a.queue||[]}}finally{v.value.syncingQueue=!1}}),1e3),T(`Usunięto zawodnika #${e.nr_startowy} z kolejki`)}catch(r){f.value=t,W(`Błąd: ${r.message}`)}})(e),class:"p-1 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-200 hover:bg-red-50 dark:hover:bg-red-900/20 rounded"},[u(c(J),{class:"h-4 w-4"})],8,rd)])))),128))]))])])])]))}}),sd={class:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200"},nd={class:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700 transition-colors duration-200"},od={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},id={class:"flex justify-between items-center h-16"},dd={class:"flex items-center flex-shrink-0"},ud={class:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white transition-colors duration-200"},cd={key:0,class:"ml-1 sm:ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200"},gd={class:"hidden sm:block flex-1 max-w-lg mx-8"},pd={class:"relative"},yd={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},xd={class:"flex items-center space-x-2 sm:space-x-4"},vd={class:"flex items-center space-x-1 sm:space-x-2"},kd={class:"p-1 sm:p-2 text-gray-400 dark:text-gray-300 hover:text-gray-500 dark:hover:text-gray-200"},bd=["title"],md={class:"w-7 h-7 sm:w-8 sm:h-8 bg-indigo-500 rounded-full flex items-center justify-center"},wd={class:"text-white text-xs sm:text-sm font-medium"},fd={class:"pb-4 sm:hidden"},hd={class:"relative"},zd={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},_d={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},jd={class:"border-b border-gray-200 dark:border-gray-700"},Cd={class:"-mb-px flex flex-wrap gap-x-4 gap-y-2 sm:space-x-8 sm:gap-y-0","aria-label":"Tabs"},Sd=["onClick"],Ad={class:"text-xs sm:text-sm"},Id={class:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8"},qd={key:0,class:"space-y-6"},Od={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},Zd={class:"bg-white dark:bg-gray-800 shadow rounded-lg transition-colors duration-200"},Fd={class:"px-4 sm:px-6 py-4 border-b border-gray-200 dark:border-gray-700"},Kd={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6"},Ud=["value"],Nd=["value"],Dd={class:"border-t border-gray-200 dark:border-gray-700 pt-4"},$d={class:"flex flex-wrap gap-3"},Rd=["disabled"],Pd=["disabled"],Qd=["disabled"],Ed=["disabled"],Td={class:"md:hidden p-4 space-y-4"},Wd={class:"hidden md:block overflow-x-auto"},Bd={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Md={class:"bg-gray-50 dark:bg-gray-700"},Vd={class:"px-6 py-3 text-left text-sm font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},Gd=["checked"],Ld={key:0,class:"px-6 py-3 text-left text-sm font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},Jd={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Hd={class:"px-6 py-4 whitespace-nowrap"},Yd=["checked","onChange"],Xd={class:"px-6 py-4 whitespace-nowrap text-base font-medium text-gray-900 dark:text-white"},eu={class:"px-6 py-4 whitespace-nowrap text-base text-gray-600 dark:text-gray-300"},au={class:"px-6 py-4 whitespace-nowrap"},tu={class:"text-base font-medium text-gray-900 dark:text-white"},ru={class:"px-6 py-4 whitespace-nowrap text-base text-gray-600 dark:text-gray-300"},lu={class:"px-6 py-4 whitespace-nowrap"},su={class:"px-6 py-4 whitespace-nowrap text-base font-medium text-gray-900 dark:text-white"},nu={key:0,class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},ou={class:"flex flex-col space-y-2"},iu=["onClick"],du={key:1},uu={key:2},cu={key:3},gu={key:4},pu={key:5};S(e({__name:"App",setup(e){const m=p([]),w=p(""),f=p(!0),_=p("true"===localStorage.getItem("darkMode")),j=p(!0);p(null);const C=p(!1),S=p(null),I=p("zawodnicy"),q=p({kluby:[],kategorie:[],plcie:[],statusy:[]}),O=p({kategoria:"",klub:"",statusQr:"",sortowanie:"nr_startowy_asc"}),K=p([]),N=[{id:"zawodnicy",name:"Zawodnicy",icon:U,adminOnly:!1},{id:"drabinka",name:"Drabinka",icon:F,adminOnly:!1},{id:"rankingi",name:"Rankingi",icon:H,adminOnly:!1},{id:"start-line",name:"Centrum Startu",icon:P,adminOnly:!0},{id:"qr-print",name:"Drukowanie QR",icon:G,adminOnly:!0},{id:"qr-dashboard",name:"QR Dashboard",icon:P,adminOnly:!0}],D=a((()=>{let e=m.value;if(w.value){const a=w.value.toLowerCase();e=e.filter((e=>e.imie.toLowerCase().includes(a)||e.nazwisko.toLowerCase().includes(a)||e.kategoria.toLowerCase().includes(a)||e.nr_startowy.toString().includes(a)||e.klub.toLowerCase().includes(a)))}return O.value.kategoria&&(e=e.filter((e=>e.kategoria===O.value.kategoria))),O.value.klub&&(e=e.filter((e=>e.klub===O.value.klub))),"z_qr"===O.value.statusQr?e=e.filter((e=>e.qr_code)):"bez_qr"===O.value.statusQr&&(e=e.filter((e=>!e.qr_code))),"nr_startowy_asc"===O.value.sortowanie?e.sort(((e,a)=>e.nr_startowy-a.nr_startowy)):"nr_startowy_desc"===O.value.sortowanie?e.sort(((e,a)=>a.nr_startowy-e.nr_startowy)):"nazwisko_asc"===O.value.sortowanie?e.sort(((e,a)=>`${e.nazwisko} ${e.imie}`.localeCompare(`${a.nazwisko} ${a.imie}`))):"nazwisko_desc"===O.value.sortowanie?e.sort(((e,a)=>`${a.nazwisko} ${a.imie}`.localeCompare(`${e.nazwisko} ${e.imie}`))):"kategoria_asc"===O.value.sortowanie?e.sort(((e,a)=>e.kategoria.localeCompare(a.kategoria))):"klub_asc"===O.value.sortowanie?e.sort(((e,a)=>e.klub.localeCompare(a.klub))):"czas_asc"===O.value.sortowanie?e.sort(((e,a)=>e.czas_przejazdu_s||a.czas_przejazdu_s?e.czas_przejazdu_s?a.czas_przejazdu_s?e.czas_przejazdu_s-a.czas_przejazdu_s:-1:1:0)):"czas_desc"===O.value.sortowanie&&e.sort(((e,a)=>e.czas_przejazdu_s||a.czas_przejazdu_s?e.czas_przejazdu_s?a.czas_przejazdu_s?a.czas_przejazdu_s-e.czas_przejazdu_s:-1:1:0)),e})),$=a((()=>{const e=m.value.length,a=m.value.filter((e=>"FINISHED"===e.status)).length,t=m.value.filter((e=>"DNF"===e.status||"DSQ"===e.status)).length,r=m.value.filter((e=>"FINISHED"===e.status&&e.czas_przejazdu_s));let l="-",s="-";if(r.length>0){const e=r.reduce(((e,a)=>a.czas_przejazdu_s<e.czas_przejazdu_s?a:e));l=L(e.czas_przejazdu_s),s=`${e.imie} ${e.nazwisko}`}return{total:e,finished:a,dnfDsq:t,recordTime:l,recordHolder:s}})),R=a((()=>[...new Set(m.value.map((e=>e.klub)))])),Q=a((()=>[...new Set(m.value.map((e=>e.kategoria)))])),E=a((()=>N.filter((e=>!e.adminOnly||f.value)))),T=a((()=>D.value.length>0&&D.value.every((e=>K.value.includes(e.nr_startowy))))),W=a((()=>{if(!O.value.kategoria)return!1;const e=D.value.filter((e=>e.kategoria===O.value.kategoria));return e.length>0&&e.every((e=>K.value.includes(e.nr_startowy)))})),B=a((()=>{if(!O.value.klub)return!1;const e=D.value.filter((e=>e.klub===O.value.klub));return e.length>0&&e.every((e=>K.value.includes(e.nr_startowy)))})),M=a((()=>{const e=D.value.filter((e=>!e.qr_code));return e.length>0&&e.every((e=>K.value.includes(e.nr_startowy)))})),V=a((()=>D.value.filter((e=>!e.qr_code)).length));a((()=>{let e=m.value;if(w.value){const a=w.value.toLowerCase();e=e.filter((e=>e.imie.toLowerCase().includes(a)||e.nazwisko.toLowerCase().includes(a)||e.kategoria.toLowerCase().includes(a)||e.nr_startowy.toString().includes(a)||e.klub.toLowerCase().includes(a)))}return q.value.kluby.length>0&&(e=e.filter((e=>q.value.kluby.includes(e.klub)))),q.value.kategorie.length>0&&(e=e.filter((e=>q.value.kategorie.includes(e.kategoria)))),q.value.plcie.length>0&&(e=e.filter((e=>q.value.plcie.includes(e.plec)))),q.value.statusy.length>0&&(e=e.filter((e=>q.value.statusy.includes(e.status)))),e}));const L=e=>`${Math.floor(e/60)}:${(e%60).toFixed(2).padStart(5,"0")}`,J=async()=>{try{j.value=!0;const e=await A.get("/api/zawodnicy");m.value=e.data}catch(e){}finally{j.value=!1}},te=()=>{f.value=!f.value},re=()=>{_.value=!_.value,localStorage.setItem("darkMode",_.value.toString()),_.value?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},le=e=>{S.value=e,C.value=!0},se=()=>{C.value=!1,S.value=null},ne=()=>{J(),_.value?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},oe=()=>{J(),_.value?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},ie=()=>{O.value={kategoria:"",klub:"",statusQr:"",sortowanie:"nr_startowy_asc"},K.value=[]},de=()=>{if(T.value){const e=D.value.map((e=>e.nr_startowy));K.value=K.value.filter((a=>!e.includes(a)))}else{const e=D.value.map((e=>e.nr_startowy)),a=[...new Set([...K.value,...e])];K.value=a}},ge=()=>{if(!O.value.kategoria)return;const e=D.value.filter((e=>e.kategoria===O.value.kategoria)).map((e=>e.nr_startowy));if(W.value)K.value=K.value.filter((a=>!e.includes(a)));else{const a=[...new Set([...K.value,...e])];K.value=a}},pe=()=>{if(!O.value.klub)return;const e=D.value.filter((e=>e.klub===O.value.klub)).map((e=>e.nr_startowy));if(B.value)K.value=K.value.filter((a=>!e.includes(a)));else{const a=[...new Set([...K.value,...e])];K.value=a}},ye=()=>{const e=D.value.filter((e=>!e.qr_code)).map((e=>e.nr_startowy));if(M.value)K.value=K.value.filter((a=>!e.includes(a)));else{const a=[...new Set([...K.value,...e])];K.value=a}},xe=()=>{K.value=[]};return y((()=>{J(),_.value?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")})),(e,a)=>(r(),t("div",sd,[l("header",nd,[l("div",od,[l("div",id,[l("div",dd,[l("h1",ud,[a[7]||(a[7]=l("span",{class:"hidden sm:inline"},"SKATECROSS Dashboard",-1)),a[8]||(a[8]=l("span",{class:"sm:hidden"},"SKATECROSS",-1)),f.value?(r(),t("span",cd,a[6]||(a[6]=[g(" 🔧 "),l("span",{class:"hidden sm:inline ml-1"},"ADMIN",-1)]))):d("",!0)])]),l("div",gd,[l("div",pd,[l("div",yd,[u(c(Y),{class:"h-5 w-5 text-gray-400"})]),x(l("input",{type:"text",class:"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg leading-5 bg-white dark:bg-gray-700 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm transition-colors duration-200 shadow-sm",placeholder:"Szukaj zawodników...","onUpdate:modelValue":a[0]||(a[0]=e=>w.value=e)},null,512),[[h,w.value]])])]),l("div",xd,[l("div",vd,[a[9]||(a[9]=l("label",{class:"text-xs sm:text-sm text-gray-600 dark:text-gray-300 hidden sm:inline"},"Admin:",-1)),l("button",{onClick:te,class:n(["relative inline-flex h-5 w-9 sm:h-6 sm:w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",f.value?"bg-indigo-600":"bg-gray-200 dark:bg-gray-600"])},[l("span",{class:n(["pointer-events-none inline-block h-4 w-4 sm:h-5 sm:w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",f.value?"translate-x-4 sm:translate-x-5":"translate-x-0"])},null,2)],2)]),l("button",kd,[u(c(X),{class:"h-5 w-5 sm:h-6 sm:w-6"})]),l("button",{onClick:re,class:"p-1 sm:p-2 text-gray-400 dark:text-gray-300 hover:text-gray-500 dark:hover:text-gray-200 transition-colors duration-200",title:_.value?"Przełącz na tryb jasny":"Przełącz na tryb ciemny"},[_.value?(r(),s(c(ee),{key:0,class:"h-5 w-5 sm:h-6 sm:w-6"})):(r(),s(c(ae),{key:1,class:"h-5 w-5 sm:h-6 sm:w-6"}))],8,bd),l("div",md,[l("span",wd,i(f.value?"A":"U"),1)])])]),l("div",fd,[l("div",hd,[l("div",zd,[u(c(Y),{class:"h-4 w-4 text-gray-400"})]),x(l("input",{type:"text",class:"block w-full pl-9 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md leading-5 bg-white dark:bg-gray-700 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 text-sm transition-colors duration-200",placeholder:"Szukaj zawodników...","onUpdate:modelValue":a[1]||(a[1]=e=>w.value=e)},null,512),[[h,w.value]])])])])]),l("div",_d,[l("div",jd,[l("nav",Cd,[(r(!0),t(k,null,b(E.value,(e=>(r(),t("button",{key:e.id,onClick:a=>I.value=e.id,class:n([I.value===e.id?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600","whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm transition-colors duration-200 flex items-center"])},[(r(),s(o(e.icon),{class:"h-4 w-4 sm:h-5 sm:w-5 mr-1 sm:mr-2"})),l("span",Ad,i(e.name),1)],10,Sd)))),128))])])]),l("main",Id,["zawodnicy"===I.value?(r(),t("div",qd,[l("div",Od,[u(ue,{title:"Łącznie zawodników",value:$.value.total.toString(),icon:"👥",color:"blue",subtitle:"Wszyscy zawodnicy"},null,8,["value"]),u(ue,{title:"Ukończyli trasę",value:$.value.finished.toString(),icon:"✅",color:"green",subtitle:"Status FINISHED"},null,8,["value"]),u(ue,{title:"DNF/DSQ",value:$.value.dnfDsq.toString(),icon:"⚠️",color:"yellow",subtitle:"Nie ukończyli"},null,8,["value"]),u(ue,{title:"Najlepszy czas",value:$.value.recordTime,icon:"🏆",color:"purple",subtitle:"-"!==$.value.recordHolder?`Rekord: ${$.value.recordHolder}`:""},null,8,["value","subtitle"])]),l("div",Zd,[l("div",Fd,[l("div",{class:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4"},[a[10]||(a[10]=l("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Filtry i sortowanie",-1)),l("button",{onClick:ie,class:"mt-2 sm:mt-0 px-3 py-1 text-sm bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300 rounded-md hover:bg-red-200 dark:hover:bg-red-800 transition-colors duration-200 flex items-center"}," 🗑️ Wyczyść filtry ")]),l("div",Kd,[l("div",null,[a[12]||(a[12]=l("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[l("span",{class:"flex items-center space-x-2"},[l("span",null,"🏆"),l("span",null,"Kategoria")])],-1)),x(l("select",{"onUpdate:modelValue":a[2]||(a[2]=e=>O.value.kategoria=e),class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},[a[11]||(a[11]=l("option",{value:""},"Wszystkie",-1)),(r(!0),t(k,null,b(Q.value,(e=>(r(),t("option",{key:e,value:e},i(e),9,Ud)))),128))],512),[[v,O.value.kategoria]])]),l("div",null,[a[14]||(a[14]=l("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[l("span",{class:"flex items-center space-x-2"},[l("span",null,"🏢"),l("span",null,"Klub")])],-1)),x(l("select",{"onUpdate:modelValue":a[3]||(a[3]=e=>O.value.klub=e),class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},[a[13]||(a[13]=l("option",{value:""},"Wszystkie",-1)),(r(!0),t(k,null,b(R.value,(e=>(r(),t("option",{key:e,value:e},i(e),9,Nd)))),128))],512),[[v,O.value.klub]])]),l("div",null,[a[16]||(a[16]=l("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[l("span",{class:"flex items-center space-x-2"},[l("span",null,"📱"),l("span",null,"Status QR")])],-1)),x(l("select",{"onUpdate:modelValue":a[4]||(a[4]=e=>O.value.statusQr=e),class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},a[15]||(a[15]=[l("option",{value:""},"Wszystkie",-1),l("option",{value:"z_qr"},"Z kodem QR",-1),l("option",{value:"bez_qr"},"Bez kodu QR",-1)]),512),[[v,O.value.statusQr]])]),l("div",null,[a[18]||(a[18]=l("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[l("span",{class:"flex items-center space-x-2"},[l("span",null,"🔄"),l("span",null,"Sortowanie")])],-1)),x(l("select",{"onUpdate:modelValue":a[5]||(a[5]=e=>O.value.sortowanie=e),class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},a[17]||(a[17]=[z('<option value="nr_startowy_asc">Nr startowy (rosnąco)</option><option value="nr_startowy_desc">Nr startowy (malejąco)</option><option value="nazwisko_asc">Nazwisko (A-Z)</option><option value="nazwisko_desc">Nazwisko (Z-A)</option><option value="kategoria_asc">Kategoria (A-Z)</option><option value="klub_asc">Klub (A-Z)</option><option value="czas_asc">Czas (najlepszy)</option><option value="czas_desc">Czas (najgorszy)</option>',8)]),512),[[v,O.value.sortowanie]])])]),l("div",Dd,[a[20]||(a[20]=l("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-3"},[l("span",{class:"flex items-center space-x-2"},[l("span",null,"⚡"),l("span",null,"Operacje grupowe")])],-1)),l("div",$d,[l("button",{onClick:de,class:n(["px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 flex items-center space-x-2 border-2",T.value?"bg-indigo-700 text-white shadow-inner border-indigo-800":"bg-indigo-600 text-white hover:bg-indigo-700 border-transparent"])},[l("span",null,i(T.value?"✅":"☐"),1),l("span",null,i(T.value?"Odznacz wszystkie":"Zaznacz wszystkie")+" ("+i(D.value.length)+")",1)],2),l("button",{onClick:ge,disabled:!O.value.kategoria,class:n(["px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 flex items-center space-x-2 border-2",O.value.kategoria?W.value?"bg-green-700 text-white shadow-inner border-green-800":"bg-green-600 text-white hover:bg-green-700 border-transparent":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed border-transparent"])},[l("span",null,i(O.value.kategoria?W.value?"✅":"☐":"🏆"),1),l("span",null,i(O.value.kategoria?W.value?`Odznacz: ${O.value.kategoria}`:`Zaznacz: ${O.value.kategoria}`:"Wybierz kategorię"),1)],10,Rd),l("button",{onClick:pe,disabled:!O.value.klub,class:n(["px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 flex items-center space-x-2 border-2",O.value.klub?B.value?"bg-purple-700 text-white shadow-inner border-purple-800":"bg-purple-600 text-white hover:bg-purple-700 border-transparent":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed border-transparent"])},[l("span",null,i(O.value.klub?B.value?"✅":"☐":"🏢"),1),l("span",null,i(O.value.klub?B.value?`Odznacz: ${O.value.klub}`:`Zaznacz: ${O.value.klub}`:"Wybierz klub"),1)],10,Pd),l("button",{onClick:ye,class:n(["px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 flex items-center space-x-2 border-2",0===V.value?"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed border-transparent":M.value?"bg-orange-700 text-white shadow-inner border-orange-800":"bg-orange-600 text-white hover:bg-orange-700 border-transparent"]),disabled:0===V.value},[l("span",null,i(M.value?"✅":"☐"),1),l("span",null,i(M.value?"Odznacz bez QR":"Zaznacz bez QR")+" ("+i(V.value)+")",1)],10,Qd),l("button",{onClick:xe,disabled:0===K.value.length,class:n(["px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 flex items-center space-x-2 border-2 border-transparent",K.value.length>0?"bg-gray-600 text-white hover:bg-gray-700":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed"])},[a[19]||(a[19]=l("span",null,"🗑️",-1)),l("span",null,"Wyczyść zaznaczenia ("+i(K.value.length)+")",1)],10,Ed)])])]),l("div",Td,[(r(!0),t(k,null,b(D.value,(e=>(r(),s(je,{key:e.nr_startowy,zawodnik:e,isAdmin:f.value,onEdit:le},null,8,["zawodnik","isAdmin"])))),128))]),l("div",Wd,[l("table",Bd,[l("thead",Md,[l("tr",null,[l("th",Vd,[l("input",{type:"checkbox",checked:T.value,onChange:de,class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 dark:border-gray-600 rounded"},null,40,Gd)]),a[21]||(a[21]=l("th",{class:"px-6 py-3 text-left text-sm font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Nr startowy ",-1)),a[22]||(a[22]=l("th",{class:"px-6 py-3 text-left text-sm font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Klub ",-1)),a[23]||(a[23]=l("th",{class:"px-6 py-3 text-left text-sm font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Zawodnik ",-1)),a[24]||(a[24]=l("th",{class:"px-6 py-3 text-left text-sm font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Kategoria ",-1)),a[25]||(a[25]=l("th",{class:"px-6 py-3 text-left text-sm font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Status ",-1)),a[26]||(a[26]=l("th",{class:"px-6 py-3 text-left text-sm font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Czas ",-1)),f.value?(r(),t("th",Ld," Akcje ")):d("",!0)])]),l("tbody",Jd,[(r(!0),t(k,null,b(D.value,(e=>(r(),t("tr",{key:e.nr_startowy},[l("td",Hd,[l("input",{type:"checkbox",checked:K.value.includes(e.nr_startowy),onChange:a=>(e=>{const a=K.value.indexOf(e);a>-1?K.value.splice(a,1):K.value.push(e)})(e.nr_startowy),class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 dark:border-gray-600 rounded"},null,40,Yd)]),l("td",Xd,i(e.nr_startowy),1),l("td",eu,i(e.klub),1),l("td",au,[l("div",tu,i(e.imie)+" "+i(e.nazwisko),1)]),l("td",ru,i(e.kategoria),1),l("td",lu,[u(ce,{status:e.status},null,8,["status"])]),l("td",su,i(e.czas_przejazdu_s?L(e.czas_przejazdu_s):"-"),1),f.value?(r(),t("td",nu,[l("div",ou,[l("button",{onClick:a=>le(e),class:"inline-flex items-center justify-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200 hover:bg-indigo-200 dark:hover:bg-indigo-800 transition-colors duration-200"},[u(c(Z),{class:"h-3 w-3 mr-1"}),a[27]||(a[27]=g(" Edytuj "))],8,iu)])])):d("",!0)])))),128))])])])])])):d("",!0),"drabinka"===I.value?(r(),t("div",du,[u(ka)])):d("",!0),"rankingi"===I.value?(r(),t("div",uu,[u(Qr)])):d("",!0),"start-line"===I.value?(r(),t("div",cu,[u(ld)])):d("",!0),"qr-dashboard"===I.value?(r(),t("div",gu,[u(Bs)])):d("",!0),"qr-print"===I.value?(r(),t("div",pu,[u(zo)])):d("",!0)]),u(Fa,{show:C.value,zawodnik:S.value,onClose:se,onUpdated:ne,onDeleted:oe},null,8,["show","zawodnik"])]))}})).mount("#app");
