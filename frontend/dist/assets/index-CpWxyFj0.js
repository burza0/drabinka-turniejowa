const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-BR0oiPy3.js","assets/qrcode-NovMiFzP.js"])))=>i.map(i=>d[i]);
import{d as _e,b as q,c as r,o as s,a as e,e as fe,n as K,r as We,t as a,f as I,g as D,u as Q,h as re,i as m,j as je,w as U,v as se,F as W,k as H,l as Ct,m as Ce,p as yt,q as ye,s as ue,x as lt,y as Le,z as jt,A as St}from"./vue-vendor-Cq_xe302.js";import{a as we}from"./axios-vendor-xsH4HHeE.js";import{r as rt,a as It,b as He,c as xt,d as Te,e as ot,f as it,g as nt,h as vt,i as De,j as Re,k as Qe,l as Mt,m as Tt,n as Rt,o as Pt,p as At,q as dt,s as ut,t as Nt,u as ct,v as Bt,w as Dt,x as Zt,y as gt}from"./heroicons-Ndw3md8s.js";(function(){const M=document.createElement("link").relList;if(M&&M.supports&&M.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))g(i);new MutationObserver(i=>{for(const A of i)if(A.type==="childList")for(const S of A.addedNodes)S.tagName==="LINK"&&S.rel==="modulepreload"&&g(S)}).observe(document,{childList:!0,subtree:!0});function k(i){const A={};return i.integrity&&(A.integrity=i.integrity),i.referrerPolicy&&(A.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?A.credentials="include":i.crossOrigin==="anonymous"?A.credentials="omit":A.credentials="same-origin",A}function g(i){if(i.ep)return;i.ep=!0;const A=k(i);fetch(i.href,A)}})();const Gt="modulepreload",qt=function(V){return"/"+V},pt={},Ft=function(M,k,g){let i=Promise.resolve();if(k&&k.length>0){let S=function(F){return Promise.all(F.map(u=>Promise.resolve(u).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const Z=document.querySelector("meta[property=csp-nonce]"),P=(Z==null?void 0:Z.nonce)||(Z==null?void 0:Z.getAttribute("nonce"));i=S(k.map(F=>{if(F=qt(F),F in pt)return;pt[F]=!0;const u=F.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${F}"]${h}`))return;const y=document.createElement("link");if(y.rel=u?"stylesheet":Gt,u||(y.as="script"),y.crossOrigin="",y.href=F,P&&y.setAttribute("nonce",P),document.head.appendChild(y),u)return new Promise((R,_)=>{y.addEventListener("load",R),y.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${F}`)))})}))}function A(S){const Z=new Event("vite:preloadError",{cancelable:!0});if(Z.payload=S,window.dispatchEvent(Z),!Z.defaultPrevented)throw S}return i.then(S=>{for(const Z of S||[])Z.status==="rejected"&&A(Z.reason);return M().catch(A)})},Ot={class:"bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg transition-colors duration-200"},Et={class:"p-3 sm:p-5"},Kt={class:"flex items-center"},Vt={class:"flex-shrink-0"},Ut={class:"ml-3 sm:ml-5 w-0 flex-1"},Lt={class:"text-xs sm:text-sm font-medium text-gray-500 dark:text-gray-400 truncate"},Qt={class:"text-base sm:text-lg font-medium text-gray-900 dark:text-white"},Wt={key:0,class:"text-xs text-gray-400 dark:text-gray-500 mt-1"},be=_e({__name:"StatsCard",props:{title:{},value:{},icon:{},color:{},subtitle:{}},setup(V){const M=V,k=q(()=>({blue:"text-blue-400",green:"text-green-400",red:"text-red-400",purple:"text-purple-400",yellow:"text-yellow-400"})[M.color]);return(g,i)=>(s(),r("div",Ot,[e("div",Et,[e("div",Kt,[e("div",Vt,[typeof g.icon!="string"?(s(),fe(We(g.icon),{key:0,class:K([k.value,"h-5 w-5 sm:h-6 sm:w-6"])},null,8,["class"])):(s(),r("span",{key:1,class:K([k.value,"text-lg sm:text-xl"])},a(g.icon),3))]),e("div",Ut,[e("dl",null,[e("dt",Lt,a(g.title),1),e("dd",Qt,a(g.value),1),g.subtitle?(s(),r("dd",Wt,a(g.subtitle),1)):I("",!0)])])])])]))}}),bt=_e({__name:"StatusBadge",props:{status:{},checked_in:{type:Boolean}},setup(V){const M=V,k=q(()=>M.status?M.status:M.checked_in?"ZAMELDOWANY":"NIEZAMELDOWANY"),g=q(()=>{if(M.status)switch(M.status){case"FINISHED":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"DNF":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"DSQ":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}return M.checked_in?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"});return(i,A)=>(s(),r("span",{class:K([g.value,"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},a(k.value),3))}}),Ht={class:"bg-white dark:bg-gray-800 shadow rounded-lg p-3 border border-gray-200 dark:border-gray-700 transition-colors duration-200"},Jt={class:"flex items-center space-x-3 mb-2"},Yt={class:"inline-flex items-center justify-center w-10 h-10 rounded-full bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200 text-base font-bold flex-shrink-0"},Xt={class:"font-bold text-gray-900 dark:text-white leading-tight text-lg"},ea={class:"flex flex-col xs:flex-row xs:items-center xs:justify-between gap-2 mb-3 text-sm"},ta={class:"flex items-center space-x-1 min-w-0"},aa={class:"font-medium text-gray-700 dark:text-gray-300 truncate"},sa={class:"flex items-center space-x-1 min-w-0 xs:flex-shrink-0"},ra={class:"font-medium text-gray-700 dark:text-gray-300 truncate"},oa={class:"flex items-center justify-between bg-gray-50 dark:bg-gray-700 rounded-lg p-3 mb-3"},na={class:"flex items-center space-x-2"},la={class:"text-2xl font-bold text-gray-900 dark:text-white"},ia={key:0,class:"flex space-x-2"},da=_e({__name:"ZawodnikCard",props:{zawodnik:{},isAdmin:{type:Boolean}},emits:["edit"],setup(V){const M=k=>{const g=Math.floor(k/60),i=(k%60).toFixed(2);return`${g}:${i.padStart(5,"0")}`};return(k,g)=>(s(),r("div",Ht,[e("div",Jt,[e("span",Yt,a(k.zawodnik.nr_startowy),1),e("h3",Xt,a(k.zawodnik.imie)+" "+a(k.zawodnik.nazwisko),1)]),e("div",ea,[e("div",ta,[D(Q(rt),{class:"h-4 w-4 text-blue-500 dark:text-blue-400 flex-shrink-0"}),e("span",aa,a(k.zawodnik.klub),1)]),e("div",sa,[D(Q(It),{class:"h-4 w-4 text-green-500 dark:text-green-400 flex-shrink-0"}),e("span",ra,a(k.zawodnik.kategoria),1)])]),e("div",oa,[e("div",na,[D(Q(He),{class:"h-5 w-5 text-purple-500 dark:text-purple-400"}),e("span",la,a(k.zawodnik.czas_przejazdu_s?M(k.zawodnik.czas_przejazdu_s):"-"),1)]),D(bt,{status:k.zawodnik.status,checked_in:k.zawodnik.checked_in},null,8,["status","checked_in"])]),k.isAdmin?(s(),r("div",ia,[e("button",{onClick:g[0]||(g[0]=i=>k.$emit("edit",k.zawodnik)),class:"flex-1 inline-flex items-center justify-center px-3 py-2 text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 transition-colors duration-200"},[D(Q(xt),{class:"h-3 w-3 mr-1"}),g[1]||(g[1]=re(" Edytuj "))])])):I("",!0)]))}}),ua={class:"space-y-6"},ca={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 space-y-4 sm:space-y-0"},ga={class:"flex items-center space-x-3"},pa={key:0,class:"flex justify-center items-center h-64"},ya={key:1,class:"bg-red-50 border border-red-200 rounded-md p-4"},xa={class:"flex"},va={class:"ml-3"},ba={class:"mt-2 text-sm text-red-700"},ka={key:2},ma={class:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mb-6"},wa={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4 sm:p-6 transition-colors duration-200 mb-6"},fa={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6"},ha=["value"],_a={class:"border-t border-gray-200 dark:border-gray-700 pt-4"},za={class:"flex flex-wrap gap-3"},$a={class:"mt-4 flex justify-between items-center text-sm text-gray-500 dark:text-gray-400 border-t border-gray-200 dark:border-gray-700 pt-4"},Ca={class:"space-y-8"},ja={class:"text-xl font-semibold text-gray-900 dark:text-white mb-6"},Sa={class:"space-y-8"},Ia={class:"text-lg font-medium text-gray-800 dark:text-gray-200 mb-4"},Ma={key:0,class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-4"},Ta={class:"grid grid-cols-2 gap-4 text-sm"},Ra={class:"ml-1 text-gray-900 dark:text-white"},Pa={class:"ml-1 text-gray-900 dark:text-white"},Aa={key:1,class:"mb-6"},Na={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},Ba={class:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2"},Da={class:"space-y-1"},Za={class:"text-xs"},Ga={key:2,class:"mb-6"},qa={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Fa={class:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2"},Oa={class:"space-y-1"},Ea={class:"text-xs"},Ka={key:3,class:"mb-6"},Va={class:"border-2 border-yellow-300 dark:border-yellow-600 rounded-lg p-4 bg-yellow-50 dark:bg-yellow-900/20"},Ua={class:"space-y-2"},La={key:0},Qa={key:1},Wa={key:2},Ha={key:3},Ja={class:"text-xs"},Ya={key:4,class:"text-center py-8 text-gray-500 dark:text-gray-400"},Xa=_e({__name:"DrabinkaPucharowa",setup(V){const M=m(null),k=m(!0),g=m(null),i=m({kategoria:"",plec:"",faza:"",sortowanie:"kategoria_asc"}),A=m([]),S=m([]),Z=q(()=>{if(!M.value)return{};const{podsumowanie:T,...w}=M.value;return w}),P=q(()=>Object.keys(Z.value).sort()),F=q(()=>{var d;if(!M.value)return{};const{podsumowanie:T,...w}=M.value;let L={};if(i.value.kategoria)w[i.value.kategoria]&&(L[i.value.kategoria]=w[i.value.kategoria]);else for(const[f,B]of Object.entries(w))(A.value.length===0||A.value.includes(f))&&(L[f]=B);if(i.value.plec||S.value.length>0){const f=i.value.plec||(S.value.length===1?S.value[0]:"");if(f){const B={};for(const[O,ne]of Object.entries(L)){const j={};for(const[c,$]of Object.entries(ne))c===f&&(j[c]=$);Object.keys(j).length>0&&(B[O]=j)}L=B}}if(i.value.faza){const f=i.value.faza,B={};for(const[O,ne]of Object.entries(L)){const j={};for(const[c,$]of Object.entries(ne)){const X={...$};f==="ćwierćfinały"?(delete X.półfinały,delete X.finał):f==="półfinały"?(delete X.ćwierćfinały,delete X.finał):f==="finał"&&(delete X.ćwierćfinały,delete X.półfinały),((d=X[f])==null?void 0:d.length)>0&&(j[c]=X)}Object.keys(j).length>0&&(B[O]=j)}L=B}const p=Object.keys(L).sort((f,B)=>{switch(i.value.sortowanie){case"kategoria_desc":return B.localeCompare(f);case"zawodnikow_desc":return R(L[B])-R(L[f]);case"zawodnikow_asc":return R(L[f])-R(L[B]);default:return f.localeCompare(B)}}),l={};return p.forEach(f=>{l[f]=L[f]}),l}),u=q(()=>A.value.length===P.value.length),h=q(()=>S.value.length===2||i.value.plec===""),y=q(()=>{let T=0;for(const w of Object.values(F.value))T+=R(w);return T}),R=T=>{var L,p;let w=0;for(const l of Object.values(T))if(typeof l=="object"&&l!==null){const d=["ćwierćfinały","półfinały","finał"];for(const f of d)if(((L=l[f])==null?void 0:L.length)>0)for(const B of l[f])w+=((p=B.zawodnicy)==null?void 0:p.length)||0}return w},_=T=>{if(!T)return"-";const w=Math.floor(T/60),L=(T%60).toFixed(2);return`${w}:${L.padStart(5,"0")}`},C=()=>{i.value={kategoria:"",plec:"",faza:"",sortowanie:"kategoria_asc"},A.value=[],S.value=[]},oe=()=>{u.value?(A.value=[],i.value.kategoria=""):(A.value=[...P.value],i.value.kategoria="")},te=()=>{h.value?(S.value=["Mężczyźni"],i.value.plec="Mężczyźni"):(S.value=["Mężczyźni","Kobiety"],i.value.plec="")},N=()=>{i.value.faza==="finał"?i.value.faza="":i.value.faza="finał"},z=async()=>{try{k.value=!0,g.value=null;const T=await we.get("/api/drabinka");M.value=T.data.data||T.data}catch{g.value="Nie udało się załadować drabinki turniejowej"}finally{k.value=!1}};return je(()=>{z()}),(T,w)=>{var L,p,l,d,f,B;return s(),r("div",ua,[e("div",ca,[e("div",ga,[D(Q(Te),{class:"h-8 w-8 text-yellow-600"}),w[4]||(w[4]=e("h2",{class:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white"},"Drabinka Pucharowa SKATECROSS",-1))]),w[5]||(w[5]=e("p",{class:"text-sm text-gray-600 dark:text-gray-400"}," System turniejowy z grupami 4-osobowymi - do ćwierćfinałów awansuje maksymalnie 16 najlepszych zawodników ",-1))]),k.value?(s(),r("div",pa,w[6]||(w[6]=[e("div",{class:"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-500"},null,-1)]))):g.value?(s(),r("div",ya,[e("div",xa,[D(Q(ot),{class:"h-5 w-5 text-red-400"}),e("div",va,[w[7]||(w[7]=e("h3",{class:"text-sm font-medium text-red-800"},"Błąd ładowania drabinki",-1)),e("p",ba,a(g.value),1)])])])):(s(),r("div",ka,[e("div",ma,[D(be,{title:"Zawodnicy w turnieju",value:((L=M.value.podsumowanie)==null?void 0:L.łączna_liczba_zawodników)||0,icon:Q(it),color:"blue"},null,8,["value","icon"]),D(be,{title:"W ćwierćfinałach",value:((p=M.value.podsumowanie)==null?void 0:p.w_ćwierćfinałach)||0,icon:Q(Te),color:"green"},null,8,["value","icon"]),D(be,{title:"Mężczyźni",value:((d=(l=M.value.podsumowanie)==null?void 0:l.podział_płeć)==null?void 0:d.mężczyźni)||0,icon:Q(nt),color:"purple"},null,8,["value","icon"]),D(be,{title:"Kobiety",value:((B=(f=M.value.podsumowanie)==null?void 0:f.podział_płeć)==null?void 0:B.kobiety)||0,icon:Q(nt),color:"red"},null,8,["value","icon"])]),e("div",wa,[e("div",{class:"flex items-center justify-between mb-6"},[w[9]||(w[9]=e("h3",{class:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white"},"Filtry i sortowanie",-1)),e("button",{onClick:C,class:"text-sm text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 flex items-center space-x-1 transition-colors duration-200"},w[8]||(w[8]=[e("span",null,"🗑️",-1),e("span",null,"Wyczyść filtry",-1)]))]),e("div",fa,[e("div",null,[w[11]||(w[11]=e("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[e("span",{class:"flex items-center space-x-2"},[e("span",null,"🏆"),e("span",null,"Kategoria")])],-1)),U(e("select",{"onUpdate:modelValue":w[0]||(w[0]=O=>i.value.kategoria=O),class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},[w[10]||(w[10]=e("option",{value:""},"Wszystkie",-1)),(s(!0),r(W,null,H(P.value,O=>(s(),r("option",{key:O,value:O},a(O),9,ha))),128))],512),[[se,i.value.kategoria]])]),e("div",null,[w[13]||(w[13]=e("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[e("span",{class:"flex items-center space-x-2"},[e("span",null,"👥"),e("span",null,"Płeć")])],-1)),U(e("select",{"onUpdate:modelValue":w[1]||(w[1]=O=>i.value.plec=O),class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},w[12]||(w[12]=[e("option",{value:""},"Wszystkie",-1),e("option",{value:"Mężczyźni"},"Mężczyźni",-1),e("option",{value:"Kobiety"},"Kobiety",-1)]),512),[[se,i.value.plec]])]),e("div",null,[w[15]||(w[15]=e("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[e("span",{class:"flex items-center space-x-2"},[e("span",null,"🎯"),e("span",null,"Faza turnieju")])],-1)),U(e("select",{"onUpdate:modelValue":w[2]||(w[2]=O=>i.value.faza=O),class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},w[14]||(w[14]=[e("option",{value:""},"Wszystkie fazy",-1),e("option",{value:"ćwierćfinały"},"Ćwierćfinały",-1),e("option",{value:"półfinały"},"Półfinały",-1),e("option",{value:"finał"},"Finał",-1)]),512),[[se,i.value.faza]])]),e("div",null,[w[17]||(w[17]=e("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[e("span",{class:"flex items-center space-x-2"},[e("span",null,"🔄"),e("span",null,"Sortowanie")])],-1)),U(e("select",{"onUpdate:modelValue":w[3]||(w[3]=O=>i.value.sortowanie=O),class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},w[16]||(w[16]=[e("option",{value:"kategoria_asc"},"Kategoria (A-Z)",-1),e("option",{value:"kategoria_desc"},"Kategoria (Z-A)",-1),e("option",{value:"zawodnikow_desc"},"Liczba zawodników (malejąco)",-1),e("option",{value:"zawodnikow_asc"},"Liczba zawodników (rosnąco)",-1)]),512),[[se,i.value.sortowanie]])])]),e("div",_a,[w[20]||(w[20]=e("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-3"},[e("span",{class:"flex items-center space-x-2"},[e("span",null,"⚡"),e("span",null,"Operacje grupowe")])],-1)),e("div",za,[e("button",{onClick:oe,class:K(["px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 flex items-center space-x-2 border-2",u.value?"bg-indigo-700 text-white shadow-inner border-indigo-800":"bg-indigo-600 text-white hover:bg-indigo-700 border-transparent"])},[e("span",null,a(u.value?"✅":"☐"),1),e("span",null,a(u.value?"Odznacz wszystkie":"Zaznacz wszystkie")+" kategorie ("+a(P.value.length)+")",1)],2),e("button",{onClick:te,class:K(["px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 flex items-center space-x-2 border-2",h.value?"bg-green-700 text-white shadow-inner border-green-800":"bg-green-600 text-white hover:bg-green-700 border-transparent"])},[e("span",null,a(h.value?"✅":"☐"),1),e("span",null,a(h.value?"Tylko jedna płeć":"Obie płcie"),1)],2),e("button",{onClick:N,class:K(["px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 flex items-center space-x-2 border-2",i.value.faza==="finał"?"bg-yellow-700 text-white shadow-inner border-yellow-800":"bg-yellow-600 text-white hover:bg-yellow-700 border-transparent"])},[w[18]||(w[18]=e("span",null,"🏆",-1)),e("span",null,a(i.value.faza==="finał"?"Pokaż wszystkie":"Tylko finały"),1)],2),e("button",{onClick:C,class:"px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 flex items-center space-x-2 border-2 border-transparent bg-gray-600 text-white hover:bg-gray-700"},w[19]||(w[19]=[e("span",null,"🗑️",-1),e("span",null,"Wyczyść filtry",-1)]))])]),e("div",$a,[e("div",null," Wyświetlane kategorie: "+a(Object.keys(F.value).length)+" z "+a(Object.keys(Z.value).length),1),e("div",null," Łączna liczba zawodników: "+a(y.value),1)])]),e("div",Ca,[(s(!0),r(W,null,H(F.value,(O,ne)=>(s(),r("div",{key:ne,class:"bg-white dark:bg-gray-800 shadow rounded-lg p-6"},[e("h3",ja,"🏆 "+a(ne),1),e("div",Sa,[(s(!0),r(W,null,H(O,(j,c)=>{var $,X,le,G,ce,ie;return U((s(),r("div",{key:c,class:"border-l-4 border-indigo-500 pl-4"},[e("h4",Ia,a(String(c)==="Mężczyźni"?"👨 Mężczyźni":"👩 Kobiety"),1),j.statystyki?(s(),r("div",Ma,[e("div",Ta,[e("div",null,[w[21]||(w[21]=e("span",{class:"font-medium text-gray-700 dark:text-gray-300"},"Łącznie:",-1)),e("span",Ra,a(j.statystyki.łącznie_zawodników),1)]),e("div",null,[w[22]||(w[22]=e("span",{class:"font-medium text-gray-700 dark:text-gray-300"},"W ćwierćfinałach:",-1)),e("span",Pa,a(j.statystyki.w_ćwierćfinałach),1)])])])):I("",!0),(($=j.ćwierćfinały)==null?void 0:$.length)>0&&(!i.value.faza||i.value.faza==="ćwierćfinały")?(s(),r("div",Aa,[w[23]||(w[23]=e("h5",{class:"font-medium text-gray-700 dark:text-gray-300 mb-3"},"🥇 Ćwierćfinały",-1)),e("div",Na,[(s(!0),r(W,null,H(j.ćwierćfinały,ee=>(s(),r("div",{key:ee.grupa,class:"border border-gray-200 dark:border-gray-600 rounded-lg p-3"},[e("div",Ba,"Grupa "+a(ee.grupa)+" (awansuje "+a(ee.awansują)+")",1),e("div",Da,[(s(!0),r(W,null,H(ee.zawodnicy,(Y,de)=>(s(),r("div",{key:Y.nr_startowy,class:K(["text-sm p-2 rounded",de<ee.awansują?"bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-200 font-medium":"bg-gray-50 dark:bg-gray-700 text-gray-600 dark:text-gray-300"])},[re(a(Y.nr_startowy)+". "+a(Y.imie)+" "+a(Y.nazwisko)+" ",1),e("div",Za,a(_(Y.czas_przejazdu_s)),1)],2))),128))])]))),128))])])):I("",!0),((X=j.półfinały)==null?void 0:X.length)>0&&(!i.value.faza||i.value.faza==="półfinały")?(s(),r("div",Ga,[w[24]||(w[24]=e("h5",{class:"font-medium text-gray-700 dark:text-gray-300 mb-3"},"🥈 Półfinały",-1)),e("div",qa,[(s(!0),r(W,null,H(j.półfinały,ee=>(s(),r("div",{key:ee.grupa,class:"border border-gray-200 dark:border-gray-600 rounded-lg p-3"},[e("div",Fa,"Grupa "+a(ee.grupa)+" (awansuje "+a(ee.awansują)+")",1),e("div",Oa,[(s(!0),r(W,null,H(ee.zawodnicy,(Y,de)=>(s(),r("div",{key:Y.nr_startowy,class:K(["text-sm p-2 rounded",de<ee.awansują?"bg-yellow-50 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-200 font-medium":"bg-gray-50 dark:bg-gray-700 text-gray-600 dark:text-gray-300"])},[re(a(Y.nr_startowy)+". "+a(Y.imie)+" "+a(Y.nazwisko)+" ",1),e("div",Ea,a(_(Y.czas_przejazdu_s)),1)],2))),128))])]))),128))])])):I("",!0),((le=j.finał)==null?void 0:le.length)>0&&(!i.value.faza||i.value.faza==="finał")?(s(),r("div",Ka,[w[25]||(w[25]=e("h5",{class:"font-medium text-gray-700 dark:text-gray-300 mb-3"},"🏆 Finał",-1)),e("div",Va,[(s(!0),r(W,null,H(j.finał,ee=>(s(),r("div",{key:ee.grupa},[e("div",Ua,[(s(!0),r(W,null,H(ee.zawodnicy,(Y,de)=>(s(),r("div",{key:Y.nr_startowy,class:K(["text-sm p-3 rounded font-medium",de===0?"bg-yellow-200 dark:bg-yellow-800 text-yellow-900 dark:text-yellow-100":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"])},[de===0?(s(),r("span",La,"🥇")):de===1?(s(),r("span",Qa,"🥈")):de===2?(s(),r("span",Wa,"🥉")):(s(),r("span",Ha,a(de+1)+".",1)),re(" "+a(Y.nr_startowy)+". "+a(Y.imie)+" "+a(Y.nazwisko)+" ",1),e("div",Ja,a(_(Y.czas_przejazdu_s)),1)],2))),128))])]))),128))])])):I("",!0),!((G=j.ćwierćfinały)!=null&&G.length)&&!((ce=j.półfinały)!=null&&ce.length)&&!((ie=j.finał)!=null&&ie.length)?(s(),r("div",Ya,[D(Q(Te),{class:"h-12 w-12 mx-auto mb-3 text-gray-300 dark:text-gray-600"}),w[26]||(w[26]=e("p",null,"Brak zawodników w tej kategorii",-1))])):I("",!0)])),[[Ct,S.value.length===0||S.value.includes(String(c))||i.value.plec===""||i.value.plec===String(c)]])}),128))])]))),128))])]))])}}}),Se=(V,M)=>{const k=V.__vccOpts||V;for(const[g,i]of M)k[g]=i;return k},es=Se(Xa,[["__scopeId","data-v-cdc06006"]]),ts={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},as={class:"relative top-20 mx-auto p-5 border w-full max-w-lg shadow-lg rounded-lg bg-white dark:bg-gray-800"},ss={class:"flex justify-between items-center pb-4 border-b dark:border-gray-600"},rs={class:"text-xl font-semibold text-gray-900 dark:text-white"},os={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ns={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ls=["value"],is={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ds={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},us={key:0,class:"mt-4 p-3 bg-red-50 border border-red-200 rounded-md"},cs={class:"text-sm text-red-700"},gs={key:1,class:"mt-4 p-3 bg-green-50 border border-green-200 rounded-md"},ps={class:"text-sm text-green-700"},ys={class:"flex justify-end space-x-3 mt-6 pt-4 border-t dark:border-gray-600"},xs=["disabled"],vs=_e({__name:"EditZawodnikModal",props:{show:{type:Boolean},zawodnik:{}},emits:["close","updated","deleted"],setup(V,{emit:M}){const k=V,g=M,i=m({nr_startowy:0,imie:"",nazwisko:"",kategoria:"",plec:"",klub:"",czas_przejazdu:"",status:""}),A=m(null),S=m(!1),Z=m(""),P=m(""),F=m([]);je(async()=>{try{const R=await we.get("/api/kluby");R.data&&R.data.nazwy_klubow&&R.data.nazwy_klubow.length>0?F.value=R.data.nazwy_klubow:k.zawodnik&&(F.value=[k.zawodnik.klub].filter(Boolean))}catch{k.zawodnik?F.value=[k.zawodnik.klub].filter(Boolean):F.value=[]}}),Ce(()=>k.zawodnik,R=>{R&&k.show&&(A.value={...R},i.value={nr_startowy:R.nr_startowy,imie:R.imie,nazwisko:R.nazwisko,kategoria:R.kategoria,plec:R.plec,klub:R.klub||"",czas_przejazdu:u(R.czas_przejazdu_s),status:R.status||"DNF"},Z.value="",P.value="")});const u=R=>{if(!R)return"";const _=Math.floor(R/60),C=(R%60).toFixed(3);return _>0?`${_}:${C.padStart(6,"0")}`:C},h=()=>g("close"),y=async()=>{var R,_;S.value=!0,Z.value="",P.value="";try{if(A.value){const C=await we.put(`/api/zawodnicy/${A.value.nr_startowy}`,{imie:i.value.imie,nazwisko:i.value.nazwisko,kategoria:i.value.kategoria,plec:i.value.plec,klub:i.value.klub});await we.put("/api/wyniki",{nr_startowy:i.value.nr_startowy,czas_przejazdu_s:i.value.czas_przejazdu,status:i.value.status}),P.value="Zawodnik został zaktualizowany!"}else{const C=await we.post("/api/zawodnicy",{nr_startowy:i.value.nr_startowy,imie:i.value.imie,nazwisko:i.value.nazwisko,kategoria:i.value.kategoria,plec:i.value.plec,klub:i.value.klub});await we.put("/api/wyniki",{nr_startowy:i.value.nr_startowy,czas_przejazdu_s:i.value.czas_przejazdu,status:i.value.status}),P.value="Zawodnik został dodany!"}setTimeout(()=>{g("updated"),h()},1e3)}catch(C){Z.value=((_=(R=C.response)==null?void 0:R.data)==null?void 0:_.error)||C.message||"Wystąpił błąd podczas zapisywania"}finally{S.value=!1}};return(R,_)=>R.show?(s(),r("div",ts,[e("div",as,[e("div",ss,[e("h3",rs,a(A.value?`Edycja zawodnika #${A.value.nr_startowy}`:"Dodaj nowego zawodnika"),1),e("button",{onClick:h,class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[D(Q(vt),{class:"h-6 w-6"})])]),e("form",{onSubmit:yt(y,["prevent"]),class:"mt-4 text-xl space-y-6"},[e("div",os,[e("div",null,[_[9]||(_[9]=e("label",{class:"block text-lg font-medium text-gray-700 dark:text-gray-300"},"Imię",-1)),U(e("input",{"onUpdate:modelValue":_[0]||(_[0]=C=>i.value.imie=C),type:"text",required:"",class:"mt-1 block w-full rounded-full px-4 py-2 text-xl border-gray-300 shadow-sm bg-gray-100 dark:bg-gray-700 focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-600 dark:text-white"},null,512),[[ye,i.value.imie]])]),e("div",null,[_[10]||(_[10]=e("label",{class:"block text-lg font-medium text-gray-700 dark:text-gray-300"},"Nazwisko",-1)),U(e("input",{"onUpdate:modelValue":_[1]||(_[1]=C=>i.value.nazwisko=C),type:"text",required:"",class:"mt-1 block w-full rounded-full px-4 py-2 text-xl border-gray-300 shadow-sm bg-gray-100 dark:bg-gray-700 focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-600 dark:text-white"},null,512),[[ye,i.value.nazwisko]])])]),e("div",ns,[e("div",null,[_[11]||(_[11]=e("label",{class:"block text-lg font-medium text-gray-700 dark:text-gray-300"},"Nr startowy",-1)),U(e("input",{"onUpdate:modelValue":_[2]||(_[2]=C=>i.value.nr_startowy=C),type:"number",required:"",min:"1",class:"mt-1 block w-full rounded-full px-4 py-2 text-xl border-gray-300 shadow-sm bg-gray-100 dark:bg-gray-700 focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-600 dark:text-white"},null,512),[[ye,i.value.nr_startowy,void 0,{number:!0}]])]),e("div",null,[_[14]||(_[14]=e("label",{class:"block text-lg font-medium text-gray-700 dark:text-gray-300"},"Klub",-1)),F.value.length>0?U((s(),r("select",{key:0,"onUpdate:modelValue":_[3]||(_[3]=C=>i.value.klub=C),required:"",class:"mt-1 block w-full rounded-full px-4 py-2 text-xl border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},[_[12]||(_[12]=e("option",{value:"",disabled:""},"Wybierz klub...",-1)),(s(!0),r(W,null,H(F.value,C=>(s(),r("option",{key:C,value:C},a(C),9,ls))),128))],512)),[[se,i.value.klub]]):(s(),r(W,{key:1},[U(e("input",{"onUpdate:modelValue":_[4]||(_[4]=C=>i.value.klub=C),type:"text",required:"",placeholder:"Wpisz klub",class:"mt-1 block w-full rounded-full px-4 py-2 text-xl border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[ye,i.value.klub]]),_[13]||(_[13]=e("p",{class:"text-xs text-red-500 mt-1"},"Brak klubów w bazie! Wpisz ręcznie.",-1))],64))])]),e("div",is,[e("div",null,[_[16]||(_[16]=e("label",{class:"block text-lg font-medium text-gray-700 dark:text-gray-300"},"Płeć",-1)),U(e("select",{"onUpdate:modelValue":_[5]||(_[5]=C=>i.value.plec=C),required:"",class:"mt-1 block w-full rounded-full px-4 py-2 text-xl border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},_[15]||(_[15]=[e("option",{value:"M"},"👨 Mężczyzna",-1),e("option",{value:"K"},"👩 Kobieta",-1)]),512),[[se,i.value.plec]])]),e("div",null,[_[18]||(_[18]=e("label",{class:"block text-lg font-medium text-gray-700 dark:text-gray-300"},"Kategoria",-1)),U(e("select",{"onUpdate:modelValue":_[6]||(_[6]=C=>i.value.kategoria=C),required:"",class:"mt-1 block w-full rounded-full px-4 py-2 text-xl border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},_[17]||(_[17]=[ue('<option value="Junior A">🏷️ Junior A</option><option value="Junior B">🏷️ Junior B</option><option value="Junior C">🏷️ Junior C</option><option value="Junior D">🏷️ Junior D</option><option value="Masters">🏷️ Masters</option><option value="Senior">🏷️ Senior</option>',6)]),512),[[se,i.value.kategoria]])])]),e("div",ds,[e("div",null,[_[19]||(_[19]=e("label",{class:"block text-lg font-medium text-gray-700 dark:text-gray-300"},"Czas przejazdu",-1)),U(e("input",{"onUpdate:modelValue":_[7]||(_[7]=C=>i.value.czas_przejazdu=C),type:"text",placeholder:"MM:SS.ms lub SS.ms",class:"mt-1 block w-full rounded-full px-4 py-2 text-xl border-gray-300 shadow-sm bg-gray-100 dark:bg-gray-700 focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-600 dark:text-white"},null,512),[[ye,i.value.czas_przejazdu]]),_[20]||(_[20]=e("p",{class:"text-xs text-gray-500 mt-1"},"Format: MM:SS.ms lub SS.ms (np. 1:23.456 lub 45.123)",-1))]),e("div",null,[_[22]||(_[22]=e("label",{class:"block text-lg font-medium text-gray-700 dark:text-gray-300"},"Status",-1)),U(e("select",{"onUpdate:modelValue":_[8]||(_[8]=C=>i.value.status=C),required:"",class:"mt-1 block w-full rounded-full px-4 py-2 text-xl border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},_[21]||(_[21]=[e("option",{value:"NOT_STARTED"},"⏳ Nie wystartował",-1),e("option",{value:"FINISHED"},"✅ Ukończył",-1),e("option",{value:"DNF"},"❌ Nie ukończył",-1),e("option",{value:"DSQ"},"🚫 Dyskwalifikacja",-1)]),512),[[se,i.value.status]])])]),Z.value?(s(),r("div",us,[e("p",cs,a(Z.value),1)])):I("",!0),P.value?(s(),r("div",gs,[e("p",ps,a(P.value),1)])):I("",!0),e("div",ys,[e("button",{type:"button",onClick:h,class:"px-6 py-2 text-base font-semibold text-indigo-700 bg-indigo-100 rounded-full hover:bg-indigo-200 transition-colors"},"✖ Anuluj"),e("button",{type:"submit",disabled:S.value,class:"px-6 py-2 text-base font-semibold text-white bg-green-400 rounded-full hover:bg-green-500 disabled:opacity-50 transition-colors"},a(S.value?"⏳ Zapisywanie...":"💾 Zapisz"),9,xs)])],32)])])):I("",!0)}}),bs={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 space-y-4 sm:space-y-0"},ks={class:"flex items-center space-x-3"},ms={class:"flex items-center space-x-4"},ws=["disabled"],fs={class:"border-b border-gray-200 dark:border-gray-700 mb-6"},hs={class:"-mb-px flex space-x-8 overflow-x-auto"},_s=["onClick"],zs={key:0,class:"ml-2 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 py-0.5 px-2 rounded-full text-xs"},$s={key:0,class:"flex justify-center py-12"},Cs={class:"text-center"},js={key:1},Ss={key:0,class:"space-y-6"},Is={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4 sm:p-6 transition-colors duration-200"},Ms={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6"},Ts={class:"flex items-center gap-4"},Rs={class:"relative w-64"},Ps={key:0,class:"absolute -bottom-5 left-0 text-xs text-gray-500 dark:text-gray-400"},As={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},Ns=["value"],Bs=["value"],Ds={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},Zs={class:"flex items-center gap-4"},Gs={class:"text-sm text-gray-600 dark:text-gray-400"},qs={key:0},Fs={key:1},Os={class:"flex items-center gap-2"},Es={key:0,class:"flex items-center space-x-2"},Ks=["disabled"],Vs=["disabled"],Us={class:"text-xs text-gray-600 dark:text-gray-400 px-2"},Ls=["disabled"],Qs=["disabled"],Ws={class:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden"},Hs={class:"overflow-x-auto"},Js={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Ys={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Xs={key:0},er={colspan:"5",class:"px-6 py-12 text-center text-gray-500 dark:text-gray-400"},tr={key:0},ar={key:1},sr={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},rr={key:0},or={key:1},nr={key:2},lr={key:3},ir={class:"px-6 py-4 whitespace-nowrap"},dr={class:"text-sm font-medium text-gray-900 dark:text-white"},ur={class:"text-xs text-gray-500 dark:text-gray-400"},cr={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},gr={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},pr={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-purple-600 dark:text-purple-400"},yr={key:1,class:"space-y-6"},xr={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4 sm:p-6 transition-colors duration-200"},vr={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6"},br={class:"flex items-center gap-4"},kr={class:"relative w-64"},mr={key:0,class:"absolute -bottom-5 left-0 text-xs text-gray-500 dark:text-gray-400"},wr={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},fr=["value"],hr=["value"],_r={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},zr={class:"flex items-center gap-4"},$r={class:"text-sm text-gray-600 dark:text-gray-400"},Cr={key:0},jr={key:1},Sr={class:"flex items-center gap-2"},Ir={key:0,class:"flex items-center space-x-2"},Mr=["disabled"],Tr=["disabled"],Rr={class:"text-xs text-gray-600 dark:text-gray-400 px-2"},Pr=["disabled"],Ar=["disabled"],Nr={class:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden"},Br={class:"overflow-x-auto"},Dr={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Zr={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Gr={key:0},qr={colspan:"6",class:"px-6 py-12 text-center text-gray-500 dark:text-gray-400"},Fr={key:0},Or={key:1},Er={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},Kr={key:0},Vr={key:1},Ur={key:2},Lr={key:3},Qr={class:"px-6 py-4 whitespace-nowrap"},Wr={class:"text-sm font-medium text-gray-900 dark:text-white"},Hr={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},Jr={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},Yr={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-purple-600 dark:text-purple-400"},Xr={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},eo={key:2,class:"space-y-6"},to={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4 sm:p-6 transition-colors duration-200"},ao={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6"},so={class:"flex items-center gap-4"},ro={class:"relative w-64"},oo={key:0,class:"absolute -bottom-5 left-0 text-xs text-gray-500 dark:text-gray-400"},no={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},lo=["value"],io=["value"],uo={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},co={class:"flex items-center gap-4"},go={class:"text-sm text-gray-600 dark:text-gray-400"},po={key:0},yo={key:1},xo={class:"flex items-center gap-2"},vo={key:0,class:"flex items-center space-x-2"},bo=["disabled"],ko=["disabled"],mo={class:"text-xs text-gray-600 dark:text-gray-400 px-2"},wo=["disabled"],fo=["disabled"],ho={class:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden"},_o={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},zo={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},$o={key:0},Co={colspan:"6",class:"px-6 py-12 text-center text-gray-500 dark:text-gray-400"},jo={key:0},So={key:1},Io={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},Mo={key:0},To={key:1},Ro={class:"px-6 py-4 whitespace-nowrap"},Po={class:"text-sm font-medium text-gray-900 dark:text-white"},Ao={class:"text-sm text-gray-500 dark:text-gray-400"},No={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},Bo={class:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-600 dark:text-green-400"},Do={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},Zo={class:"px-6 py-4 whitespace-nowrap text-sm text-red-500 dark:text-red-400"},Go={key:3,class:"space-y-6"},qo={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4 sm:p-6 transition-colors duration-200"},Fo={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Oo={class:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden"},Eo={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Ko={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Vo={key:0},Uo={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},Lo={key:0},Qo={key:1},Wo={key:2},Ho={key:3},Jo={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},Yo={class:"px-6 py-4 whitespace-nowrap text-sm font-bold text-blue-600 dark:text-blue-400"},Xo={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},en={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},tn={key:4,class:"space-y-6"},an={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4 sm:p-6 transition-colors duration-200"},sn={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},rn={class:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden"},on={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},nn={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},ln={key:0},dn={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},un={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},cn={class:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-600 dark:text-green-400"},gn={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},pn={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},yn={key:5,class:"space-y-6"},xn={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4 sm:p-6 transition-colors duration-200"},vn={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},bn={class:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden"},kn={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},mn={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},wn={key:0},fn={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},hn={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},_n={class:"px-6 py-4 whitespace-nowrap text-center text-sm font-bold text-yellow-600"},zn={class:"px-6 py-4 whitespace-nowrap text-center text-sm font-bold text-gray-400"},$n={class:"px-6 py-4 whitespace-nowrap text-center text-sm font-bold text-yellow-700"},Cn={class:"px-6 py-4 whitespace-nowrap text-center text-sm font-bold text-purple-600"},jn={key:2,class:"text-center py-12"},Sn=3e4,In=_e({__name:"Rankingi",setup(V){const M=m(!1),k=m("2025"),g=m("times"),i=m(0),A=m([]),S=m([]),Z=m([]),P=m([]),F=m([]),u=m([]),h=m(""),y=m(""),R=m(""),_=m("completed"),C=m("time_asc"),oe=m(1),te=m(25),N=m(""),z=m({current_page:1,total_pages:1,total_results:0,per_page:25,has_next:!1,has_prev:!1,start_index:1,end_index:0}),T=m(""),w=m(""),L=m(""),p=m("pozycja_asc"),l=m(""),d=m(1),f=m(25),B=m({current_page:1,total_pages:1,total_results:0,per_page:25,has_next:!1,has_prev:!1,start_index:1,end_index:0}),O=m(""),ne=m(""),j=m(""),c=m("punkty_desc"),$=m(""),X=m(1),le=m(25),G=m({current_page:1,total_pages:1,total_results:0,per_page:25,has_next:!1,has_prev:!1,start_index:1,end_index:0}),ce=m(null),ie=m("punkty_desc"),ee=m(null),Y=m("punkty_desc"),de=m(null),xe=m("zlote_desc"),Je=[{id:"times",name:"Wyniki Czasowe ⏱️",icon:He},{id:"general",name:"Generalna",icon:Te},{id:"individual",name:"Indywidualna",icon:it},{id:"clubs-total",name:"Klubowa - Suma",icon:rt},{id:"clubs-top3",name:"Klubowa - TOP3",icon:rt},{id:"medals",name:"Medale",icon:Te}],Me=m(["Junior D","Junior C","Junior B","Junior A","Senior","Master"]),Pe=q(()=>[...new Set(S.value.map(t=>t.klub).filter(Boolean))].sort());q(()=>[...new Set(S.value.map(t=>t.plec).filter(Boolean))].sort());const Ze=q(()=>{let x=S.value;if(l.value.trim()){const E=l.value.trim().toLowerCase();x=x.filter(J=>`${J.imie} ${J.nazwisko}`.toLowerCase().includes(E)||J.nazwisko.toLowerCase().includes(E)||J.imie.toLowerCase().includes(E))}T.value&&(x=x.filter(E=>E.kategoria===T.value)),w.value&&(x=x.filter(E=>E.klub===w.value)),L.value&&(x=x.filter(E=>E.plec===L.value)),p.value==="pozycja_asc"?x.sort((E,J)=>parseFloat(J.punkty)-parseFloat(E.punkty)):p.value==="pozycja_desc"?x.sort((E,J)=>parseFloat(E.punkty)-parseFloat(J.punkty)):p.value==="punkty_desc"?x.sort((E,J)=>parseFloat(J.punkty)-parseFloat(E.punkty)):p.value==="punkty_asc"?x.sort((E,J)=>parseFloat(E.punkty)-parseFloat(J.punkty)):p.value==="nazwisko_asc"?x.sort((E,J)=>E.nazwisko.localeCompare(J.nazwisko)):p.value==="nazwisko_desc"?x.sort((E,J)=>J.nazwisko.localeCompare(E.nazwisko)):p.value==="klub_asc"?x.sort((E,J)=>(E.klub||"").localeCompare(J.klub||"")):p.value==="kategoria_asc"?x.sort((E,J)=>E.kategoria.localeCompare(J.kategoria)):p.value==="starty_desc"&&x.sort((E,J)=>parseInt(J.liczba_zawodow)-parseInt(E.liczba_zawodow));const t=x.length,o=Math.ceil(t/f.value),ae=(d.value-1)*f.value+1,ge=Math.min(d.value*f.value,t);B.value={current_page:d.value,total_pages:o,total_results:t,per_page:f.value,has_next:d.value<o,has_prev:d.value>1,start_index:t>0?ae:0,end_index:t>0?ge:0};const me=(d.value-1)*f.value,Ie=me+f.value;return x.slice(me,Ie)}),Ge=q(()=>{let x=Z.value;if($.value.trim()){const E=$.value.trim().toLowerCase();x=x.filter(J=>`${J.imie} ${J.nazwisko}`.toLowerCase().includes(E)||J.nazwisko.toLowerCase().includes(E)||J.imie.toLowerCase().includes(E))}O.value&&(x=x.filter(E=>E.kategoria===O.value)),ne.value&&(x=x.filter(E=>E.klub===ne.value)),j.value&&(x=x.filter(E=>E.plec===j.value)),c.value==="punkty_desc"?x.sort((E,J)=>parseFloat(J.punkty_koncowe)-parseFloat(E.punkty_koncowe)):c.value==="punkty_asc"?x.sort((E,J)=>parseFloat(E.punkty_koncowe)-parseFloat(J.punkty_koncowe)):c.value==="nazwisko_asc"?x.sort((E,J)=>E.nazwisko.localeCompare(J.nazwisko)):c.value==="nazwisko_desc"?x.sort((E,J)=>J.nazwisko.localeCompare(E.nazwisko)):c.value==="kategoria_asc"?x.sort((E,J)=>E.kategoria.localeCompare(J.kategoria)):c.value==="starty_desc"?x.sort((E,J)=>parseInt(J.uczestnictwa)-parseInt(E.uczestnictwa)):c.value==="odrzucone_desc"&&x.sort((E,J)=>parseInt(J.odrzucone||0)-parseInt(E.odrzucone||0));const t=x.length,o=Math.ceil(t/le.value),ae=(X.value-1)*le.value+1,ge=Math.min(X.value*le.value,t);G.value={current_page:X.value,total_pages:o,total_results:t,per_page:le.value,has_next:X.value<o,has_prev:X.value>1,start_index:t>0?ae:0,end_index:t>0?ge:0};const me=(X.value-1)*le.value,Ie=me+le.value;return x.slice(me,Ie)}),qe=q(()=>{let x=P.value;return ce.value&&(x=x.filter(t=>parseInt(t.liczba_zawodnikow)>=parseInt(ce.value))),ie.value==="punkty_desc"?x.sort((t,o)=>parseFloat(o.laczne_punkty)-parseFloat(t.laczne_punkty)):ie.value==="punkty_asc"?x.sort((t,o)=>parseFloat(t.laczne_punkty)-parseFloat(o.laczne_punkty)):ie.value==="srednia_desc"?x.sort((t,o)=>parseFloat(o.srednia)-parseFloat(t.srednia)):ie.value==="srednia_asc"?x.sort((t,o)=>parseFloat(t.srednia)-parseFloat(o.srednia)):ie.value==="zawodnicy_desc"?x.sort((t,o)=>parseInt(o.liczba_zawodnikow)-parseInt(t.liczba_zawodnikow)):ie.value==="zawodnicy_asc"?x.sort((t,o)=>parseInt(t.liczba_zawodnikow)-parseInt(o.liczba_zawodnikow)):ie.value==="nazwa_asc"?x.sort((t,o)=>t.klub.localeCompare(o.klub)):ie.value==="nazwa_desc"&&x.sort((t,o)=>o.klub.localeCompare(t.klub)),x}),Fe=q(()=>{let x=F.value;return ee.value&&(x=x.filter(t=>parseInt(t.aktywne_kategorie)>=parseInt(ee.value))),Y.value==="punkty_desc"?x.sort((t,o)=>parseFloat(o.punkty_top3)-parseFloat(t.punkty_top3)):Y.value==="punkty_asc"?x.sort((t,o)=>parseFloat(t.punkty_top3)-parseFloat(o.punkty_top3)):Y.value==="kategorie_desc"?x.sort((t,o)=>parseInt(o.aktywne_kategorie)-parseInt(t.aktywne_kategorie)):Y.value==="kategorie_asc"?x.sort((t,o)=>parseInt(t.aktywne_kategorie)-parseInt(o.aktywne_kategorie)):Y.value==="balance_desc"?x.sort((t,o)=>parseFloat(o.balance)-parseFloat(t.balance)):Y.value==="balance_asc"?x.sort((t,o)=>parseFloat(t.balance)-parseFloat(o.balance)):Y.value==="nazwa_asc"?x.sort((t,o)=>t.klub.localeCompare(o.klub)):Y.value==="nazwa_desc"&&x.sort((t,o)=>o.klub.localeCompare(t.klub)),x}),Oe=q(()=>{let x=u.value;return de.value&&(x=x.filter(t=>parseInt(t.zlote)>=parseInt(de.value))),xe.value==="zlote_desc"?x.sort((t,o)=>parseInt(o.zlote)-parseInt(t.zlote)||parseInt(o.srebrne)-parseInt(t.srebrne)||parseInt(o.brazowe)-parseInt(t.brazowe)):xe.value==="zlote_asc"?x.sort((t,o)=>parseInt(t.zlote)-parseInt(o.zlote)):xe.value==="srebrne_desc"?x.sort((t,o)=>parseInt(o.srebrne)-parseInt(t.srebrne)):xe.value==="srebrne_asc"?x.sort((t,o)=>parseInt(t.srebrne)-parseInt(o.srebrne)):xe.value==="brazowe_desc"?x.sort((t,o)=>parseInt(o.brazowe)-parseInt(t.brazowe)):xe.value==="brazowe_asc"?x.sort((t,o)=>parseInt(t.brazowe)-parseInt(o.brazowe)):xe.value==="lacznie_desc"?x.sort((t,o)=>parseInt(o.lacznie)-parseInt(t.lacznie)):xe.value==="lacznie_asc"?x.sort((t,o)=>parseInt(t.lacznie)-parseInt(o.lacznie)):xe.value==="nazwa_asc"?x.sort((t,o)=>t.klub.localeCompare(o.klub)):xe.value==="nazwa_desc"&&x.sort((t,o)=>o.klub.localeCompare(t.klub)),x}),Ee=q(()=>S.value.length===0&&Z.value.length===0&&P.value.length===0&&u.value.length===0),$e=async()=>{if(M.value){console.log("🚫 Refresh już w toku, przerywam");return}M.value=!0,console.log("🔄 ROZPOCZYNAM refresh rankings...");try{await Promise.all([ke(),ft(),ht(),_t(),zt()]),i.value=Date.now(),console.log("✅ ZAKOŃCZONO refresh rankings - wszystkie dane pobrane")}catch(x){console.error("❌ Error fetching rankings:",x)}finally{M.value=!1}},Ye=()=>{de.value=null,xe.value="zlote_desc"};Ce(g,(x,t)=>{console.log("🔀 Tab changed:",t,"->",x),x==="times"?ke():Date.now()-i.value>Sn&&(console.log("📅 Cache wygasł, pobieram świeże dane..."),$e())}),Ce(k,()=>{console.log("📅 Zmiana sezonu na:",k.value),$e()}),je(()=>{$e()});const ke=async()=>{var x,t,o,ae;console.log("🕐 Pobieranie rankingu czasowego...");try{const ge=new URLSearchParams({typ:"best",status:_.value,limit:te.value.toString(),page:oe.value.toString(),sort:C.value});h.value&&ge.append("kategoria",h.value),y.value&&ge.append("plec",y.value),R.value&&ge.append("klub",R.value),N.value.trim()&&ge.append("search",N.value.trim());const me=await fetch(`/api/rankings/times?${ge}&_t=${Date.now()}`);if(console.log("📡 Time ranking response status:",me.status),me.ok){const Ie=await me.json();console.log("✅ Time ranking data received:",((t=(x=Ie.data)==null?void 0:x.ranking)==null?void 0:t.length)||0,"items"),A.value=((o=Ie.data)==null?void 0:o.ranking)||[],z.value=((ae=Ie.data)==null?void 0:ae.pagination)||z.value,console.log("✅ timeRanking updated, length:",A.value.length),console.log("📊 Pagination:",z.value)}else console.error("❌ Time ranking response not ok:",me.status,me.statusText)}catch(ge){console.error("❌ Error fetching time ranking:",ge)}},Xe=()=>{z.value.has_next&&(oe.value++,ke())},et=()=>{z.value.has_prev&&(oe.value--,ke())},Ae=x=>{x>=1&&x<=z.value.total_pages&&(oe.value=x,ke())},tt=()=>{oe.value=1,ke()};Ce([_],()=>{console.log("🔄 Time ranking filters changed, fetching new data..."),oe.value=1,ke()}),Ce([h,y,R,C],()=>{console.log("🔄 Time ranking filters/sort changed, fetching new data..."),oe.value=1,ke()}),Ce(N,x=>{console.log("🔍 Search query changed:",x),$t()});const Ne=()=>{h.value="",y.value="",R.value="",_.value="completed",C.value="time_asc",N.value="",oe.value=1,te.value=25},at=()=>{B.value.has_next&&d.value++},v=()=>{B.value.has_prev&&d.value--},n=x=>{x>=1&&x<=B.value.total_pages&&(d.value=x)},b=()=>{d.value=1},he=()=>{G.value.has_next&&X.value++},ve=()=>{G.value.has_prev&&X.value--},ze=x=>{x>=1&&x<=G.value.total_pages&&(X.value=x)},pe=()=>{X.value=1},Ke=()=>{T.value="",w.value="",L.value="",p.value="pozycja_asc",l.value="",d.value=1,f.value=25},Ve=()=>{O.value="",ne.value="",j.value="",c.value="punkty_desc",$.value="",X.value=1,le.value=25},kt=()=>{ce.value=null,ie.value="punkty_desc"},mt=()=>{ee.value=null,Y.value="punkty_desc"},wt=x=>{if(!x)return"--:--";const t=parseFloat(x),o=Math.floor(t/60),ae=(t%60).toFixed(3);return`${o}:${ae.padStart(6,"0")}`},ft=async()=>{var x;console.log("🔍 Pobieranie rankingu indywidualnego...");try{const t=await fetch(`/api/rankings/individual?season=${k.value}&_t=${Date.now()}`);if(console.log("📡 Individual response status:",t.status),t.ok){const o=await t.json();console.log("✅ Individual data received:",((x=o.data)==null?void 0:x.length)||0,"items"),S.value=o.data||[],console.log("✅ individualRanking updated, length:",S.value.length)}else console.error("❌ Individual ranking response not ok:",t.status,t.statusText)}catch(t){console.error("❌ Error fetching individual ranking:",t)}},ht=async()=>{var x;console.log("🔍 Pobieranie rankingu generalnego...");try{const t=await fetch(`/api/rankings/general?season=${k.value}&_t=${Date.now()}`);if(console.log("📡 General response status:",t.status),t.ok){const o=await t.json();console.log("✅ General data received:",((x=o.data)==null?void 0:x.length)||0,"items"),Z.value=o.data||[],console.log("✅ generalRanking updated, length:",Z.value.length)}else console.error("❌ General ranking response not ok:",t.status,t.statusText)}catch(t){console.error("❌ Error fetching general ranking:",t)}},_t=async()=>{var x,t;console.log("🔍 Pobieranie rankingów klubowych...");try{const[o,ae]=await Promise.all([fetch(`/api/rankings/clubs/total?season=${k.value}&_t=${Date.now()}`),fetch(`/api/rankings/clubs/top3?season=${k.value}&_t=${Date.now()}`)]);if(console.log("📡 Club total response status:",o.status),console.log("📡 Club top3 response status:",ae.status),o.ok){const ge=await o.json();console.log("✅ Club total data received:",((x=ge.data)==null?void 0:x.length)||0,"items"),P.value=ge.data||[],console.log("✅ clubRankingTotal updated, length:",P.value.length)}else console.error("❌ Club total ranking response not ok:",o.status,o.statusText);if(ae.ok){const ge=await ae.json();console.log("✅ Club top3 data received:",((t=ge.data)==null?void 0:t.length)||0,"items"),F.value=ge.data||[],console.log("✅ clubRankingTop3 updated, length:",F.value.length)}else console.error("❌ Club top3 ranking response not ok:",ae.status,ae.statusText)}catch(o){console.error("❌ Error fetching club rankings:",o)}},zt=async()=>{var x;console.log("🔍 Pobieranie rankingu medalowego...");try{const t=await fetch(`/api/rankings/medals?season=${k.value}&_t=${Date.now()}`);if(console.log("📡 Medal response status:",t.status),t.ok){const o=await t.json();console.log("✅ Medal data received:",((x=o.data)==null?void 0:x.length)||0,"items"),u.value=o.data||[],console.log("✅ medalRanking updated, length:",u.value.length)}else console.error("❌ Medal ranking response not ok:",t.status,t.statusText)}catch(t){console.error("❌ Error fetching medal ranking:",t)}};let st=null;const $t=x=>{st&&clearTimeout(st),st=setTimeout(()=>{oe.value=1,ke()},500)};return(x,t)=>(s(),r("div",null,[e("div",bs,[e("div",ks,[D(Q(De),{class:"h-8 w-8 text-purple-600 dark:text-purple-400"}),t[31]||(t[31]=e("h2",{class:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white"},"Rankingi SKATECROSS",-1))]),e("div",ms,[U(e("select",{"onUpdate:modelValue":t[0]||(t[0]=o=>k.value=o),class:"rounded-lg border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"},t[32]||(t[32]=[e("option",{value:"2025"},"Sezon 2025",-1),e("option",{value:"2024"},"Sezon 2024",-1)]),512),[[se,k.value]]),e("button",{onClick:$e,disabled:M.value,class:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-lg text-white bg-purple-600 hover:bg-purple-700 disabled:opacity-50"},[D(Q(Re),{class:K(["h-4 w-4 mr-2",M.value?"animate-spin":""])},null,8,["class"]),t[33]||(t[33]=re(" Odśwież "))],8,ws)])]),e("div",fs,[e("nav",hs,[(s(),r(W,null,H(Je,o=>e("button",{key:o.id,onClick:ae=>g.value=o.id,class:K(["whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2",g.value===o.id?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"])},[(s(),fe(We(o.icon),{class:"h-5 w-5"})),e("span",null,a(o.name),1),o.count?(s(),r("span",zs,a(o.count),1)):I("",!0)],10,_s)),64))])]),M.value?(s(),r("div",$s,[e("div",Cs,[D(Q(Re),{class:"h-8 w-8 text-purple-500 animate-spin mx-auto mb-4"}),t[34]||(t[34]=e("p",{class:"text-gray-600 dark:text-gray-400"},"Ładowanie rankingów...",-1))])])):(s(),r("div",js,[g.value==="times"?(s(),r("div",Ss,[e("div",Is,[e("div",Ms,[e("div",Ts,[t[36]||(t[36]=e("h3",{class:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white"},"Filtry i sortowanie",-1)),e("div",Rs,[t[35]||(t[35]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})])],-1)),U(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>N.value=o),type:"text",placeholder:"Szukaj zawodników...",class:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm pl-10 pr-3 py-2 transition-all duration-200"},null,512),[[ye,N.value]]),N.value?(s(),r("div",Ps,a(z.value.total_results)+" wyników ",1)):I("",!0)])]),e("button",{onClick:Ne,class:"text-sm text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 flex items-center space-x-1 transition-colors duration-200"},t[37]||(t[37]=[e("span",null,"🗑️",-1),e("span",null,"Wyczyść",-1)]))]),e("div",As,[e("div",null,[t[39]||(t[39]=e("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[e("span",{class:"flex items-center space-x-2"},[e("span",null,"🏆"),e("span",null,"Kategoria")])],-1)),U(e("select",{"onUpdate:modelValue":t[2]||(t[2]=o=>h.value=o),class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},[t[38]||(t[38]=e("option",{value:""},"Wszystkie",-1)),(s(!0),r(W,null,H(Me.value,o=>(s(),r("option",{key:o,value:o},a(o),9,Ns))),128))],512),[[se,h.value]])]),e("div",null,[t[41]||(t[41]=e("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[e("span",{class:"flex items-center space-x-2"},[e("span",null,"👥"),e("span",null,"Płeć")])],-1)),U(e("select",{"onUpdate:modelValue":t[3]||(t[3]=o=>y.value=o),class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},t[40]||(t[40]=[e("option",{value:""},"Wszystkie",-1),e("option",{value:"M"},"Mężczyźni",-1),e("option",{value:"K"},"Kobiety",-1)]),512),[[se,y.value]])]),e("div",null,[t[43]||(t[43]=e("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[e("span",{class:"flex items-center space-x-2"},[e("span",null,"🏢"),e("span",null,"Klub")])],-1)),U(e("select",{"onUpdate:modelValue":t[4]||(t[4]=o=>R.value=o),class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},[t[42]||(t[42]=e("option",{value:""},"Wszystkie",-1)),(s(!0),r(W,null,H(Pe.value,o=>(s(),r("option",{key:o,value:o},a(o),9,Bs))),128))],512),[[se,R.value]])]),e("div",null,[t[45]||(t[45]=e("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[e("span",{class:"flex items-center space-x-2"},[e("span",null,"🔄"),e("span",null,"Sortowanie")])],-1)),U(e("select",{"onUpdate:modelValue":t[5]||(t[5]=o=>C.value=o),class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},t[44]||(t[44]=[ue('<option value="time_asc" data-v-716a0be4>Czas (najlepszy)</option><option value="time_desc" data-v-716a0be4>Czas (najgorszy)</option><option value="name_asc" data-v-716a0be4>Nazwisko (A-Z)</option><option value="name_desc" data-v-716a0be4>Nazwisko (Z-A)</option><option value="kategoria_asc" data-v-716a0be4>Kategoria (A-Z)</option><option value="klub_asc" data-v-716a0be4>Klub (A-Z)</option>',6)]),512),[[se,C.value]])])])]),e("div",Ds,[e("div",Zs,[t[48]||(t[48]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Wyniki Czasowe",-1)),e("div",Gs,[z.value.total_results>0?(s(),r("span",qs," Wyniki "+a(z.value.start_index)+"-"+a(z.value.end_index)+" z "+a(z.value.total_results),1)):(s(),r("span",Fs,"Brak wyników"))]),e("div",Os,[t[47]||(t[47]=e("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Na stronę:",-1)),U(e("select",{"onUpdate:modelValue":t[6]||(t[6]=o=>te.value=o),onChange:tt,class:"text-sm rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white px-2 py-1 focus:border-purple-500 focus:ring-1 focus:ring-purple-500"},t[46]||(t[46]=[e("option",{value:10},"10",-1),e("option",{value:25},"25",-1),e("option",{value:50},"50",-1),e("option",{value:100},"100",-1)]),544),[[se,te.value]])])]),z.value.total_pages>1?(s(),r("div",Es,[e("button",{onClick:t[7]||(t[7]=o=>Ae(1)),disabled:z.value.current_page===1,class:"px-2 py-1 text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed"}," ⏮️ ",8,Ks),e("button",{onClick:et,disabled:!z.value.has_prev,class:"px-2 py-1 text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed"}," ← ",8,Vs),e("span",Us,a(z.value.current_page)+"/"+a(z.value.total_pages),1),e("button",{onClick:Xe,disabled:!z.value.has_next,class:"px-2 py-1 text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed"}," → ",8,Ls),e("button",{onClick:t[8]||(t[8]=o=>Ae(z.value.total_pages)),disabled:z.value.current_page===z.value.total_pages,class:"px-2 py-1 text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed"}," ⏭️ ",8,Qs)])):I("",!0)]),e("div",Ws,[e("div",Hs,[e("table",Js,[t[49]||(t[49]=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Pozycja"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Zawodnik"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Klub"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Kategoria"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Czas")])],-1)),e("tbody",Ys,[A.value.length===0?(s(),r("tr",Xs,[e("td",er,[N.value?(s(),r("div",tr,' Brak wyników dla wyszukiwania: "'+a(N.value)+'" ',1)):(s(),r("div",ar," Brak zawodników spełniających wybrane kryteria "))])])):I("",!0),(s(!0),r(W,null,H(A.value,(o,ae)=>(s(),r("tr",{key:o.nr_startowy,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[e("td",sr,[o.pozycja===1?(s(),r("span",rr,"🥇")):o.pozycja===2?(s(),r("span",or,"🥈")):o.pozycja===3?(s(),r("span",nr,"🥉")):(s(),r("span",lr,a(o.pozycja),1))]),e("td",ir,[e("div",dr,a(o.imie)+" "+a(o.nazwisko),1),e("div",ur,"Nr "+a(o.nr_startowy),1)]),e("td",cr,a(o.klub),1),e("td",gr,a(o.kategoria),1),e("td",pr,a(wt(o.total_time)),1)]))),128))])])])])])):I("",!0),g.value==="individual"?(s(),r("div",yr,[e("div",xr,[e("div",vr,[e("div",br,[t[51]||(t[51]=e("h3",{class:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white"},"Filtry i sortowanie",-1)),e("div",kr,[t[50]||(t[50]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})])],-1)),U(e("input",{"onUpdate:modelValue":t[9]||(t[9]=o=>l.value=o),type:"text",placeholder:"Szukaj zawodników...",class:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm pl-10 pr-3 py-2 transition-all duration-200"},null,512),[[ye,l.value]]),l.value?(s(),r("div",mr,a(x.filteredIndividualRanking.length)+" wyników ",1)):I("",!0)])]),e("button",{onClick:Ke,class:"text-sm text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 flex items-center space-x-1 transition-colors duration-200"},t[52]||(t[52]=[e("span",null,"🗑️",-1),e("span",null,"Wyczyść",-1)]))]),e("div",wr,[e("div",null,[t[54]||(t[54]=e("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[e("span",{class:"flex items-center space-x-2"},[e("span",null,"🏆"),e("span",null,"Kategoria")])],-1)),U(e("select",{"onUpdate:modelValue":t[10]||(t[10]=o=>T.value=o),class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},[t[53]||(t[53]=e("option",{value:""},"Wszystkie",-1)),(s(!0),r(W,null,H(Me.value,o=>(s(),r("option",{key:o,value:o},a(o),9,fr))),128))],512),[[se,T.value]])]),e("div",null,[t[56]||(t[56]=e("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[e("span",{class:"flex items-center space-x-2"},[e("span",null,"🏢"),e("span",null,"Klub")])],-1)),U(e("select",{"onUpdate:modelValue":t[11]||(t[11]=o=>w.value=o),class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},[t[55]||(t[55]=e("option",{value:""},"Wszystkie",-1)),(s(!0),r(W,null,H(Pe.value,o=>(s(),r("option",{key:o,value:o},a(o),9,hr))),128))],512),[[se,w.value]])]),e("div",null,[t[58]||(t[58]=e("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[e("span",{class:"flex items-center space-x-2"},[e("span",null,"👥"),e("span",null,"Płeć")])],-1)),U(e("select",{"onUpdate:modelValue":t[12]||(t[12]=o=>L.value=o),class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},t[57]||(t[57]=[e("option",{value:""},"Wszystkie",-1),e("option",{value:"M"},"Mężczyźni",-1),e("option",{value:"K"},"Kobiety",-1)]),512),[[se,L.value]])]),e("div",null,[t[60]||(t[60]=e("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[e("span",{class:"flex items-center space-x-2"},[e("span",null,"🔄"),e("span",null,"Sortowanie")])],-1)),U(e("select",{"onUpdate:modelValue":t[13]||(t[13]=o=>p.value=o),class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},t[59]||(t[59]=[ue('<option value="pozycja_asc" data-v-716a0be4>Pozycja (najlepsi)</option><option value="pozycja_desc" data-v-716a0be4>Pozycja (najgorsi)</option><option value="punkty_desc" data-v-716a0be4>Punkty (malejąco)</option><option value="punkty_asc" data-v-716a0be4>Punkty (rosnąco)</option><option value="nazwisko_asc" data-v-716a0be4>Nazwisko (A-Z)</option><option value="nazwisko_desc" data-v-716a0be4>Nazwisko (Z-A)</option><option value="kategoria_asc" data-v-716a0be4>Kategoria (A-Z)</option><option value="starty_desc" data-v-716a0be4>Starty (malejąco)</option>',8)]),512),[[se,p.value]])])])]),e("div",_r,[e("div",zr,[t[63]||(t[63]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Klasyfikacja Indywidualna",-1)),e("div",$r,[B.value.total_results>0?(s(),r("span",Cr," Wyniki "+a(B.value.start_index)+"-"+a(B.value.end_index)+" z "+a(B.value.total_results),1)):(s(),r("span",jr,"Brak wyników"))]),e("div",Sr,[t[62]||(t[62]=e("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Na stronę:",-1)),U(e("select",{"onUpdate:modelValue":t[14]||(t[14]=o=>f.value=o),onChange:b,class:"text-sm border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded px-2 py-1 focus:ring-2 focus:ring-purple-500"},t[61]||(t[61]=[e("option",{value:10},"10",-1),e("option",{value:25},"25",-1),e("option",{value:50},"50",-1),e("option",{value:100},"100",-1)]),544),[[se,f.value]])])]),B.value.total_pages>1?(s(),r("div",Ir,[e("button",{onClick:t[15]||(t[15]=o=>n(1)),disabled:B.value.current_page===1,class:"px-2 py-1 text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed"}," ⏮️ ",8,Mr),e("button",{onClick:v,disabled:!B.value.has_prev,class:"px-2 py-1 text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed"}," ← ",8,Tr),e("span",Rr,a(B.value.current_page)+"/"+a(B.value.total_pages),1),e("button",{onClick:at,disabled:!B.value.has_next,class:"px-2 py-1 text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed"}," → ",8,Pr),e("button",{onClick:t[16]||(t[16]=o=>n(B.value.total_pages)),disabled:B.value.current_page===B.value.total_pages,class:"px-2 py-1 text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed"}," ⏭️ ",8,Ar)])):I("",!0)]),e("div",Nr,[e("div",Br,[e("table",Dr,[t[64]||(t[64]=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Pozycja"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Zawodnik"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Klub"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Kategoria"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Punkty"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Starty")])],-1)),e("tbody",Zr,[Ze.value.length===0?(s(),r("tr",Gr,[e("td",qr,[l.value?(s(),r("div",Fr,' Brak wyników dla wyszukiwania: "'+a(l.value)+'" ',1)):(s(),r("div",Or," Brak zawodników spełniających wybrane kryteria "))])])):I("",!0),(s(!0),r(W,null,H(Ze.value,(o,ae)=>(s(),r("tr",{key:o.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[e("td",Er,[ae===0?(s(),r("span",Kr,"🥇")):ae===1?(s(),r("span",Vr,"🥈")):ae===2?(s(),r("span",Ur,"🥉")):(s(),r("span",Lr,a(ae+1),1))]),e("td",Qr,[e("div",Wr,a(o.imie)+" "+a(o.nazwisko),1)]),e("td",Hr,a(o.klub),1),e("td",Jr,a(o.kategoria),1),e("td",Yr,a(o.punkty)+" pkt",1),e("td",Xr,a(o.liczba_zawodow),1)]))),128))])])])])])):I("",!0),g.value==="general"?(s(),r("div",eo,[e("div",to,[e("div",ao,[e("div",so,[t[66]||(t[66]=e("h3",{class:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white"},"Filtry i sortowanie",-1)),e("div",ro,[t[65]||(t[65]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})])],-1)),U(e("input",{"onUpdate:modelValue":t[17]||(t[17]=o=>$.value=o),type:"text",placeholder:"Szukaj zawodników...",class:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm pl-10 pr-3 py-2 transition-all duration-200"},null,512),[[ye,$.value]]),$.value?(s(),r("div",oo,a(x.filteredGeneralRanking.length)+" wyników ",1)):I("",!0)])]),e("button",{onClick:Ve,class:"text-sm text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 flex items-center space-x-1 transition-colors duration-200"},t[67]||(t[67]=[e("span",null,"🗑️",-1),e("span",null,"Wyczyść",-1)]))]),e("div",no,[e("div",null,[t[69]||(t[69]=e("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[e("span",{class:"flex items-center space-x-2"},[e("span",null,"🏆"),e("span",null,"Kategoria")])],-1)),U(e("select",{"onUpdate:modelValue":t[18]||(t[18]=o=>O.value=o),class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},[t[68]||(t[68]=e("option",{value:""},"Wszystkie",-1)),(s(!0),r(W,null,H(Me.value,o=>(s(),r("option",{key:o,value:o},a(o),9,lo))),128))],512),[[se,O.value]])]),e("div",null,[t[71]||(t[71]=e("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[e("span",{class:"flex items-center space-x-2"},[e("span",null,"🏢"),e("span",null,"Klub")])],-1)),U(e("select",{"onUpdate:modelValue":t[19]||(t[19]=o=>ne.value=o),class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},[t[70]||(t[70]=e("option",{value:""},"Wszystkie",-1)),(s(!0),r(W,null,H(Pe.value,o=>(s(),r("option",{key:o,value:o},a(o),9,io))),128))],512),[[se,ne.value]])]),e("div",null,[t[73]||(t[73]=e("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[e("span",{class:"flex items-center space-x-2"},[e("span",null,"👥"),e("span",null,"Płeć")])],-1)),U(e("select",{"onUpdate:modelValue":t[20]||(t[20]=o=>j.value=o),class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},t[72]||(t[72]=[e("option",{value:""},"Wszystkie",-1),e("option",{value:"M"},"Mężczyźni",-1),e("option",{value:"K"},"Kobiety",-1)]),512),[[se,j.value]])]),e("div",null,[t[75]||(t[75]=e("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[e("span",{class:"flex items-center space-x-2"},[e("span",null,"🔄"),e("span",null,"Sortowanie")])],-1)),U(e("select",{"onUpdate:modelValue":t[21]||(t[21]=o=>c.value=o),class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},t[74]||(t[74]=[ue('<option value="punkty_desc" data-v-716a0be4>Punkty (malejąco)</option><option value="punkty_asc" data-v-716a0be4>Punkty (rosnąco)</option><option value="nazwisko_asc" data-v-716a0be4>Nazwisko (A-Z)</option><option value="nazwisko_desc" data-v-716a0be4>Nazwisko (Z-A)</option><option value="kategoria_asc" data-v-716a0be4>Kategoria (A-Z)</option><option value="starty_desc" data-v-716a0be4>Starty (malejąco)</option><option value="odrzucone_desc" data-v-716a0be4>Odrzucone (malejąco)</option>',7)]),512),[[se,c.value]])])])]),e("div",uo,[e("div",co,[t[78]||(t[78]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Klasyfikacja Generalna (n-2)",-1)),e("div",go,[G.value.total_results>0?(s(),r("span",po," Wyniki "+a(G.value.start_index)+"-"+a(G.value.end_index)+" z "+a(G.value.total_results),1)):(s(),r("span",yo,"Brak wyników"))]),e("div",xo,[t[77]||(t[77]=e("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Na stronę:",-1)),U(e("select",{"onUpdate:modelValue":t[22]||(t[22]=o=>le.value=o),onChange:pe,class:"text-sm border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded px-2 py-1 focus:ring-2 focus:ring-purple-500"},t[76]||(t[76]=[e("option",{value:10},"10",-1),e("option",{value:25},"25",-1),e("option",{value:50},"50",-1),e("option",{value:100},"100",-1)]),544),[[se,le.value]])])]),G.value.total_pages>1?(s(),r("div",vo,[e("button",{onClick:t[23]||(t[23]=o=>ze(1)),disabled:G.value.current_page===1,class:"px-2 py-1 text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed"}," ⏮️ ",8,bo),e("button",{onClick:ve,disabled:!G.value.has_prev,class:"px-2 py-1 text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed"}," ← ",8,ko),e("span",mo,a(G.value.current_page)+"/"+a(G.value.total_pages),1),e("button",{onClick:he,disabled:!G.value.has_next,class:"px-2 py-1 text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed"}," → ",8,wo),e("button",{onClick:t[24]||(t[24]=o=>ze(G.value.total_pages)),disabled:G.value.current_page===G.value.total_pages,class:"px-2 py-1 text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed"}," ⏭️ ",8,fo)])):I("",!0)]),e("div",ho,[e("table",_o,[t[79]||(t[79]=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Pozycja"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Zawodnik"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Kategoria"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Punkty końcowe"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Starty"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Odrzucone")])],-1)),e("tbody",zo,[Ge.value.length===0?(s(),r("tr",$o,[e("td",Co,[$.value?(s(),r("div",jo,' Brak wyników dla wyszukiwania: "'+a($.value)+'" ',1)):(s(),r("div",So," Brak zawodników spełniających wybrane kryteria "))])])):I("",!0),(s(!0),r(W,null,H(Ge.value,(o,ae)=>(s(),r("tr",{key:o.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[e("td",Io,[ae===0?(s(),r("span",Mo,"🏆")):(s(),r("span",To,a(ae+1),1))]),e("td",Ro,[e("div",Po,a(o.imie)+" "+a(o.nazwisko),1),e("div",Ao,a(o.klub),1)]),e("td",No,a(o.kategoria),1),e("td",Bo,a(o.punkty_koncowe)+" pkt",1),e("td",Do,a(o.uczestnictwa),1),e("td",Zo,a(o.odrzucone||0),1)]))),128))])])])])):I("",!0),g.value==="clubs-total"?(s(),r("div",Go,[e("div",qo,[e("div",{class:"flex items-center justify-between mb-6"},[t[81]||(t[81]=e("h3",{class:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white"},"Filtry i sortowanie",-1)),e("button",{onClick:kt,class:"text-sm text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 flex items-center space-x-1 transition-colors duration-200"},t[80]||(t[80]=[e("span",null,"🗑️",-1),e("span",null,"Wyczyść filtry",-1)]))]),e("div",Fo,[e("div",null,[t[82]||(t[82]=e("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[e("span",{class:"flex items-center space-x-2"},[e("span",null,"👥"),e("span",null,"Min. zawodników")])],-1)),U(e("input",{"onUpdate:modelValue":t[25]||(t[25]=o=>ce.value=o),type:"number",min:"1",placeholder:"Minimalna liczba",class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},null,512),[[ye,ce.value]])]),e("div",null,[t[84]||(t[84]=e("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[e("span",{class:"flex items-center space-x-2"},[e("span",null,"🔄"),e("span",null,"Sortowanie")])],-1)),U(e("select",{"onUpdate:modelValue":t[26]||(t[26]=o=>ie.value=o),class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},t[83]||(t[83]=[ue('<option value="punkty_desc" data-v-716a0be4>Punkty (malejąco)</option><option value="punkty_asc" data-v-716a0be4>Punkty (rosnąco)</option><option value="srednia_desc" data-v-716a0be4>Średnia (malejąco)</option><option value="srednia_asc" data-v-716a0be4>Średnia (rosnąco)</option><option value="zawodnicy_desc" data-v-716a0be4>Zawodnicy (malejąco)</option><option value="zawodnicy_asc" data-v-716a0be4>Zawodnicy (rosnąco)</option><option value="nazwa_asc" data-v-716a0be4>Nazwa (A-Z)</option><option value="nazwa_desc" data-v-716a0be4>Nazwa (Z-A)</option>',8)]),512),[[se,ie.value]])])])]),t[87]||(t[87]=e("div",{class:"flex items-center justify-between"},[e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Klasyfikacja Klubowa - Suma Punktów"),e("div",{class:"text-sm text-gray-600 dark:text-gray-400"}," Wszystkie punkty zawodników klubu ")],-1)),e("div",Oo,[e("table",Eo,[t[86]||(t[86]=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Pozycja"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Klub"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Łączne punkty"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Zawodnicy"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Średnia")])],-1)),e("tbody",Ko,[qe.value.length===0?(s(),r("tr",Vo,t[85]||(t[85]=[e("td",{colspan:"5",class:"px-6 py-12 text-center text-gray-500 dark:text-gray-400"}," Brak klubów spełniających wybrane kryteria ",-1)]))):I("",!0),(s(!0),r(W,null,H(qe.value,(o,ae)=>(s(),r("tr",{key:o.klub,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[e("td",Uo,[ae===0?(s(),r("span",Lo,"🏆")):ae===1?(s(),r("span",Qo,"🥈")):ae===2?(s(),r("span",Wo,"🥉")):(s(),r("span",Ho,a(ae+1),1))]),e("td",Jo,a(o.klub),1),e("td",Yo,a(o.laczne_punkty)+" pkt",1),e("td",Xo,a(o.liczba_zawodnikow),1),e("td",en,a(parseFloat(o.srednia).toFixed(1))+" pkt",1)]))),128))])])])])):I("",!0),g.value==="clubs-top3"?(s(),r("div",tn,[e("div",an,[e("div",{class:"flex items-center justify-between mb-6"},[t[89]||(t[89]=e("h3",{class:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white"},"Filtry i sortowanie",-1)),e("button",{onClick:mt,class:"text-sm text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 flex items-center space-x-1 transition-colors duration-200"},t[88]||(t[88]=[e("span",null,"🗑️",-1),e("span",null,"Wyczyść filtry",-1)]))]),e("div",sn,[e("div",null,[t[90]||(t[90]=e("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[e("span",{class:"flex items-center space-x-2"},[e("span",null,"🏆"),e("span",null,"Min. aktywnych kategorii")])],-1)),U(e("input",{"onUpdate:modelValue":t[27]||(t[27]=o=>ee.value=o),type:"number",min:"1",placeholder:"Minimalna liczba",class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},null,512),[[ye,ee.value]])]),e("div",null,[t[92]||(t[92]=e("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[e("span",{class:"flex items-center space-x-2"},[e("span",null,"🔄"),e("span",null,"Sortowanie")])],-1)),U(e("select",{"onUpdate:modelValue":t[28]||(t[28]=o=>Y.value=o),class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},t[91]||(t[91]=[ue('<option value="punkty_desc" data-v-716a0be4>Punkty Top 3 (malejąco)</option><option value="punkty_asc" data-v-716a0be4>Punkty Top 3 (rosnąco)</option><option value="kategorie_desc" data-v-716a0be4>Kategorie (malejąco)</option><option value="kategorie_asc" data-v-716a0be4>Kategorie (rosnąco)</option><option value="balance_desc" data-v-716a0be4>Równowaga (malejąco)</option><option value="balance_asc" data-v-716a0be4>Równowaga (rosnąco)</option><option value="nazwa_asc" data-v-716a0be4>Nazwa (A-Z)</option><option value="nazwa_desc" data-v-716a0be4>Nazwa (Z-A)</option>',8)]),512),[[se,Y.value]])])])]),t[95]||(t[95]=e("div",{class:"flex items-center justify-between"},[e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Klasyfikacja Klubowa - Top 3"),e("div",{class:"text-sm text-gray-600 dark:text-gray-400"}," 3 najlepszych zawodników z każdej kategorii ")],-1)),e("div",rn,[e("table",on,[t[94]||(t[94]=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Pozycja"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Klub"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Punkty Top 3"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Kategorie"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Równowaga")])],-1)),e("tbody",nn,[Fe.value.length===0?(s(),r("tr",ln,t[93]||(t[93]=[e("td",{colspan:"5",class:"px-6 py-12 text-center text-gray-500 dark:text-gray-400"}," Brak klubów spełniających wybrane kryteria ",-1)]))):I("",!0),(s(!0),r(W,null,H(Fe.value,(o,ae)=>(s(),r("tr",{key:o.klub,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[e("td",dn,a(ae+1),1),e("td",un,a(o.klub),1),e("td",cn,a(o.punkty_top3)+" pkt",1),e("td",gn,a(o.aktywne_kategorie),1),e("td",pn,a(o.balance),1)]))),128))])])])])):I("",!0),g.value==="medals"?(s(),r("div",yn,[e("div",xn,[e("div",{class:"flex items-center justify-between mb-6"},[t[97]||(t[97]=e("h3",{class:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white"},"Filtry i sortowanie",-1)),e("button",{onClick:Ye,class:"text-sm text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 flex items-center space-x-1 transition-colors duration-200"},t[96]||(t[96]=[e("span",null,"🗑️",-1),e("span",null,"Wyczyść filtry",-1)]))]),e("div",vn,[e("div",null,[t[98]||(t[98]=e("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[e("span",{class:"flex items-center space-x-2"},[e("span",null,"🥇"),e("span",null,"Min. złotych medali")])],-1)),U(e("input",{"onUpdate:modelValue":t[29]||(t[29]=o=>de.value=o),type:"number",min:"0",placeholder:"Minimalna liczba",class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},null,512),[[ye,de.value]])]),e("div",null,[t[100]||(t[100]=e("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[e("span",{class:"flex items-center space-x-2"},[e("span",null,"🔄"),e("span",null,"Sortowanie")])],-1)),U(e("select",{"onUpdate:modelValue":t[30]||(t[30]=o=>xe.value=o),class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},t[99]||(t[99]=[ue('<option value="zlote_desc" data-v-716a0be4>Złote (malejąco)</option><option value="zlote_asc" data-v-716a0be4>Złote (rosnąco)</option><option value="srebrne_desc" data-v-716a0be4>Srebrne (malejąco)</option><option value="srebrne_asc" data-v-716a0be4>Srebrne (rosnąco)</option><option value="brazowe_desc" data-v-716a0be4>Brązowe (malejąco)</option><option value="brazowe_asc" data-v-716a0be4>Brązowe (rosnąco)</option><option value="lacznie_desc" data-v-716a0be4>Łącznie (malejąco)</option><option value="lacznie_asc" data-v-716a0be4>Łącznie (rosnąco)</option><option value="nazwa_asc" data-v-716a0be4>Nazwa (A-Z)</option><option value="nazwa_desc" data-v-716a0be4>Nazwa (Z-A)</option>',10)]),512),[[se,xe.value]])])])]),t[103]||(t[103]=e("div",{class:"flex items-center justify-between"},[e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Klasyfikacja Medalowa"),e("div",{class:"text-sm text-gray-600 dark:text-gray-400"}," Złote, srebrne i brązowe medale ")],-1)),e("div",bn,[e("table",kn,[t[102]||(t[102]=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Pozycja"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Klub"),e("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"🥇 Złote"),e("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"🥈 Srebrne"),e("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"🥉 Brązowe"),e("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Łącznie")])],-1)),e("tbody",mn,[Oe.value.length===0?(s(),r("tr",wn,t[101]||(t[101]=[e("td",{colspan:"6",class:"px-6 py-12 text-center text-gray-500 dark:text-gray-400"}," Brak klubów spełniających wybrane kryteria ",-1)]))):I("",!0),(s(!0),r(W,null,H(Oe.value,(o,ae)=>(s(),r("tr",{key:o.klub,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[e("td",fn,a(ae+1),1),e("td",hn,a(o.klub),1),e("td",_n,a(o.zlote),1),e("td",zn,a(o.srebrne),1),e("td",$n,a(o.brazowe),1),e("td",Cn,a(o.lacznie),1)]))),128))])])])])):I("",!0)])),!M.value&&Ee.value?(s(),r("div",jn,[D(Q(De),{class:"h-16 w-16 text-gray-300 mx-auto mb-4"}),t[105]||(t[105]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"},"Brak danych rankingowych",-1)),t[106]||(t[106]=e("p",{class:"text-gray-600 dark:text-gray-400 mb-6"}," Rankingi będą dostępne po zakończeniu pierwszych zawodów w sezonie. ",-1)),e("button",{onClick:$e,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg text-white bg-purple-600 hover:bg-purple-700"},[D(Q(Re),{class:"h-4 w-4 mr-2"}),t[104]||(t[104]=re(" Sprawdź ponownie "))])])):I("",!0)]))}}),Mn=Se(In,[["__scopeId","data-v-716a0be4"]]),Tn={class:"space-y-6"},Rn={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 space-y-4 sm:space-y-0"},Pn={class:"flex items-center space-x-3"},An={class:"flex space-x-2"},Nn=["disabled"],Bn={class:"bg-white dark:bg-gray-800 shadow rounded-lg p-6"},Dn={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},Zn={class:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg"},Gn={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},qn={class:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg"},Fn={class:"text-2xl font-bold text-green-600 dark:text-green-400"},On={class:"bg-orange-50 dark:bg-orange-900/20 p-4 rounded-lg"},En={class:"text-2xl font-bold text-orange-600 dark:text-orange-400"},Kn={class:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg"},Vn={class:"text-2xl font-bold text-purple-600 dark:text-purple-400"},Un={key:0,class:"bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-400 p-4 rounded-lg"},Ln={class:"flex"},Qn={class:"ml-3"},Wn={class:"text-sm font-medium text-yellow-800 dark:text-yellow-200"},Hn={class:"mt-2 text-sm text-yellow-700 dark:text-yellow-300"},Jn={class:"list-disc list-inside space-y-1"},Yn={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Xn={class:"bg-white dark:bg-gray-800 shadow rounded-lg p-6"},el={class:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center"},tl={class:"ml-2 text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-full"},al={class:"space-y-3 max-h-80 overflow-y-auto"},sl={class:"flex items-center space-x-3"},rl={class:"w-10 h-10 bg-indigo-100 dark:bg-indigo-900 rounded-full flex items-center justify-center"},ol={class:"text-sm font-medium text-indigo-600 dark:text-indigo-400"},nl={class:"text-sm font-medium text-gray-900 dark:text-white"},ll={class:"text-xs text-gray-500 dark:text-gray-400"},il={class:"text-right"},dl={class:"text-xs text-gray-500 dark:text-gray-400"},ul={class:"text-xs text-gray-400 dark:text-gray-500"},cl={class:"bg-white dark:bg-gray-800 shadow rounded-lg p-6"},gl={class:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center"},pl={class:"ml-2 text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-full"},yl={class:"space-y-3"},xl={class:"flex items-center space-x-3"},vl={class:"text-sm font-medium text-gray-900 dark:text-white"},bl={class:"text-xs text-gray-500 dark:text-gray-400"},kl={class:"text-right"},ml={class:"text-xs text-gray-500 dark:text-gray-400"},wl={class:"flex space-x-1 text-xs"},fl={class:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-1 rounded"},hl={class:"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 px-2 py-1 rounded"},_l={class:"bg-white dark:bg-gray-800 shadow rounded-lg p-6"},zl={class:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center"},$l={class:"overflow-x-auto"},Cl={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},jl={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Sl={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},Il={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"},Ml={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"},Tl={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300"},Rl={class:"px-6 py-4 whitespace-nowrap"},Pl={class:"flex items-center"},Al={class:"w-16 bg-gray-200 dark:bg-gray-700 rounded-full h-2"},Nl={class:"ml-2 text-sm text-gray-500 dark:text-gray-300"},Bl={key:1,class:"bg-white dark:bg-gray-800 shadow rounded-lg p-6"},Dl={class:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center"},Zl={class:"space-y-2"},Gl={class:"text-sm font-medium text-gray-600 dark:text-gray-300 w-20"},ql={class:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-4 relative"},Fl={class:"text-sm text-gray-500 dark:text-gray-400 w-24 text-right"},Ol={class:"bg-white dark:bg-gray-800 shadow rounded-lg p-6"},El={class:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center"},Kl={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Vl={class:"text-xs text-gray-500"},Ul={class:"bg-white dark:bg-gray-800 shadow rounded-lg p-6"},Ll={class:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center"},Ql={class:"bg-orange-50 dark:bg-orange-900/20 border-l-4 border-orange-400 p-4 mb-6"},Wl={class:"flex"},Hl={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Jl={class:"space-y-4"},Yl=["disabled"],Xl=["disabled"],ei={key:0},ti=["disabled"],ai=["disabled"],si={class:"space-y-4"},ri={key:0,class:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"},oi={class:"flex items-center space-x-4 mb-3"},ni={class:"w-12 h-12 bg-indigo-100 dark:bg-indigo-900 rounded-full flex items-center justify-center"},li={class:"text-lg font-bold text-indigo-600 dark:text-indigo-400"},ii={class:"text-lg font-medium text-gray-900 dark:text-white"},di={class:"text-sm text-gray-500 dark:text-gray-400"},ui={class:"grid grid-cols-2 gap-3 text-sm"},ci={class:"font-medium text-gray-900 dark:text-white"},gi={class:"flex items-center mt-1"},pi={key:0,class:"inline-flex items-center px-2 py-1 text-xs bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded-full"},yi={key:1,class:"inline-flex items-center px-2 py-1 text-xs bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 rounded-full"},xi={class:"font-medium text-gray-900 dark:text-white"},vi={class:"font-medium text-gray-900 dark:text-white"},bi={key:0,class:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-600"},ki={class:"text-xs text-gray-500 dark:text-gray-400"},mi={key:1,class:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg"},wi={class:"flex"},fi={class:"ml-3"},hi={class:"text-sm text-red-700 dark:text-red-300 mt-1"},_i={key:2,class:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"},zi={key:3,class:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg text-center"},$i={key:0,class:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700"},Ci={class:"text-md font-medium text-gray-900 dark:text-white mb-4"},ji={class:"space-y-2 max-h-40 overflow-y-auto"},Si={class:"flex items-center space-x-3"},Ii={class:"w-8 h-8 bg-orange-100 dark:bg-orange-900 rounded-full flex items-center justify-center"},Mi={class:"text-sm font-medium text-orange-600 dark:text-orange-400"},Ti={class:"text-sm font-medium text-gray-900 dark:text-white"},Ri={class:"text-xs text-gray-500 dark:text-gray-400"},Pi={class:"text-xs text-gray-500 dark:text-gray-400"},Ai=_e({__name:"QrAdminDashboard",setup(V){const M=m(!1),k=m({total_zawodnikow:0,z_qr_kodami:0,zameldowanych:0,bez_qr_kodow:0,procent_zameldowanych:0}),g=m([]),i=m([]),A=m([]),S=m([]),Z=m([]),P=m({nr_startowy:0,powod:"",opis:""}),F=m(!1),u=m(null),h=m(!1),y=m([]);let R=null,_=null;const C=q(()=>S.value.length===0?1:Math.max(...S.value.map(j=>Math.max(j.check_ins,j.results)))),oe=q(()=>{const j=P.value.nr_startowy>0,c=P.value.powod!=="",$=u.value!==null,X=u.value?!u.value.checked_in:!1;return console.log("🔍 canPerformManualCheckIn debug:",{hasNumber:j,hasReason:c,hasPreview:$,notCheckedIn:X,manualCheckInForm:P.value,previewZawodnik:u.value}),j&&c&&$&&X});Ce(()=>P.value.nr_startowy,j=>{_&&clearTimeout(_),j&&j>0?_=setTimeout(()=>{B(j)},500):u.value=null});const te=async()=>{try{M.value=!0;const j=await we.get("/api/unified/dashboard-data");j.data.success&&(k.value={total_zawodnikow:j.data.stats.zawodnicy.total_zawodnicy,z_qr_kodami:j.data.stats.zawodnicy.total_zawodnicy,zameldowanych:j.data.stats.zawodnicy.zameldowani,bez_qr_kodow:0,procent_zameldowanych:Math.round(j.data.stats.zawodnicy.zameldowani/j.data.stats.zawodnicy.total_zawodnicy*100)},g.value=[],i.value=[],A.value=[],S.value=[],Z.value=[])}catch(j){console.error("Błąd podczas pobierania danych dashboard:",j)}finally{M.value=!1}},N=()=>{te()},z=async()=>{try{console.log("Export functionality temporarily disabled - waiting for unified API endpoint")}catch(j){console.error("Błąd podczas eksportu:",j)}},T=async()=>{},w=async()=>{},L=()=>{},p=j=>new Date(j).toLocaleTimeString("pl-PL",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),l=j=>new Date(j).toLocaleTimeString("pl-PL",{hour:"2-digit",minute:"2-digit"}),d=j=>({"check-in":"Zameldowanie",finish:"Meta",verify:"Weryfikacja"})[j]||j,f=j=>({awaria_skanera:"Awaria skanera QR",brak_kodu:"Brak/uszkodzony kod QR",problem_techniczny:"Problem techniczny",decyzja_organizatora:"Decyzja organizatora",inne:"Inne"})[j]||j,B=async j=>{if(!j||j<=0){u.value=null;return}try{h.value=!0;const c=await we.get(`/api/zawodnicy/${j}`);c.data.success?u.value=c.data.data:u.value=null}catch(c){console.error("Błąd podczas pobierania podglądu zawodnika:",c),u.value=null}finally{h.value=!1}},O=async()=>{var j,c,$,X,le,G,ce,ie,ee;if(console.log("🔍 performManualCheckIn called, canPerformManualCheckIn:",oe.value),console.log("🔍 manualCheckInForm:",P.value),console.log("🔍 previewZawodnik:",u.value),!oe.value){console.log("❌ Cannot perform manual check-in");return}try{F.value=!0;const Y={identifier:P.value.nr_startowy,action:"checkin"};console.log("🚀 Sending payload:",Y);const de=await we.post("/api/unified/register-athlete",Y);console.log("✅ Response received:",de.data),de.data.success?(await te(),await B(P.value.nr_startowy),y.value.unshift({nr_startowy:P.value.nr_startowy,imie:((j=u.value)==null?void 0:j.imie)||"",nazwisko:((c=u.value)==null?void 0:c.nazwisko)||"",kategoria:(($=u.value)==null?void 0:$.kategoria)||"",checked_in:!0,check_in_time:new Date().toISOString(),qr_code:((X=u.value)==null?void 0:X.qr_code)||!1,ma_wynik:((le=u.value)==null?void 0:le.ma_wynik)||!1,klub:((G=u.value)==null?void 0:G.klub)||"",plec:((ce=u.value)==null?void 0:ce.plec)||"",powod:P.value.powod,timestamp:new Date().toISOString()}),console.log("✅ Manual check-in successful, resetting form"),P.value={nr_startowy:0,powod:"",opis:""}):console.log("❌ Manual check-in failed:",de.data)}catch(Y){console.error("❌ Błąd podczas ręcznego zameldowania:",Y);const de=((ee=(ie=Y.response)==null?void 0:ie.data)==null?void 0:ee.message)||"Nieznany błąd serwera";console.error("❌ Manual check-in error:",de)}finally{F.value=!1}},ne=async()=>{try{console.log("Manual check-ins history temporarily disabled - waiting for unified API endpoint"),y.value=[]}catch(j){console.error("Błąd podczas pobierania ręcznych zameldowań:",j)}};return je(()=>{te(),ne(),R=setInterval(te,1e4)}),lt(()=>{R&&clearInterval(R),_&&clearTimeout(_)}),(j,c)=>(s(),r("div",Tn,[e("div",Rn,[e("div",Pn,[D(Q(Qe),{class:"h-8 w-8 text-indigo-600"}),c[3]||(c[3]=e("h2",{class:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white"},"QR Admin Dashboard",-1))]),e("div",An,[e("button",{onClick:N,disabled:M.value,class:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 flex items-center"},[D(Q(Re),{class:K(["h-4 w-4 mr-2",{"animate-spin":M.value}])},null,8,["class"]),c[4]||(c[4]=re(" Odśwież "))],8,Nn),e("button",{onClick:z,class:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center"},[D(Q(Mt),{class:"h-4 w-4 mr-2"}),c[5]||(c[5]=re(" Eksport CSV "))])])]),e("div",Bn,[e("div",Dn,[e("div",Zn,[e("div",Gn,a(k.value.total_zawodnikow||0),1),c[6]||(c[6]=e("div",{class:"text-sm text-blue-700 dark:text-blue-300"},"Wszyscy zawodnicy",-1))]),e("div",qn,[e("div",Fn,a(k.value.z_qr_kodami||0),1),c[7]||(c[7]=e("div",{class:"text-sm text-green-700 dark:text-green-300"},"Z QR kodami",-1))]),e("div",On,[e("div",En,a(k.value.zameldowanych||0),1),c[8]||(c[8]=e("div",{class:"text-sm text-orange-700 dark:text-orange-300"},"Zameldowanych",-1))]),e("div",Kn,[e("div",Vn,a(k.value.procent_zameldowanych||0)+"% ",1),c[9]||(c[9]=e("div",{class:"text-sm text-purple-700 dark:text-purple-300"},"% zameldowanych",-1))])])]),Z.value.length>0?(s(),r("div",Un,[e("div",Ln,[D(Q(ot),{class:"h-5 w-5 text-yellow-400"}),e("div",Qn,[e("h3",Wn," Wykryto problemy ("+a(Z.value.length)+") ",1),e("div",Hn,[e("ul",Jn,[(s(!0),r(W,null,H(Z.value,$=>(s(),r("li",{key:$.type},a($.title)+": "+a($.count),1))),128))])])])])])):I("",!0),e("div",Yn,[e("div",Xn,[e("h2",el,[D(Q(He),{class:"h-5 w-5 mr-2 text-gray-500"}),c[10]||(c[10]=re(" Ostatnia aktywność ")),e("span",tl,a(g.value.length),1)]),e("div",al,[(s(!0),r(W,null,H(g.value.slice(0,10),$=>(s(),r("div",{key:`${$.nr_startowy}-${$.scan_time}`,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg"},[e("div",sl,[e("div",rl,[e("span",ol,a($.nr_startowy),1)]),e("div",null,[e("div",nl,a($.imie)+" "+a($.nazwisko),1),e("div",ll,a($.kategoria)+" • "+a(d($.checkpoint_name)),1)])]),e("div",il,[e("div",dl,a(p($.scan_time)),1),e("div",ul,a($.device_id),1)])]))),128))])]),e("div",cl,[e("h2",gl,[D(Q(Tt),{class:"h-5 w-5 mr-2 text-gray-500"}),c[11]||(c[11]=re(" Aktywne urządzenia ")),e("span",pl,a(i.value.length),1)]),e("div",yl,[(s(!0),r(W,null,H(i.value,$=>(s(),r("div",{key:$.device_id,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg"},[e("div",xl,[c[12]||(c[12]=e("div",{class:"w-3 h-3 bg-green-400 rounded-full animate-pulse"},null,-1)),e("div",null,[e("div",vl,a($.device_id),1),e("div",bl,a($.total_scans)+" skanów • "+a($.unique_zawodnicy)+" zawodników ",1)])]),e("div",kl,[e("div",ml,a(p($.last_activity)),1),e("div",wl,[e("span",fl,a($.check_ins)+" check-in ",1),e("span",hl,a($.results)+" wyniki ",1)])])]))),128))])])]),e("div",_l,[e("h2",zl,[D(Q(De),{class:"h-5 w-5 mr-2 text-gray-500"}),c[13]||(c[13]=re(" Statystyki według kategorii "))]),e("div",$l,[e("table",Cl,[c[14]||(c[14]=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Kategoria "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Łącznie "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Zameldowanych "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Z wynikami "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Postęp ")])],-1)),e("tbody",jl,[(s(!0),r(W,null,H(A.value,$=>(s(),r("tr",{key:$.kategoria},[e("td",Sl,a($.kategoria),1),e("td",Il,a($.total),1),e("td",Ml,a($.zameldowanych),1),e("td",Tl,a($.z_wynikami),1),e("td",Rl,[e("div",Pl,[e("div",Al,[e("div",{class:"bg-indigo-600 h-2 rounded-full transition-all duration-300",style:Le({width:`${Math.round($.z_wynikami/$.total*100)}%`})},null,4)]),e("span",Nl,a(Math.round($.z_wynikami/$.total*100))+"% ",1)])])]))),128))])])])]),S.value.length>0?(s(),r("div",Bl,[e("h2",Dl,[D(Q(De),{class:"h-5 w-5 mr-2 text-gray-500"}),c[15]||(c[15]=re(" Postęp w ciągu dnia "))]),e("div",Zl,[(s(!0),r(W,null,H(S.value,$=>(s(),r("div",{key:$.hour,class:"flex items-center space-x-4"},[e("div",Gl,a(l($.hour)),1),e("div",ql,[e("div",{class:"bg-blue-500 h-full rounded-full transition-all duration-300",style:Le({width:`${Math.min($.check_ins/C.value*100,100)}%`})},null,4),e("div",{class:"bg-green-500 h-full rounded-full absolute top-0 transition-all duration-300",style:Le({width:`${Math.min($.results/C.value*100,100)}%`,left:`${Math.min($.check_ins/C.value*100,100)}%`})},null,4)]),e("div",Fl,a($.check_ins)+" / "+a($.results),1)]))),128))]),c[16]||(c[16]=ue('<div class="flex items-center space-x-4 mt-4 text-xs text-gray-500"><div class="flex items-center"><div class="w-3 h-3 bg-blue-500 rounded-full mr-2"></div> Check-ins </div><div class="flex items-center"><div class="w-3 h-3 bg-green-500 rounded-full mr-2"></div> Wyniki </div></div>',1))])):I("",!0),e("div",Ol,[e("h2",El,[D(Q(Rt),{class:"h-5 w-5 mr-2 text-gray-500"}),c[17]||(c[17]=re(" Narzędzia diagnostyczne "))]),e("div",Kl,[e("button",{onClick:T,class:"p-4 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg hover:border-indigo-400 transition-colors"},[D(Q(Qe),{class:"h-8 w-8 mx-auto text-gray-400 mb-2"}),c[18]||(c[18]=e("div",{class:"text-sm font-medium text-gray-600 dark:text-gray-300"}," Generuj brakujące QR ",-1)),e("div",Vl,a(k.value.bez_qr_kodow)+" zawodników ",1)]),e("button",{onClick:w,class:"p-4 border-2 border-dashed border-red-300 dark:border-red-600 rounded-lg hover:border-red-400 transition-colors"},[D(Q(Re),{class:"h-8 w-8 mx-auto text-red-400 mb-2"}),c[19]||(c[19]=e("div",{class:"text-sm font-medium text-red-600 dark:text-red-300"}," Reset check-inów ",-1)),c[20]||(c[20]=e("div",{class:"text-xs text-red-500"}," Usuń wszystkie meldunki ",-1))]),e("button",{onClick:L,class:"p-4 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg hover:border-indigo-400 transition-colors"},[D(Q(Pt),{class:"h-8 w-8 mx-auto text-gray-400 mb-2"}),c[21]||(c[21]=e("div",{class:"text-sm font-medium text-gray-600 dark:text-gray-300"}," Logi systemu ",-1)),c[22]||(c[22]=e("div",{class:"text-xs text-gray-500"}," Ostatnie wydarzenia ",-1))])])]),e("div",Ul,[e("h2",Ll,[D(Q(At),{class:"h-5 w-5 mr-2 text-orange-500"}),c[23]||(c[23]=re(" Ręczne zameldowanie ")),c[24]||(c[24]=e("span",{class:"ml-2 text-xs bg-orange-100 dark:bg-orange-900 text-orange-800 dark:text-orange-200 px-2 py-1 rounded-full"}," BACKUP ",-1))]),e("div",Ql,[e("div",Wl,[D(Q(ot),{class:"h-5 w-5 text-orange-400"}),c[25]||(c[25]=e("div",{class:"ml-3"},[e("p",{class:"text-sm text-orange-700 dark:text-orange-300"},[e("strong",null,"Uwaga:"),re(' Używaj tylko gdy skaner QR nie działa lub w sytuacjach awaryjnych. Każde ręczne zameldowanie jest rejestrowane z identyfikatorem urządzenia "manual-admin". ')])],-1))])]),e("div",Hl,[e("div",Jl,[c[30]||(c[30]=e("h3",{class:"text-md font-medium text-gray-900 dark:text-white"},"Zamelduj zawodnika",-1)),e("div",null,[c[26]||(c[26]=e("label",{for:"nr_startowy",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Numer startowy ",-1)),U(e("input",{id:"nr_startowy","onUpdate:modelValue":c[0]||(c[0]=$=>P.value.nr_startowy=$),type:"number",min:"1",disabled:F.value,class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Wprowadź numer startowy..."},null,8,Yl),[[ye,P.value.nr_startowy]])]),e("div",null,[c[28]||(c[28]=e("label",{for:"powod",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Powód ręcznego zameldowania ",-1)),U(e("select",{id:"powod","onUpdate:modelValue":c[1]||(c[1]=$=>P.value.powod=$),disabled:F.value,class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent dark:bg-gray-700 dark:text-white"},c[27]||(c[27]=[ue('<option value="">Wybierz powód...</option><option value="awaria_skanera">Awaria skanera QR</option><option value="brak_kodu">Brak/uszkodzony kod QR</option><option value="problem_techniczny">Problem techniczny</option><option value="decyzja_organizatora">Decyzja organizatora</option><option value="inne">Inne</option>',6)]),8,Xl),[[se,P.value.powod]])]),P.value.powod==="inne"?(s(),r("div",ei,[c[29]||(c[29]=e("label",{for:"opis",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Opis szczegółowy ",-1)),U(e("textarea",{id:"opis","onUpdate:modelValue":c[2]||(c[2]=$=>P.value.opis=$),rows:"2",disabled:F.value,class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Opisz powód ręcznego zameldowania..."},null,8,ti),[[ye,P.value.opis]])])):I("",!0),e("button",{onClick:O,disabled:!oe.value||F.value,class:"w-full px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center"},[F.value?I("",!0):(s(),fe(Q(dt),{key:0,class:"h-4 w-4 mr-2"})),F.value?(s(),fe(Q(Re),{key:1,class:"h-4 w-4 mr-2 animate-spin"})):I("",!0),re(" "+a(F.value?"Meldowanie...":"Zamelduj zawodnika"),1)],8,ai)]),e("div",si,[c[40]||(c[40]=e("h3",{class:"text-md font-medium text-gray-900 dark:text-white"},"Podgląd zawodnika",-1)),u.value?(s(),r("div",ri,[e("div",oi,[e("div",ni,[e("span",li,a(u.value.nr_startowy),1)]),e("div",null,[e("div",ii,a(u.value.imie)+" "+a(u.value.nazwisko),1),e("div",di,a(u.value.kategoria)+" • "+a(u.value.plec==="M"?"Mężczyzna":"Kobieta"),1)])]),e("div",ui,[e("div",null,[c[31]||(c[31]=e("span",{class:"text-gray-500 dark:text-gray-400"},"Klub:",-1)),e("div",ci,a(u.value.klub||"Brak danych"),1)]),e("div",null,[c[34]||(c[34]=e("span",{class:"text-gray-500 dark:text-gray-400"},"Status:",-1)),e("div",gi,[u.value.checked_in?(s(),r("span",pi,[D(Q(dt),{class:"h-3 w-3 mr-1"}),c[32]||(c[32]=re(" Zameldowany "))])):(s(),r("span",yi,[D(Q(ut),{class:"h-3 w-3 mr-1"}),c[33]||(c[33]=re(" Nie zameldowany "))]))])]),e("div",null,[c[35]||(c[35]=e("span",{class:"text-gray-500 dark:text-gray-400"},"QR kod:",-1)),e("div",xi,a(u.value.qr_code?"Dostępny":"Brak"),1)]),e("div",null,[c[36]||(c[36]=e("span",{class:"text-gray-500 dark:text-gray-400"},"Wynik:",-1)),e("div",vi,a(u.value.ma_wynik?"Tak":"Nie"),1)])]),u.value.checked_in&&u.value.check_in_time?(s(),r("div",bi,[e("span",ki," Zameldowany: "+a(p(u.value.check_in_time)),1)])):I("",!0)])):P.value.nr_startowy&&!h.value?(s(),r("div",mi,[e("div",wi,[D(Q(ut),{class:"h-5 w-5 text-red-400"}),e("div",fi,[c[37]||(c[37]=e("h3",{class:"text-sm font-medium text-red-800 dark:text-red-200"}," Zawodnik nie znaleziony ",-1)),e("p",hi," Nie znaleziono zawodnika z numerem startowym "+a(P.value.nr_startowy)+". ",1)])])])):h.value?(s(),r("div",_i,c[38]||(c[38]=[ue('<div class="animate-pulse"><div class="flex items-center space-x-4"><div class="w-12 h-12 bg-gray-300 dark:bg-gray-600 rounded-full"></div><div class="space-y-2"><div class="h-4 bg-gray-300 dark:bg-gray-600 rounded w-32"></div><div class="h-3 bg-gray-300 dark:bg-gray-600 rounded w-24"></div></div></div></div>',1)]))):(s(),r("div",zi,[D(Q(nt),{class:"h-12 w-12 mx-auto text-gray-400 mb-2"}),c[39]||(c[39]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Wprowadź numer startowy, aby zobaczyć podgląd zawodnika ",-1))]))])]),y.value.length>0?(s(),r("div",$i,[e("h3",Ci," Ostatnie ręczne zameldowania ("+a(y.value.length)+") ",1),e("div",ji,[(s(!0),r(W,null,H(y.value.slice(0,5),$=>(s(),r("div",{key:`manual-${$.nr_startowy}-${$.timestamp}`,class:"flex items-center justify-between p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg"},[e("div",Si,[e("div",Ii,[e("span",Mi,a($.nr_startowy),1)]),e("div",null,[e("div",Ti,a($.imie)+" "+a($.nazwisko),1),e("div",Ri,a(f($.powod)),1)])]),e("div",Pi,a(p($.timestamp)),1)]))),128))])])):I("",!0)])]))}}),Ni={class:"group relative overflow-hidden rounded-2xl bg-white dark:bg-gray-800 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105"},Bi={class:"relative p-6"},Di={class:"flex items-center justify-between mb-4"},Zi={key:0,class:"flex items-center space-x-1"},Gi={key:0,class:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},qi={key:1,class:"w-4 h-4 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Fi={key:2,class:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Oi={class:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2"},Ei={class:"flex items-baseline justify-between"},Ki={class:"text-3xl font-bold text-gray-900 dark:text-white"},Vi={key:0,class:"text-sm text-gray-500 dark:text-gray-400 ml-2"},Ui={key:0,class:"text-xs text-gray-500 dark:text-gray-400 mt-2"},Li={key:1,class:"mt-4"},Qi={class:"flex justify-between text-xs text-gray-600 dark:text-gray-400 mb-1"},Wi={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2"},Hi={key:0,class:"px-6 pb-6"},Ue=_e({__name:"EnhancedStatsCard",props:{title:{},value:{},icon:{},color:{},subtitle:{},unit:{},trend:{},trendValue:{},progress:{},actionLabel:{}},emits:["action"],setup(V,{emit:M}){const k=V,g=q(()=>typeof k.value=="number"?k.value.toLocaleString():k.value),i=q(()=>({blue:"bg-gradient-to-br from-blue-500 to-blue-600",green:"bg-gradient-to-br from-green-500 to-green-600",red:"bg-gradient-to-br from-red-500 to-red-600",purple:"bg-gradient-to-br from-purple-500 to-purple-600",yellow:"bg-gradient-to-br from-yellow-500 to-yellow-600",indigo:"bg-gradient-to-br from-indigo-500 to-indigo-600",pink:"bg-gradient-to-br from-pink-500 to-pink-600",cyan:"bg-gradient-to-br from-cyan-500 to-cyan-600"})[k.color]),A=q(()=>({blue:"text-blue-600",green:"text-green-600",red:"text-red-600",purple:"text-purple-600",yellow:"text-yellow-600",indigo:"text-indigo-600",pink:"text-pink-600",cyan:"text-cyan-600"})[k.color]),S=q(()=>({blue:"bg-blue-100 dark:bg-blue-900",green:"bg-green-100 dark:bg-green-900",red:"bg-red-100 dark:bg-red-900",purple:"bg-purple-100 dark:bg-purple-900",yellow:"bg-yellow-100 dark:bg-yellow-900",indigo:"bg-indigo-100 dark:bg-indigo-900",pink:"bg-pink-100 dark:bg-pink-900",cyan:"bg-cyan-100 dark:bg-cyan-900"})[k.color]),Z=q(()=>({blue:"bg-blue-500",green:"bg-green-500",red:"bg-red-500",purple:"bg-purple-500",yellow:"bg-yellow-500",indigo:"bg-indigo-500",pink:"bg-pink-500",cyan:"bg-cyan-500"})[k.color]),P=q(()=>({blue:"bg-blue-50 dark:bg-blue-900 text-blue-700 dark:text-blue-300 hover:bg-blue-100 dark:hover:bg-blue-800",green:"bg-green-50 dark:bg-green-900 text-green-700 dark:text-green-300 hover:bg-green-100 dark:hover:bg-green-800",red:"bg-red-50 dark:bg-red-900 text-red-700 dark:text-red-300 hover:bg-red-100 dark:hover:bg-red-800",purple:"bg-purple-50 dark:bg-purple-900 text-purple-700 dark:text-purple-300 hover:bg-purple-100 dark:hover:bg-purple-800",yellow:"bg-yellow-50 dark:bg-yellow-900 text-yellow-700 dark:text-yellow-300 hover:bg-yellow-100 dark:hover:bg-yellow-800",indigo:"bg-indigo-50 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300 hover:bg-indigo-100 dark:hover:bg-indigo-800",pink:"bg-pink-50 dark:bg-pink-900 text-pink-700 dark:text-pink-300 hover:bg-pink-100 dark:hover:bg-pink-800",cyan:"bg-cyan-50 dark:bg-cyan-900 text-cyan-700 dark:text-cyan-300 hover:bg-cyan-100 dark:hover:bg-cyan-800"})[k.color]),F=q(()=>k.trend==="up"?"text-green-600 dark:text-green-400":k.trend==="down"?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400");return(u,h)=>(s(),r("div",Ni,[e("div",{class:K(["absolute inset-0 opacity-5 group-hover:opacity-10 transition-opacity duration-300",i.value])},null,2),e("div",Bi,[e("div",Di,[e("div",{class:K(["p-3 rounded-xl shadow-lg",S.value])},[typeof u.icon!="string"?(s(),fe(We(u.icon),{key:0,class:K([A.value,"h-6 w-6"])},null,8,["class"])):(s(),r("span",{key:1,class:K([A.value,"text-xl font-semibold"])},a(u.icon),3))],2),u.trend?(s(),r("div",Zi,[u.trend==="up"?(s(),r("svg",Gi,h[1]||(h[1]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 17l9.2-9.2M17 17V7h-10"},null,-1)]))):u.trend==="down"?(s(),r("svg",qi,h[2]||(h[2]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 7l-9.2 9.2M7 7v10h10"},null,-1)]))):(s(),r("svg",Fi,h[3]||(h[3]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h8"},null,-1)]))),u.trendValue?(s(),r("span",{key:3,class:K([F.value,"text-sm font-medium"])},a(u.trendValue),3)):I("",!0)])):I("",!0)]),e("h3",Oi,a(u.title),1),e("div",Ei,[e("span",Ki,a(g.value),1),u.unit?(s(),r("span",Vi,a(u.unit),1)):I("",!0)]),u.subtitle?(s(),r("p",Ui,a(u.subtitle),1)):I("",!0),u.progress!==void 0?(s(),r("div",Li,[e("div",Qi,[h[4]||(h[4]=e("span",null,"Progress",-1)),e("span",null,a(Math.round(u.progress))+"%",1)]),e("div",Wi,[e("div",{class:K([Z.value,"h-2 rounded-full transition-all duration-500 ease-out"]),style:Le(`width: ${Math.min(u.progress,100)}%`)},null,6)])])):I("",!0)]),u.actionLabel?(s(),r("div",Hi,[e("button",{onClick:h[0]||(h[0]=y=>u.$emit("action")),class:K(["w-full py-2 px-4 rounded-lg text-sm font-medium transition-all duration-200",P.value])},a(u.actionLabel),3)])):I("",!0)]))}}),Ji={class:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-100 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900"},Yi={class:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700"},Xi={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},ed={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between"},td={class:"mt-4 lg:mt-0 grid grid-cols-3 gap-4"},ad={class:"text-center"},sd={class:"text-xl lg:text-2xl font-bold text-indigo-600 dark:text-indigo-400"},rd={class:"text-center"},od={class:"text-xl lg:text-2xl font-bold text-green-600 dark:text-green-400"},nd={class:"text-center"},ld={class:"text-xl lg:text-2xl font-bold text-purple-600 dark:text-purple-400"},id={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},dd={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},ud={class:"mb-8"},cd={class:"relative overflow-hidden rounded-3xl bg-white dark:bg-gray-800 shadow-xl"},gd={class:"relative px-8 py-12 text-center"},pd={class:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4 text-sm"},yd={class:"bg-white bg-opacity-20 rounded-lg p-3"},xd={class:"text-2xl font-bold"},vd={class:"bg-white bg-opacity-20 rounded-lg p-3"},bd={class:"text-2xl font-bold"},kd={class:"bg-white bg-opacity-20 rounded-lg p-3"},md={class:"text-2xl font-bold"},wd={class:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8"},fd={class:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-purple-500 to-purple-700 shadow-xl hover:shadow-2xl"},hd={class:"relative px-8 py-12 text-center"},_d={class:"text-lg font-semibold text-white"},zd={class:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-blue-500 to-cyan-600 shadow-xl hover:shadow-2xl"},$d={class:"relative px-8 py-12 text-center"},Cd={class:"text-lg font-semibold text-white"},jd={class:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-green-500 to-emerald-600 shadow-xl hover:shadow-2xl"},Sd={class:"relative px-8 py-12 text-center"},Id={class:"text-lg font-semibold text-white"},Md={class:"mb-8"},Td={class:"relative overflow-hidden rounded-3xl bg-gradient-to-r from-orange-500 to-red-600 shadow-xl hover:shadow-2xl"},Rd={class:"relative px-8 py-16 text-center"},Pd={class:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm"},Ad={class:"bg-white bg-opacity-20 rounded-lg p-3"},Nd={class:"text-xl font-bold"},Bd={class:"bg-white bg-opacity-20 rounded-lg p-3"},Dd={class:"text-xl font-bold"},Zd={class:"bg-white bg-opacity-20 rounded-lg p-3"},Gd={class:"text-xl font-bold"},qd={class:"mb-8"},Fd={class:"relative overflow-hidden rounded-3xl bg-gradient-to-r from-yellow-500 to-orange-500 shadow-xl hover:shadow-2xl"},Od={class:"relative px-8 py-16 text-center"},Ed={class:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm"},Kd={class:"bg-white bg-opacity-20 rounded-lg p-3"},Vd={class:"text-xl font-bold"},Ud={class:"bg-white bg-opacity-20 rounded-lg p-3"},Ld={class:"text-xl font-bold"},Qd={class:"bg-white dark:bg-gray-800 rounded-3xl shadow-xl p-8"},Wd={class:"flex items-center justify-between mb-6"},Hd=["disabled"],Jd={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-indigo-600",fill:"none",viewBox:"0 0 24 24"},Yd={key:0,class:"space-y-4"},Xd={class:"text-white text-lg"},e0={class:"flex-1"},t0={class:"text-sm font-medium text-gray-900 dark:text-white"},a0={class:"text-xs text-gray-500 dark:text-gray-400"},s0={class:"text-xs text-gray-400 dark:text-gray-500"},r0={key:1,class:"text-center py-8"},o0=_e({__name:"Dashboard",emits:["navigate"],setup(V,{emit:M}){const k=M,g=m({totalZawodnicy:0,qrGenerated:0,checkedIn:0,activeCategories:0,clubsCount:0}),i=m(!1),A=m([{id:1,title:"System QR aktywny",description:"Dashboard gotowy do pracy",time:"Teraz",icon:"🔲",color:"bg-blue-500"}]),S=q(()=>({qrProgress:g.value.totalZawodnicy>0?Math.round(g.value.qrGenerated/g.value.totalZawodnicy*100):0,checkinProgress:g.value.totalZawodnicy>0?Math.round(g.value.checkedIn/g.value.totalZawodnicy*100):0,readiness:g.value.totalZawodnicy>0?Math.round((g.value.checkedIn+g.value.qrGenerated)/(g.value.totalZawodnicy*2)*100):0})),Z=h=>{k("navigate",h)},P=async()=>{try{i.value=!0;const y=(await we.get("/api/zawodnicy?limit=1000")).data.data||[];console.log(`📊 Dashboard: Załadowano ${y.length} zawodników`),g.value.totalZawodnicy=y.length,g.value.qrGenerated=y.filter(C=>C.qr_code).length,g.value.checkedIn=y.filter(C=>C.checked_in).length;const R=[...new Set(y.map(C=>C.kategoria).filter(Boolean))];g.value.activeCategories=R.length;const _=[...new Set(y.map(C=>C.klub).filter(Boolean))];g.value.clubsCount=_.length,F()}catch(h){console.error("Błąd ładowania statystyk:",h),g.value={totalZawodnicy:8,qrGenerated:6,checkedIn:4,activeCategories:4,clubsCount:3}}finally{i.value=!1}},F=()=>{const h=[];g.value.totalZawodnicy>0&&h.push({id:Date.now(),title:`${g.value.totalZawodnicy} zawodników zarejestrowanych`,description:`${g.value.activeCategories} kategorii, ${g.value.clubsCount} klubów`,time:"5 min temu",icon:"👥",color:"bg-blue-500"}),g.value.qrGenerated>0&&h.push({id:Date.now()+1,title:`${g.value.qrGenerated} kodów QR wygenerowanych`,description:`${S.value.qrProgress}% pokrycie QR`,time:"10 min temu",icon:"🔲",color:"bg-purple-500"}),g.value.checkedIn>0&&h.push({id:Date.now()+2,title:`${g.value.checkedIn} zawodników zameldowanych`,description:`${S.value.checkinProgress}% gotowości do startu`,time:"15 min temu",icon:"✅",color:"bg-green-500"}),A.value=h},u=()=>{P()};return je(()=>{P(),setInterval(P,3e4)}),(h,y)=>(s(),r("div",Ji,[e("div",Yi,[e("div",Xi,[e("div",ed,[y[12]||(y[12]=ue('<div class="flex items-center space-x-4" data-v-51d7a59c><div class="p-3 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-xl" data-v-51d7a59c><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-51d7a59c><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z" data-v-51d7a59c></path></svg></div><div data-v-51d7a59c><h1 class="text-2xl lg:text-3xl font-bold text-gray-900 dark:text-white" data-v-51d7a59c> SKATECROSS QR Dashboard </h1><p class="text-gray-600 dark:text-gray-400 text-sm lg:text-base" data-v-51d7a59c> Zarządzanie systemem QR turnieju SKATECROSS </p></div></div>',1)),e("div",td,[e("div",ad,[e("div",sd,a(g.value.totalZawodnicy),1),y[9]||(y[9]=e("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"👤 Zawodnicy",-1))]),e("div",rd,[e("div",od,a(g.value.qrGenerated),1),y[10]||(y[10]=e("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"🔲 Kody QR",-1))]),e("div",nd,[e("div",ld,a(g.value.checkedIn),1),y[11]||(y[11]=e("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"✅ Zameldowani",-1))])])])])]),e("div",id,[e("div",dd,[D(Ue,{title:"Łączna liczba zawodników",value:g.value.totalZawodnicy,icon:"👥",color:"blue",subtitle:`${g.value.activeCategories} kategorii aktywnych`,progress:g.value.checkedIn/g.value.totalZawodnicy*100,trend:g.value.totalZawodnicy>0?"up":"neutral",actionLabel:"Zobacz wszystkich",onAction:y[0]||(y[0]=R=>Z("zawodnicy"))},null,8,["value","subtitle","progress","trend"]),D(Ue,{title:"Kody QR wygenerowane",value:g.value.qrGenerated,icon:"🔲",color:"purple",subtitle:`${Math.round(g.value.qrGenerated/g.value.totalZawodnicy*100)}% pokrycie`,progress:g.value.qrGenerated/g.value.totalZawodnicy*100,trend:g.value.qrGenerated>0?"up":"neutral",actionLabel:"Generuj QR",onAction:y[1]||(y[1]=R=>Z("qr-print"))},null,8,["value","subtitle","progress","trend"]),D(Ue,{title:"Zameldowani zawodnicy",value:g.value.checkedIn,icon:"✅",color:"green",subtitle:`${Math.round(g.value.checkedIn/g.value.totalZawodnicy*100)}% zameldowanych`,progress:g.value.checkedIn/g.value.totalZawodnicy*100,trend:g.value.checkedIn>0?"up":"neutral",actionLabel:"Centrum startu",onAction:y[2]||(y[2]=R=>Z("unified-start"))},null,8,["value","subtitle","progress","trend"]),D(Ue,{title:"Aktywne kategorie",value:g.value.activeCategories,icon:"🏆",color:"yellow",subtitle:`${g.value.clubsCount} klubów uczestniczy`,progress:100,trend:"neutral",actionLabel:"Zobacz rankingi",onAction:y[3]||(y[3]=R=>Z("rankingi"))},null,8,["value","subtitle"])]),e("div",ud,[e("div",cd,[y[17]||(y[17]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-indigo-600 via-purple-600 to-blue-600 opacity-90"},null,-1)),e("div",gd,[y[16]||(y[16]=ue('<div class="flex items-center justify-center mb-4" data-v-51d7a59c><svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-51d7a59c><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" data-v-51d7a59c></path></svg></div><h2 class="text-3xl lg:text-4xl font-bold text-white mb-2" data-v-51d7a59c>Visualization</h2><p class="text-indigo-100 text-lg" data-v-51d7a59c>Dane turnieju prezentowane w przejrzysty sposób</p>',3)),e("div",pd,[e("div",yd,[e("div",xd,a(S.value.qrProgress)+"%",1),y[13]||(y[13]=e("div",{class:"text-indigo-100"},"QR Coverage",-1))]),e("div",vd,[e("div",bd,a(S.value.checkinProgress)+"%",1),y[14]||(y[14]=e("div",{class:"text-indigo-100"},"Check-in Rate",-1))]),e("div",kd,[e("div",md,a(S.value.readiness)+"%",1),y[15]||(y[15]=e("div",{class:"text-indigo-100"},"Tournament Ready",-1))])])])])]),e("div",wd,[e("div",{onClick:y[4]||(y[4]=R=>Z("zawodnicy")),class:"group cursor-pointer transform hover:scale-105 transition-all duration-300"},[e("div",fd,[y[19]||(y[19]=e("div",{class:"absolute inset-0 bg-black opacity-0 group-hover:opacity-10 transition-opacity duration-300"},null,-1)),e("div",hd,[y[18]||(y[18]=ue('<div class="flex items-center justify-center mb-6" data-v-51d7a59c><svg class="w-16 h-16 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-51d7a59c><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z" data-v-51d7a59c></path></svg></div><h3 class="text-2xl font-bold text-white mb-3" data-v-51d7a59c>👤 Management</h3><p class="text-purple-100 text-sm mb-4" data-v-51d7a59c>Zarządzanie zawodnikami</p>',3)),e("div",_d,a(g.value.totalZawodnicy)+" zawodników",1)])])]),e("div",{onClick:y[5]||(y[5]=R=>Z("qr-dashboard")),class:"group cursor-pointer transform hover:scale-105 transition-all duration-300"},[e("div",zd,[y[21]||(y[21]=e("div",{class:"absolute inset-0 bg-black opacity-0 group-hover:opacity-10 transition-opacity duration-300"},null,-1)),e("div",$d,[y[20]||(y[20]=ue('<div class="flex items-center justify-center mb-6" data-v-51d7a59c><svg class="w-16 h-16 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-51d7a59c><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z" data-v-51d7a59c></path></svg></div><h3 class="text-2xl font-bold text-white mb-1" data-v-51d7a59c>🔲 QR System</h3><h3 class="text-xl font-semibold text-white mb-3" data-v-51d7a59c>Solutions</h3><p class="text-blue-100 text-sm mb-4" data-v-51d7a59c>Admin Dashboard QR</p>',4)),e("div",Cd,a(g.value.qrGenerated)+" kodów QR",1)])])]),e("div",{onClick:y[6]||(y[6]=R=>Z("unified-start")),class:"group cursor-pointer transform hover:scale-105 transition-all duration-300"},[e("div",jd,[y[23]||(y[23]=e("div",{class:"absolute inset-0 bg-black opacity-0 group-hover:opacity-10 transition-opacity duration-300"},null,-1)),e("div",Sd,[y[22]||(y[22]=ue('<div class="flex items-center justify-center mb-6" data-v-51d7a59c><svg class="w-16 h-16 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-51d7a59c><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" data-v-51d7a59c></path></svg></div><h3 class="text-xl font-bold text-white mb-1" data-v-51d7a59c>🏁 Start Line</h3><h3 class="text-xl font-bold text-white mb-1" data-v-51d7a59c>Response</h3><h3 class="text-xl font-bold text-white mb-3" data-v-51d7a59c>Management</h3><p class="text-green-100 text-sm mb-4" data-v-51d7a59c>Centrum startu i skaner</p>',5)),e("div",Id,a(g.value.checkedIn)+" zameldowanych",1)])])])]),e("div",Md,[e("div",{onClick:y[7]||(y[7]=R=>Z("rankingi")),class:"group cursor-pointer transform hover:scale-105 transition-all duration-300"},[e("div",Td,[y[28]||(y[28]=e("div",{class:"absolute inset-0 bg-black opacity-0 group-hover:opacity-10 transition-opacity duration-300"},null,-1)),e("div",Rd,[y[27]||(y[27]=ue('<div class="flex items-center justify-center mb-6" data-v-51d7a59c><svg class="w-16 h-16 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-51d7a59c><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" data-v-51d7a59c></path></svg></div><h2 class="text-3xl lg:text-4xl font-bold text-white mb-3" data-v-51d7a59c>Key Analytics</h2><p class="text-orange-100 text-lg mb-6" data-v-51d7a59c>Rankingi i statystyki turnieju</p>',3)),e("div",Pd,[e("div",Ad,[e("div",Nd,a(g.value.activeCategories),1),y[24]||(y[24]=e("div",{class:"text-orange-100"},"Kategorie",-1))]),e("div",Bd,[e("div",Dd,a(g.value.clubsCount),1),y[25]||(y[25]=e("div",{class:"text-orange-100"},"Kluby",-1))]),e("div",Zd,[e("div",Gd,a(S.value.readiness)+"%",1),y[26]||(y[26]=e("div",{class:"text-orange-100"},"Gotowość",-1))])])])])])]),e("div",qd,[e("div",{onClick:y[8]||(y[8]=R=>Z("qr-print")),class:"group cursor-pointer transform hover:scale-105 transition-all duration-300"},[e("div",Fd,[y[32]||(y[32]=e("div",{class:"absolute inset-0 bg-black opacity-0 group-hover:opacity-10 transition-opacity duration-300"},null,-1)),e("div",Od,[y[31]||(y[31]=ue('<div class="flex items-center justify-center mb-6" data-v-51d7a59c><svg class="w-16 h-16 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-51d7a59c><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z" data-v-51d7a59c></path></svg></div><h2 class="text-2xl lg:text-3xl font-bold text-white mb-3" data-v-51d7a59c>Building blocks: QR Print System</h2><p class="text-yellow-100 text-lg mb-6" data-v-51d7a59c>System generowania i druku kodów QR</p>',3)),e("div",Ed,[e("div",Kd,[e("div",Vd,a(g.value.qrGenerated)+"/"+a(g.value.totalZawodnicy),1),y[29]||(y[29]=e("div",{class:"text-yellow-100"},"QR Generated",-1))]),e("div",Ud,[e("div",Ld,a(S.value.qrProgress)+"%",1),y[30]||(y[30]=e("div",{class:"text-yellow-100"},"Coverage",-1))])])])])])]),e("div",Qd,[e("div",Wd,[y[34]||(y[34]=e("h3",{class:"text-xl font-bold text-gray-900 dark:text-white flex items-center"},[e("span",{class:"mr-2"},"📈"),re(" Ostatnia aktywność turnieju ")],-1)),e("button",{onClick:u,disabled:i.value,class:"text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 text-sm font-medium disabled:opacity-50 flex items-center"},[i.value?(s(),r("svg",Jd,y[33]||(y[33]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):I("",!0),re(" "+a(i.value?"Ładowanie...":"Odśwież"),1)],8,Hd)]),A.value.length>0?(s(),r("div",Yd,[(s(!0),r(W,null,H(A.value,R=>(s(),r("div",{key:R.id,class:"flex items-center space-x-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors duration-200"},[e("div",{class:K(["p-2 rounded-lg",R.color])},[e("span",Xd,a(R.icon),1)],2),e("div",e0,[e("p",t0,a(R.title),1),e("p",a0,a(R.description),1)]),e("div",s0,a(R.time),1)]))),128))])):(s(),r("div",r0,y[35]||(y[35]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),e("h3",{class:"mt-2 text-sm font-medium text-gray-900 dark:text-white"},"Brak aktywności",-1),e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},"Rozpocznij turniej, aby zobaczyć aktywność",-1)])))])])]))}}),n0=Se(o0,[["__scopeId","data-v-51d7a59c"]]),l0={class:"start-groups-card bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},i0={class:"flex items-center justify-between mb-6"},d0={class:"flex items-center space-x-2"},u0=["disabled"],c0={key:0,class:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24"},g0={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},p0={key:0,class:"space-y-4"},y0={key:0,class:"bg-gradient-to-r from-purple-500 to-blue-600 text-white rounded-xl p-4 mb-6"},x0={class:"flex items-center justify-between"},v0={class:"flex items-center space-x-3"},b0={class:"text-sm opacity-90"},k0={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},m0={class:"flex items-center justify-between mb-3"},w0={class:"flex items-center space-x-2"},f0={class:"font-semibold text-gray-900 dark:text-white"},h0={class:"text-sm text-gray-600 dark:text-gray-400"},_0={class:"flex items-center justify-between mb-4"},z0={class:"font-semibold text-gray-900 dark:text-white"},$0={class:"space-y-2"},C0=["onClick","disabled"],j0=["onClick"],S0={key:2,class:"w-full px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400 rounded-lg text-center text-sm"},I0={key:3,class:"flex space-x-2"},M0=["onClick"],T0=["onClick","disabled"],R0={key:0,class:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-600"},P0={class:"text-xs text-gray-700 dark:text-gray-300 max-h-16 overflow-y-auto"},A0={key:0,class:"text-gray-500 dark:text-gray-400"},N0={class:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700"},B0={class:"text-xl font-bold text-gray-900 dark:text-white"},D0={class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},Z0={class:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]"},G0={key:0,class:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg"},q0={class:"text-sm text-blue-800 dark:text-blue-200"},F0={key:0,class:"space-y-2"},O0={class:"flex items-center space-x-3"},E0={class:"w-8 h-8 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center text-sm font-bold text-blue-600 dark:text-blue-400"},K0={class:"font-medium text-gray-900 dark:text-white"},V0={class:"text-sm text-gray-600 dark:text-gray-400"},U0=["onClick"],L0={key:1,class:"text-center py-8 text-gray-500 dark:text-gray-400"},Q0={class:"flex items-center justify-between p-6 border-t border-gray-200 dark:border-gray-700"},W0={key:1},H0={key:2,class:"text-center py-12"},J0={__name:"StartGroupsCard",props:{groups:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:["group-activated","group-deactivated","refresh-requested"],setup(V,{emit:M}){const k=V,g=M,i=m(!1),A=m(null),S=m(null),Z=m(!1),P=q(()=>k.groups.find(l=>l.status==="ACTIVE"||l.status==="TIMING")),F=l=>l.status==="ACTIVE"||l.status==="TIMING"?"bg-gradient-to-br from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 border-purple-200 dark:border-purple-700":l.liczba_zawodnikow>0?"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-600":"bg-gray-50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700",u=l=>l.status==="ACTIVE"||l.status==="TIMING"?"bg-purple-600 text-white":l.liczba_zawodnikow>0?"bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400",h=l=>l.status==="ACTIVE"||l.status==="TIMING"?"bg-purple-100 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400":l.liczba_zawodnikow>0?"bg-green-100 dark:bg-green-900/20 text-green-600 dark:text-green-400":"bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400",y=l=>l.status==="ACTIVE"?"AKTYWNA":l.status==="TIMING"?"POMIARY":l.status==="COMPLETED"?"ZAKOŃCZONA":l.liczba_zawodnikow>0?"GOTOWA":"PUSTA",R=l=>l.kategoria?l.kategoria.substring(0,3):"",_=async l=>{console.log("🏁 Activating group:",l);try{const f=await(await fetch("/api/unified/activate-group",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({kategoria:l.kategoria,plec:l.plec})})).json();f.success?g("group-activated",{group:l,session:f.session,message:f.message}):(console.error("❌ Group activation failed:",f.error),alert(`Błąd aktywacji grupy: ${f.error}`))}catch(d){console.error("❌ Group activation error:",d),alert("Błąd połączenia podczas aktywacji grupy")}},C=async l=>{console.log("⏹️ Deactivating group:",l);try{const f=await(await fetch("/api/unified/deactivate-group",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({kategoria:l.kategoria,plec:l.plec})})).json();f.success?g("group-deactivated",{group:l,message:f.message}):(console.error("❌ Group deactivation failed:",f.error),alert(`Błąd dezaktywacji grupy: ${f.error}`))}catch(d){console.error("❌ Group deactivation error:",d),alert("Błąd połączenia podczas dezaktywacji grupy")}},oe=()=>{g("refresh-requested")},te=async l=>{A.value=l,Z.value=!0,i.value=!0;try{const f=await(await fetch(`/api/unified/group-details/${encodeURIComponent(l.kategoria)}/${encodeURIComponent(l.plec)}`)).json();f.success?S.value=f.data:(console.error("❌ Group details failed:",f.error),alert(`Błąd pobierania szczegółów: ${f.error}`))}catch(d){console.error("❌ Group details error:",d),alert("Błąd połączenia podczas pobierania szczegółów grupy")}finally{Z.value=!1}},N=async l=>{var d,f;if(confirm(`Czy na pewno chcesz usunąć zawodnika #${l} z grupy?`))try{const O=await(await fetch("/api/unified/remove-athlete-from-group",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nr_startowy:l,kategoria:(d=A.value)==null?void 0:d.kategoria,plec:(f=A.value)==null?void 0:f.plec})})).json();O.success?(alert(`✅ ${O.message}`),await te(A.value),g("refresh-requested")):alert(`❌ ${O.error}`)}catch(B){console.error("❌ Remove athlete error:",B),alert("Błąd połączenia podczas usuwania zawodnika")}},z=async l=>{const d=l.status==="ACTIVE"||l.status==="TIMING",f=d?`Grupa "${l.kategoria} ${l.plec}" jest aktywna i ma sesję SECTRO. Czy na pewno chcesz ją wymusić usunięcie?`:`Czy na pewno chcesz usunąć grupę "${l.kategoria} ${l.plec}" z ${l.liczba_zawodnikow} zawodnikami?`;confirm(f)&&await w(l,d)},T=async()=>{if(!A.value||!S.value)return;const l=A.value,d=l.status==="ACTIVE"||l.status==="TIMING",f=d?"Grupa ma aktywną sesję SECTRO. Czy na pewno chcesz wymusić usunięcie całej grupy?":`Czy na pewno chcesz usunąć całą grupę z ${S.value.group.athletes_count} zawodnikami?`;confirm(f)&&(L(),await w(l,d))},w=async(l,d=!1)=>{try{const B=await(await fetch("/api/unified/delete-group",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({kategoria:l.kategoria,plec:l.plec,force:d})})).json();if(B.success){let O=`✅ ${B.message}`;B.errors&&B.errors.length>0&&(O+=`

Błędy:
${B.errors.join(`
`)}`),B.session_cancelled&&(O+=`

⚠️ Sesja SECTRO została anulowana`),alert(O),g("refresh-requested")}else alert(`❌ ${B.error}`)}catch(f){console.error("❌ Delete group error:",f),alert("Błąd połączenia podczas usuwania grupy")}},L=()=>{i.value=!1,A.value=null,S.value=null},p=l=>l?new Date(l).toLocaleString("pl-PL"):"Brak danych";return(l,d)=>{var f,B,O,ne,j,c,$,X,le;return s(),r("div",l0,[e("div",i0,[d[5]||(d[5]=ue('<div class="flex items-center space-x-3" data-v-64a19cda><div class="w-10 h-10 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center" data-v-64a19cda><svg class="w-5 h-5 text-blue-600 dark:text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-64a19cda><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" data-v-64a19cda></path></svg></div><div data-v-64a19cda><h2 class="text-xl font-bold text-gray-900 dark:text-white" data-v-64a19cda>Grupy Startowe</h2><p class="text-sm text-gray-600 dark:text-gray-400" data-v-64a19cda>Zarządzanie grupami i aktywacja SECTRO</p></div></div>',1)),e("div",d0,[e("button",{onClick:oe,disabled:V.loading,class:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg font-medium hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200"},[V.loading?(s(),r("svg",c0,d[2]||(d[2]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):(s(),r("svg",g0,d[3]||(d[3]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)]))),d[4]||(d[4]=e("span",{class:"ml-2"},"Odśwież",-1))],8,u0)])]),V.groups&&V.groups.length>0?(s(),r("div",p0,[P.value?(s(),r("div",y0,[e("div",x0,[e("div",v0,[d[7]||(d[7]=e("div",{class:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",null,[d[6]||(d[6]=e("div",{class:"font-semibold"},"🎯 Aktywna grupa",-1)),e("div",b0,a(P.value.kategoria_nazwa)+" "+a(P.value.plec)+" • "+a(P.value.liczba_zawodnikow)+" zawodników",1)])]),e("button",{onClick:d[0]||(d[0]=G=>C(P.value)),class:"px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg font-medium transition-colors duration-200"}," ⏹️ Zakończ ")])])):I("",!0),e("div",k0,[(s(!0),r(W,null,H(V.groups,G=>{var ce,ie;return s(),r("div",{key:G.id,class:K([F(G),"p-4 rounded-xl border transition-all duration-200 hover:shadow-md"])},[e("div",m0,[e("div",w0,[e("div",{class:K([u(G),"w-8 h-8 rounded-lg flex items-center justify-center text-xs font-bold"])},a(R(G)),3),e("div",null,[e("div",f0,a(G.kategoria),1),e("div",h0,a(G.plec),1)])]),e("div",{class:K([h(G),"px-2 py-1 rounded-full text-xs font-medium"])},a(y(G)),3)]),e("div",_0,[d[8]||(d[8]=e("div",{class:"flex items-center space-x-2"},[e("svg",{class:"w-4 h-4 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})]),e("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Zawodnicy:")],-1)),e("span",z0,a(G.liczba_zawodnikow),1)]),e("div",$0,[G.status!=="ACTIVE"&&G.status!=="TIMING"&&G.liczba_zawodnikow>0?(s(),r("button",{key:0,onClick:ee=>_(G),disabled:V.loading,class:"w-full px-4 py-2 bg-blue-600 disabled:bg-gray-400 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors duration-200 flex items-center justify-center space-x-2"},d[9]||(d[9]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),e("span",null,"Aktywuj grupę",-1)]),8,C0)):G.status==="ACTIVE"||G.status==="TIMING"?(s(),r("button",{key:1,onClick:ee=>C(G),class:"w-full px-4 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors duration-200 flex items-center justify-center space-x-2"},d[10]||(d[10]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 9l6 6m0-6l-6 6"})],-1),e("span",null,"Dezaktywuj",-1)]),8,j0)):G.liczba_zawodnikow===0?(s(),r("div",S0," Brak zawodników ")):I("",!0),G.liczba_zawodnikow>0?(s(),r("div",I0,[e("button",{onClick:ee=>te(G),class:"flex-1 px-3 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg text-sm font-medium hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200 flex items-center justify-center space-x-1"},d[11]||(d[11]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),e("span",null,"Szczegóły",-1)]),8,M0),e("button",{onClick:ee=>z(G),disabled:G.status==="ACTIVE"||G.status==="TIMING",class:"flex-1 px-3 py-2 bg-red-100 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg text-sm font-medium hover:bg-red-200 dark:hover:bg-red-900/30 transition-colors duration-200 flex items-center justify-center space-x-1 disabled:bg-gray-100 disabled:text-gray-400 disabled:cursor-not-allowed"},d[12]||(d[12]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),e("span",null,"Usuń",-1)]),8,T0)])):I("",!0)]),G.liczba_zawodnikow>0?(s(),r("div",R0,[d[13]||(d[13]=e("div",{class:"text-xs text-gray-500 dark:text-gray-400 mb-2"},"Zameldowani zawodnicy:",-1)),e("div",P0,[(s(!0),r(W,null,H((ce=G.zawodnicy)==null?void 0:ce.slice(0,3),ee=>(s(),r("div",{key:ee.nr_startowy,class:"truncate"}," • "+a(ee.imie)+" "+a(ee.nazwisko)+" (#"+a(ee.nr_startowy)+") ",1))),128)),((ie=G.zawodnicy)==null?void 0:ie.length)>3?(s(),r("div",A0," ... i "+a(G.zawodnicy.length-3)+" więcej ",1)):I("",!0)])])):I("",!0)],2)}),128))])])):I("",!0),i.value?(s(),r("div",{key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:L},[e("div",{class:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-hidden",onClick:d[1]||(d[1]=yt(()=>{},["stop"]))},[e("div",N0,[e("div",null,[e("h3",B0," Szczegóły grupy: "+a((f=A.value)==null?void 0:f.kategoria)+" "+a((B=A.value)==null?void 0:B.plec),1),e("p",D0,a((ne=(O=S.value)==null?void 0:O.group)==null?void 0:ne.athletes_count)+" zawodników ",1)]),e("button",{onClick:L,class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200"},d[14]||(d[14]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",Z0,[(j=S.value)!=null&&j.session?(s(),r("div",G0,[d[18]||(d[18]=e("h4",{class:"font-semibold text-blue-900 dark:text-blue-100 mb-2"},"Sesja SECTRO",-1)),e("div",q0,[e("p",null,[d[15]||(d[15]=e("strong",null,"Nazwa:",-1)),re(" "+a(S.value.session.nazwa),1)]),e("p",null,[d[16]||(d[16]=e("strong",null,"Status:",-1)),re(" "+a(S.value.session.status),1)]),e("p",null,[d[17]||(d[17]=e("strong",null,"Utworzona:",-1)),re(" "+a(p(S.value.session.created_at)),1)])])])):I("",!0),e("div",null,[d[19]||(d[19]=e("h4",{class:"font-semibold text-gray-900 dark:text-white mb-4"},"Lista zawodników",-1)),(($=(c=S.value)==null?void 0:c.athletes)==null?void 0:$.length)>0?(s(),r("div",F0,[(s(!0),r(W,null,H(S.value.athletes,G=>(s(),r("div",{key:G.nr_startowy,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg"},[e("div",O0,[e("div",E0,a(G.nr_startowy),1),e("div",null,[e("div",K0,a(G.imie)+" "+a(G.nazwisko),1),e("div",V0,a(G.klub)+" • Zameldowany: "+a(p(G.check_in_time)),1)])]),e("button",{onClick:ce=>N(G.nr_startowy),class:"px-3 py-1 bg-red-100 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg text-sm font-medium hover:bg-red-200 dark:hover:bg-red-900/30 transition-colors duration-200"}," Usuń ",8,U0)]))),128))])):(s(),r("div",L0," Brak zawodników w grupie "))])]),e("div",Q0,[((le=(X=S.value)==null?void 0:X.group)==null?void 0:le.athletes_count)>0?(s(),r("button",{key:0,onClick:T,class:"px-4 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors duration-200"}," Usuń całą grupę ")):(s(),r("div",W0)),e("button",{onClick:L,class:"px-4 py-2 bg-gray-600 text-white rounded-lg font-medium hover:bg-gray-700 transition-colors duration-200"}," Zamknij ")])])])):!V.groups||V.groups.length===0?(s(),r("div",H0,d[20]||(d[20]=[ue('<svg class="w-16 h-16 text-gray-400 dark:text-gray-600 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-64a19cda><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" data-v-64a19cda></path></svg><h3 class="text-lg font-medium text-gray-900 dark:text-white mb-2" data-v-64a19cda>Brak grup startowych</h3><p class="text-gray-600 dark:text-gray-400 mb-4" data-v-64a19cda> Grupy startowe tworzone są automatycznie po zameldowaniu zawodników </p><div class="text-sm text-gray-500 dark:text-gray-400" data-v-64a19cda> 💡 Przejdź do QR Scanner aby zameldować pierwszych zawodników </div>',4)]))):I("",!0)])}}},Y0=Se(J0,[["__scopeId","data-v-64a19cda"]]),X0={class:"live-timing-card bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},eu={class:"flex items-center justify-between mb-6"},tu={class:"flex items-center space-x-3"},au={class:"text-sm text-gray-600 dark:text-gray-400"},su={key:0},ru={key:1},ou={class:"flex items-center space-x-2"},nu=["disabled"],lu={key:0,class:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24"},iu={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},du={key:0,class:"mb-8"},uu={class:"bg-gradient-to-br from-purple-500 to-blue-600 text-white rounded-xl p-6"},cu={class:"flex items-center justify-between mb-4"},gu={class:"text-2xl font-bold"},pu={class:"text-sm opacity-90"},yu={class:"text-right"},xu={class:"text-3xl font-mono font-bold"},vu={class:"flex items-center justify-between text-sm"},bu={class:"flex items-center space-x-4"},ku={class:"flex-1 h-0.5 bg-white/30 mx-2 relative"},mu={key:0,class:"absolute left-0 top-0 h-full bg-green-300 animate-pulse",style:{width:"50%"}},wu={class:"mb-8"},fu={key:0,class:"space-y-3"},hu={class:"flex items-center justify-between"},_u={class:"flex items-center space-x-3"},zu={class:"font-medium text-gray-900 dark:text-white"},$u={class:"text-sm text-gray-600 dark:text-gray-400"},Cu={class:"text-right"},ju={key:0,class:"text-sm font-mono font-semibold text-gray-900 dark:text-white"},Su={key:1,class:"text-sm font-mono text-blue-600 dark:text-blue-400"},Iu={key:0,class:"text-center py-2 text-sm text-gray-500 dark:text-gray-400"},Mu={key:1,class:"text-center py-8 text-gray-500 dark:text-gray-400"},Tu={class:"border-t border-gray-200 dark:border-gray-600 pt-6"},Ru={class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4"},Pu={class:"mb-4"},Au=["value"],Nu={class:"flex space-x-2 mb-4"},Bu=["disabled"],Du={class:"flex space-x-2"},Zu={class:"text-xs font-medium"},Gu={__name:"LiveTimingCard",props:{sessions:{type:Array,required:!0,default:()=>[]},queue:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:["timing-started","measurement-recorded","refresh-requested"],setup(V,{emit:M}){const k=V,g=M,i=m(""),A=m(""),S=m(null);m(0);const Z=m(null),P=m(0);m(null),m(new Map);const F=q(()=>k.sessions.map(p=>`${p.kategoria} ${p.plec}`).join(", ")),u=q(()=>{const p=k.queue.find(f=>f.unified_status==="RUNNING"||f.unified_status==="TIMING");if(p)return{...p,current_time:h(p)};const l=k.queue.find(f=>f.start_time&&!f.finish_time);if(l)return{...l,current_time:h(l)};const d=k.queue.filter(f=>f.start_time).sort((f,B)=>new Date(B.start_time)-new Date(f.start_time))[0];return d&&(Date.now()-new Date(d.start_time))/1e3<30?{...d,current_time:h(d)}:null}),h=p=>{if(!p.start_time)return 0;P.value;const l=new Date(p.start_time).getTime(),d=p.finish_time?new Date(p.finish_time).getTime():Date.now();return Math.max(0,(d-l)/1e3)},y=()=>k.sessions.every(l=>l.status==="active")&&k.sessions.length>0?"bg-green-100 dark:bg-green-900/20 text-green-600 dark:text-green-400":"bg-yellow-100 dark:bg-yellow-900/20 text-yellow-600 dark:text-yellow-400",R=()=>{if(k.sessions.length===0)return"BRAK SESJI";const p=k.sessions.filter(l=>l.status==="active").length;return p===k.sessions.length?`${p} AKTYWNA${p>1?"E":""}`:`${p}/${k.sessions.length} AKTYWNE`},_=(p,l)=>p.unified_status==="RUNNING"||p.unified_status==="TIMING"?"bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 border-purple-200 dark:border-purple-700":p.unified_status==="FINISHED"?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":l===0?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",C=p=>p===0?"bg-blue-600 text-white":p===1?"bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400",oe=p=>{switch(p){case"RUNNING":case"TIMING":return"bg-purple-100 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400";case"FINISHED":return"bg-green-100 dark:bg-green-900/20 text-green-600 dark:text-green-400";case"READY":return"bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400";default:return"bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400"}},te=p=>{switch(p){case"RUNNING":return"BIEGNIE";case"TIMING":return"TIMING";case"FINISHED":return"UKOŃCZONE";case"READY":return"GOTOWY";default:return"OCZEKUJE"}},N=p=>{if(!p||p<0)return"00:00.00";const l=Math.floor(p/60),d=p%60;return`${l.toString().padStart(2,"0")}:${d.toFixed(2).padStart(5,"0")}`},z=async()=>{i.value.trim()&&(await w(i.value.trim()),i.value="")},T=async p=>{const l=new Date,d=l.getHours().toString().padStart(2,"0"),f=l.getMinutes().toString().padStart(2,"0"),B=l.getSeconds().toString().padStart(2,"0"),O=l.getMilliseconds().toString().padStart(3,"0"),ne=`${d}${f}${B}${O}`;let j="";switch(p){case"START":j=`CZL1${ne}`;break;case"FINISH":j=`CZL4${ne}`;break;case"INVALID":j=`INVALID${ne}`;break}console.log(`🧪 Generuję ramkę testową: ${j}`),await w(j)},w=async p=>{var l;try{const f=await(await fetch("/api/unified/record-measurement",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:(l=k.sessions[0])==null?void 0:l.id,raw_frame:p,nr_startowy:A.value})})).json();S.value={success:f.success,message:f.message||f.error},f.success&&g("measurement-recorded",f),setTimeout(()=>{S.value=null},5e3)}catch(d){console.error("❌ Frame processing error:",d),S.value={success:!1,message:"Błąd połączenia z serwerem"}}},L=()=>{g("refresh-requested")};return je(()=>{k.queue.length>0&&(A.value=k.queue[0].nr_startowy),Z.value=setInterval(()=>{P.value=Date.now();const p=u.value;p?console.log("⏱️ Timer tick:",{name:`${p.imie} ${p.nazwisko}`,start_time:p.start_time,current_time:p.current_time,unified_status:p.unified_status}):(console.log("⏱️ Timer tick: Brak currentRunner"),console.log("📊 Queue data:",k.queue.map(l=>({nr:l.nr_startowy,name:`${l.imie} ${l.nazwisko}`,status:l.unified_status,start_time:l.start_time,finish_time:l.finish_time}))))},1e3)}),lt(()=>{Z.value&&clearInterval(Z.value)}),(p,l)=>(s(),r("div",X0,[e("div",eu,[e("div",tu,[l[6]||(l[6]=e("div",{class:"w-10 h-10 bg-purple-100 dark:bg-purple-900/20 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",null,[l[5]||(l[5]=e("h2",{class:"text-xl font-bold text-gray-900 dark:text-white"},"SECTRO Live Timing",-1)),e("p",au,[V.sessions.length===1?(s(),r("span",su,a(V.sessions[0].kategoria)+" "+a(V.sessions[0].plec)+" • "+a(V.sessions[0].nazwa),1)):(s(),r("span",ru,a(V.sessions.length)+" aktywnych grup: "+a(F.value),1))])])]),e("div",ou,[e("div",{class:K([y(),"px-3 py-1 rounded-full text-sm font-medium flex items-center space-x-2"])},[e("div",{class:K(["w-2 h-2 rounded-full animate-pulse",V.sessions.some(d=>d.status==="active")?"bg-green-400":"bg-yellow-400"])},null,2),e("span",null,a(R()),1)],2),e("button",{onClick:L,disabled:V.loading,class:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg font-medium hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200"},[V.loading?(s(),r("svg",lu,l[7]||(l[7]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):(s(),r("svg",iu,l[8]||(l[8]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])))],8,nu)])]),u.value?(s(),r("div",du,[e("div",uu,[e("div",cu,[e("div",null,[l[9]||(l[9]=e("div",{class:"text-sm opacity-90"},"🏃 Aktualnie na trasie:",-1)),e("div",gu,a(u.value.imie)+" "+a(u.value.nazwisko),1),e("div",pu,a(u.value.klub),1)]),e("div",yu,[e("div",xu,a(N(u.value.current_time)),1),l[10]||(l[10]=e("div",{class:"text-sm opacity-90"},"Czas biegu",-1))])]),e("div",vu,[e("div",bu,[e("div",{class:K([u.value.start_time?"text-green-300":"text-white/50","flex items-center space-x-1"])},[e("div",{class:K(["w-3 h-3 rounded-full",u.value.start_time?"bg-green-300":"bg-white/50"])},null,2),l[11]||(l[11]=e("span",null,"START",-1))],2),e("div",ku,[u.value.start_time&&!u.value.finish_time?(s(),r("div",mu)):I("",!0)]),e("div",{class:K([u.value.finish_time?"text-green-300":"text-white/50","flex items-center space-x-1"])},[e("div",{class:K(["w-3 h-3 rounded-full",u.value.finish_time?"bg-green-300":"bg-white/50"])},null,2),l[12]||(l[12]=e("span",null,"FINISH",-1))],2)])])])])):I("",!0),e("div",wu,[l[13]||(l[13]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Kolejka startowa",-1)),V.queue.length>0?(s(),r("div",fu,[(s(!0),r(W,null,H(V.queue.slice(0,10),(d,f)=>(s(),r("div",{key:d.nr_startowy,class:K([_(d,f),"p-4 rounded-lg border transition-all duration-200"])},[e("div",hu,[e("div",_u,[e("div",{class:K([C(f),"w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold"])},a(f+1),3),e("div",null,[e("div",zu,a(d.imie)+" "+a(d.nazwisko)+" (#"+a(d.nr_startowy)+") ",1),e("div",$u,a(d.klub),1)])]),e("div",Cu,[e("div",{class:K([oe(d.unified_status),"px-2 py-1 rounded-full text-xs font-medium mb-1"])},a(te(d.unified_status)),3),d.final_time?(s(),r("div",ju,a(N(d.final_time)),1)):d.current_time?(s(),r("div",Su,a(N(d.current_time)),1)):I("",!0)])])],2))),128)),V.queue.length>10?(s(),r("div",Iu," ... i "+a(V.queue.length-10)+" więcej w kolejce ",1)):I("",!0)])):(s(),r("div",Mu," Brak zawodników w kolejce "))]),e("div",Tu,[l[15]||(l[15]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Manual Testing",-1)),e("div",Ru,[e("div",Pu,[U(e("select",{"onUpdate:modelValue":l[0]||(l[0]=d=>A.value=d),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm"},[l[14]||(l[14]=e("option",{value:""},"-- Wybierz zawodnika do testów --",-1)),(s(!0),r(W,null,H(V.queue.slice(0,5),d=>(s(),r("option",{key:d.nr_startowy,value:d.nr_startowy}," #"+a(d.nr_startowy)+" - "+a(d.imie)+" "+a(d.nazwisko)+" ("+a(d.unified_status)+") ",9,Au))),128))],512),[[se,A.value]])]),e("div",Nu,[U(e("input",{"onUpdate:modelValue":l[1]||(l[1]=d=>i.value=d),onKeyup:jt(z,["enter"]),placeholder:"Wpisz ramkę SECTRO (np. CZL1123456789)",class:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm"},null,544),[[ye,i.value]]),e("button",{onClick:z,disabled:!i.value.trim()||!A.value,class:"px-4 py-2 bg-purple-600 disabled:bg-gray-400 text-white rounded-lg font-medium hover:bg-purple-700 transition-colors duration-200 text-sm"}," Wyślij ",8,Bu)]),e("div",Du,[e("button",{onClick:l[2]||(l[2]=d=>T("START")),class:"px-3 py-1 bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-400 rounded text-sm font-medium hover:bg-green-200 dark:hover:bg-green-900/40 transition-colors"}," Test START "),e("button",{onClick:l[3]||(l[3]=d=>T("FINISH")),class:"px-3 py-1 bg-blue-100 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 rounded text-sm font-medium hover:bg-blue-200 dark:hover:bg-blue-900/40 transition-colors"}," Test FINISH "),e("button",{onClick:l[4]||(l[4]=d=>T("INVALID")),class:"px-3 py-1 bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-400 rounded text-sm font-medium hover:bg-red-200 dark:hover:bg-red-900/40 transition-colors"}," Test Invalid ")]),S.value?(s(),r("div",{key:0,class:K(["mt-3 p-2 rounded",S.value.success?"bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-400":"bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-400"])},[e("div",Zu,a(S.value.message),1)],2)):I("",!0)])])]))}},qu=Se(Gu,[["__scopeId","data-v-66dbbd7b"]]),Fu={class:"results-card bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},Ou={class:"flex items-center justify-between mb-6"},Eu={class:"flex items-center space-x-2"},Ku=["disabled"],Vu={key:0,class:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24"},Uu={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Lu={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8"},Qu={class:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800"},Wu={class:"flex items-center justify-between"},Hu={class:"text-2xl font-bold text-blue-900 dark:text-blue-100"},Ju={class:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 rounded-lg p-4 border border-green-200 dark:border-green-800"},Yu={class:"flex items-center justify-between"},Xu={class:"text-2xl font-bold text-green-900 dark:text-green-100"},ec={class:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 rounded-lg p-4 border border-purple-200 dark:border-purple-800"},tc={class:"flex items-center justify-between"},ac={class:"text-2xl font-bold text-purple-900 dark:text-purple-100"},sc={class:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20 rounded-lg p-4 border border-orange-200 dark:border-orange-800"},rc={class:"flex items-center justify-between"},oc={class:"text-2xl font-bold text-orange-900 dark:text-orange-100"},nc={class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden"},lc={key:0,class:"divide-y divide-gray-200 dark:divide-gray-600"},ic={class:"grid grid-cols-12 gap-4 items-center"},dc={class:"col-span-1"},uc={class:"col-span-4"},cc={class:"flex items-center space-x-3"},gc={class:"flex-1"},pc={class:"font-semibold text-gray-900 dark:text-white"},yc={class:"text-sm text-gray-600 dark:text-gray-400"},xc={key:0,class:"text-yellow-500"},vc={key:1,class:"text-gray-400"},bc={key:2,class:"text-amber-600"},kc={class:"col-span-3"},mc={class:"text-sm text-gray-900 dark:text-white"},wc={class:"col-span-2"},fc={key:0,class:"text-lg font-mono font-bold text-gray-900 dark:text-white"},hc={key:1,class:"text-lg font-mono text-blue-600 dark:text-blue-400"},_c={key:2,class:"text-sm text-gray-500 dark:text-gray-400"},zc={key:3,class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},$c={key:0},Cc={key:1},jc={class:"col-span-2"},Sc={key:0,class:"text-xs text-gray-500 dark:text-gray-400"},Ic={class:"text-xs text-gray-400 mt-1"},Mc={key:1,class:"px-6 py-12 text-center"},Tc={__name:"ResultsCard",props:{sessionId:{type:Number,required:!0},results:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:["refresh-requested"],setup(V,{emit:M}){const k=V,g=M,i=q(()=>{const N=k.results.filter(T=>T.unified_status==="FINISHED"&&T.total_time).sort((T,w)=>T.total_time-w.total_time).map((T,w)=>({...T,position:w+1})),z=k.results.filter(T=>T.unified_status!=="FINISHED"||!T.total_time).map(T=>({...T,position:null}));return[...N,...z]}),A=q(()=>i.value.filter(N=>N.unified_status==="FINISHED"&&N.total_time)),S=q(()=>A.value.length),Z=q(()=>i.value.filter(N=>N.unified_status!=="FINISHED").length),P=q(()=>{const N=A.value;return N.length===0?null:Math.min(...N.map(z=>z.total_time))}),F=q(()=>P.value?_(P.value):"--:--"),u=q(()=>{const N=A.value;if(N.length===0)return"--:--";const T=N.reduce((w,L)=>w+L.total_time,0)/N.length;return _(T)}),h=(N,z)=>N.unified_status==="RUNNING"||N.unified_status==="TIMING"?"bg-purple-50 dark:bg-purple-900/10":N.position===1?"bg-yellow-50 dark:bg-yellow-900/10":N.position===2?"bg-gray-50 dark:bg-gray-800":N.position===3?"bg-amber-50 dark:bg-amber-900/10":"bg-white dark:bg-gray-800",y=N=>{const z=i.value[N];return z.position===1?"bg-yellow-500 text-white":z.position===2?"bg-gray-400 text-white":z.position===3?"bg-amber-600 text-white":z.total_time?"bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400"},R=N=>{switch(N){case"FINISHED":return"UKOŃCZONE";case"RUNNING":return"BIEGNIE";case"TIMING":return"TIMING";case"READY":return"GOTOWY";default:return"OCZEKUJE"}},_=N=>{if(!N||N<0)return"00:00.00";const z=Math.floor(N/60),T=N%60;return`${z.toString().padStart(2,"0")}:${T.toFixed(2).padStart(5,"0")}`},C=N=>new Date(N).toLocaleTimeString("pl-PL",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),oe=async()=>{g("refresh-requested")},te=()=>{const z=[["Pozycja","Zawodnik","Klub","Czas","Start","Finish","Status"].join(",")];i.value.forEach(p=>{const l=[p.position||"",`"${p.imie} ${p.nazwisko}"`,`"${p.klub||""}"`,p.total_time?_(p.total_time):"",p.start_time?C(p.start_time):"",p.finish_time?C(p.finish_time):"",R(p.unified_status)];z.push(l.join(","))});const T=z.join(`
`),w=new Blob([T],{type:"text/csv;charset=utf-8;"}),L=document.createElement("a");if(L.download!==void 0){const p=URL.createObjectURL(w);L.setAttribute("href",p),L.setAttribute("download",`wyniki_sesja_${k.sessionId}_${new Date().toISOString().slice(0,10)}.csv`),L.style.visibility="hidden",document.body.appendChild(L),L.click(),document.body.removeChild(L)}};return(N,z)=>(s(),r("div",Fu,[e("div",Ou,[z[2]||(z[2]=ue('<div class="flex items-center space-x-3" data-v-3e005c7d><div class="w-10 h-10 bg-green-100 dark:bg-green-900/20 rounded-lg flex items-center justify-center" data-v-3e005c7d><svg class="w-5 h-5 text-green-600 dark:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-3e005c7d><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z" data-v-3e005c7d></path></svg></div><div data-v-3e005c7d><h2 class="text-xl font-bold text-gray-900 dark:text-white" data-v-3e005c7d>Wyniki</h2><p class="text-sm text-gray-600 dark:text-gray-400" data-v-3e005c7d>Ranking i analiza sesji</p></div></div>',1)),e("div",Eu,[e("button",{onClick:te,class:"px-4 py-2 bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-400 rounded-lg font-medium hover:bg-green-200 dark:hover:bg-green-900/40 transition-colors duration-200"}," 📊 Eksport "),e("button",{onClick:oe,disabled:V.loading,class:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg font-medium hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200"},[V.loading?(s(),r("svg",Vu,z[0]||(z[0]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):(s(),r("svg",Uu,z[1]||(z[1]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])))],8,Ku)])]),e("div",Lu,[e("div",Qu,[e("div",Wu,[e("div",null,[z[3]||(z[3]=e("div",{class:"text-sm font-medium text-blue-600 dark:text-blue-400"},"Ukończone",-1)),e("div",Hu,a(S.value),1)]),z[4]||(z[4]=e("div",{class:"w-10 h-10 bg-blue-200 dark:bg-blue-800 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]),e("div",Ju,[e("div",Yu,[e("div",null,[z[5]||(z[5]=e("div",{class:"text-sm font-medium text-green-600 dark:text-green-400"},"Najlepszy czas",-1)),e("div",Xu,a(F.value),1)]),z[6]||(z[6]=e("div",{class:"w-10 h-10 bg-green-200 dark:bg-green-800 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])],-1))])]),e("div",ec,[e("div",tc,[e("div",null,[z[7]||(z[7]=e("div",{class:"text-sm font-medium text-purple-600 dark:text-purple-400"},"Średni czas",-1)),e("div",ac,a(u.value),1)]),z[8]||(z[8]=e("div",{class:"w-10 h-10 bg-purple-200 dark:bg-purple-800 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1))])]),e("div",sc,[e("div",rc,[e("div",null,[z[9]||(z[9]=e("div",{class:"text-sm font-medium text-orange-600 dark:text-orange-400"},"W kolejce",-1)),e("div",oc,a(Z.value),1)]),z[10]||(z[10]=e("div",{class:"w-10 h-10 bg-orange-200 dark:bg-orange-800 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-orange-600 dark:text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])])]),e("div",nc,[z[12]||(z[12]=ue('<div class="bg-gray-50 dark:bg-gray-700 px-6 py-3 border-b border-gray-200 dark:border-gray-600" data-v-3e005c7d><div class="grid grid-cols-12 gap-4 text-sm font-medium text-gray-600 dark:text-gray-400" data-v-3e005c7d><div class="col-span-1" data-v-3e005c7d>Poz.</div><div class="col-span-4" data-v-3e005c7d>Zawodnik</div><div class="col-span-3" data-v-3e005c7d>Klub</div><div class="col-span-2" data-v-3e005c7d>Czas</div><div class="col-span-2" data-v-3e005c7d>Status</div></div></div>',1)),i.value.length>0?(s(),r("div",lc,[(s(!0),r(W,null,H(i.value,(T,w)=>(s(),r("div",{key:T.nr_startowy,class:K([h(T),"px-6 py-4 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-150"])},[e("div",ic,[e("div",dc,[e("div",{class:K([y(w),"w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold"])},a(T.position||"-"),3)]),e("div",uc,[e("div",cc,[e("div",gc,[e("div",pc,a(T.imie)+" "+a(T.nazwisko),1),e("div",yc," ID: "+a(T.nr_startowy),1)]),T.position===1?(s(),r("div",xc,"🥇")):T.position===2?(s(),r("div",vc,"🥈")):T.position===3?(s(),r("div",bc,"🥉")):I("",!0)])]),e("div",kc,[e("div",mc,a(T.klub||"Brak klubu"),1)]),e("div",wc,[T.total_time?(s(),r("div",fc,a(_(T.total_time)),1)):T.current_time?(s(),r("div",hc,a(_(T.current_time)),1)):(s(),r("div",_c," -:--.-- ")),T.start_time||T.finish_time?(s(),r("div",zc,[T.start_time?(s(),r("div",$c,"Start: "+a(C(T.start_time)),1)):I("",!0),T.finish_time?(s(),r("div",Cc,"Finish: "+a(C(T.finish_time)),1)):I("",!0)])):I("",!0)]),e("div",jc,[T.position>1&&T.total_time&&P.value?(s(),r("div",Sc," +"+a(_(T.total_time-P.value)),1)):I("",!0),e("div",Ic," Status: "+a(T.unified_status),1)])])],2))),128))])):(s(),r("div",Mc,z[11]||(z[11]=[e("svg",{class:"w-12 h-12 text-gray-400 dark:text-gray-600 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1",d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})],-1),e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"},"Brak wyników",-1),e("p",{class:"text-gray-600 dark:text-gray-400"}," Wyniki pojawią się po ukończeniu biegu przez zawodników ",-1)])))])]))}},Rc=Se(Tc,[["__scopeId","data-v-3e005c7d"]]),Pc={class:"unified-start-control min-h-screen bg-gray-50 dark:bg-gray-900 p-6"},Ac={class:"mb-8"},Nc={class:"flex items-center justify-between"},Bc={class:"text-right"},Dc={class:"mt-4 flex items-center space-x-2"},Zc={class:"mt-2 flex space-x-10"},Gc={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},qc={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},Fc={class:"flex items-center justify-between"},Oc={class:"text-2xl font-bold text-green-600 dark:text-green-400"},Ec={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},Kc={class:"flex items-center justify-between"},Vc={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},Uc={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},Lc={class:"flex items-center justify-between"},Qc={class:"text-2xl font-bold text-purple-600 dark:text-purple-400"},Wc={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},Hc={class:"flex items-center justify-between"},Jc={class:"text-2xl font-bold text-orange-600 dark:text-orange-400"},Yc={class:"space-y-8"},Xc={class:"fixed bottom-8 right-8"},eg=["disabled"],tg={key:0,class:"w-6 h-6 animate-spin",fill:"none",viewBox:"0 0 24 24"},ag={key:1,class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},sg={__name:"UnifiedStartControl",setup(V){const M=m(!1),k=m([]),g=m([]),i=m(null),A=m([]),S=m({}),Z=m(null),P=["Grupy","Timing","Wyniki"],F=q(()=>k.value.some(p=>p.liczba_zawodnikow>0)),u=q(()=>k.value.filter(p=>p.liczba_zawodnikow>0).length),h=q(()=>g.value.some(p=>p.unified_status==="FINISHED"||p.unified_status==="TIMING")),y=q(()=>i.value&&h.value?"3. Wyniki":i.value?"2. Live Timing":(F.value,"1. Grupy Startowe")),R=()=>{const p=y.value;return p.includes("Wyniki")?"text-green-600 dark:text-green-400":p.includes("Timing")?"text-purple-600 dark:text-purple-400":p.includes("Grupy")?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"},_=p=>{const l=te();return p<l?"bg-green-500 text-white":p===l?"bg-blue-500 text-white":"bg-gray-300 dark:bg-gray-600 text-gray-600 dark:text-gray-400"},C=p=>{const l=te();return p<l?"bg-green-500":"bg-gray-300 dark:bg-gray-600"},oe=p=>{const l=te();return p<l?"text-green-600 dark:text-green-400":p===l?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400"},te=()=>i.value&&h.value?2:i.value?1:(F.value,0),N=async()=>{var p;M.value=!0;try{const d=await(await fetch("/api/unified/dashboard-data")).json();d.success?(k.value=d.groups||[],g.value=d.queue||[],i.value=d.activeSession,A.value=d.activeSessions||[],S.value=d.stats||{},console.log("✅ Unified dashboard data refreshed:",{groups:k.value.length,queue:g.value.length,activeSession:((p=i.value)==null?void 0:p.id)||"none",currentPhase:y.value})):console.error("❌ Error refreshing unified data:",d.error)}catch(l){console.error("❌ Network error refreshing unified data:",l)}finally{M.value=!1}},z=async p=>{console.log("🏁 Group activated:",p),await N(),setTimeout(()=>{const l=document.querySelector(".live-timing-card");l&&l.scrollIntoView({behavior:"smooth"})},500)},T=async p=>{console.log("⏹️ Group deactivated:",p),await N()},w=async p=>{console.log("⏱️ Timing started:",p),await N()},L=async p=>{console.log("📊 Measurement recorded:",p),await N(),h.value&&setTimeout(()=>{const l=document.querySelector(".results-card");l&&l.scrollIntoView({behavior:"smooth"})},500)};return je(()=>{N(),Z.value=setInterval(N,1e4)}),lt(()=>{Z.value&&clearInterval(Z.value)}),(p,l)=>{var d,f;return s(),r("div",Pc,[e("div",Ac,[e("div",Nc,[l[1]||(l[1]=ue('<div class="flex items-center space-x-4" data-v-3d3ad122><div class="w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center" data-v-3d3ad122><svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-3d3ad122><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" data-v-3d3ad122></path></svg></div><div data-v-3d3ad122><h1 class="text-3xl font-bold text-gray-900 dark:text-white" data-v-3d3ad122>Unified Start Control</h1><p class="text-gray-600 dark:text-gray-400" data-v-3d3ad122>Centrum Startu + SECTRO Live Timing</p></div></div>',1)),e("div",Bc,[l[0]||(l[0]=e("div",{class:"text-sm text-gray-500 dark:text-gray-400"},"Faza workflow:",-1)),e("div",{class:K(["text-lg font-semibold",R()])},a(y.value),3)])]),e("div",Dc,[(s(),r(W,null,H(P,(B,O)=>e("div",{key:O,class:"flex items-center"},[e("div",{class:K([_(O),"w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold"])},a(O+1),3),O<P.length-1?(s(),r("div",{key:0,class:K([C(O),"w-8 h-0.5 mx-2"])},null,2)):I("",!0)])),64))]),e("div",Zc,[(s(),r(W,null,H(P,(B,O)=>e("div",{key:O,class:K([oe(O),"text-xs font-medium"])},a(B),3)),64))])]),e("div",Gc,[e("div",qc,[e("div",Fc,[e("div",null,[l[2]||(l[2]=e("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Zameldowani",-1)),e("p",Oc,a(((d=S.value.zawodnicy)==null?void 0:d.zameldowani)||0),1)]),l[3]||(l[3]=e("div",{class:"w-12 h-12 bg-green-100 dark:bg-green-900/20 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]),e("div",Ec,[e("div",Kc,[e("div",null,[l[4]||(l[4]=e("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Grupy gotowe",-1)),e("p",Vc,a(u.value),1)]),l[5]||(l[5]=e("div",{class:"w-12 h-12 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])],-1))])]),e("div",Uc,[e("div",Lc,[e("div",null,[l[6]||(l[6]=e("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Sesje SECTRO",-1)),e("p",Qc,a(((f=S.value.sectro)==null?void 0:f.active_sessions)||0),1)]),l[7]||(l[7]=e("div",{class:"w-12 h-12 bg-purple-100 dark:bg-purple-900/20 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]),e("div",Wc,[e("div",Hc,[e("div",null,[l[8]||(l[8]=e("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"W kolejce",-1)),e("p",Jc,a(g.value.length),1)]),l[9]||(l[9]=e("div",{class:"w-12 h-12 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-orange-600 dark:text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})])],-1))])])]),e("div",Yc,[D(Y0,{groups:k.value,loading:M.value,onGroupActivated:z,onGroupDeactivated:T,onRefreshRequested:N},null,8,["groups","loading"]),A.value&&A.value.length>0?(s(),fe(qu,{key:0,sessions:A.value,queue:g.value,loading:M.value,onTimingStarted:w,onMeasurementRecorded:L,onRefreshRequested:N},null,8,["sessions","queue","loading"])):I("",!0),i.value&&h.value?(s(),fe(Rc,{key:1,"session-id":i.value.id,results:g.value,loading:M.value,onRefreshRequested:N},null,8,["session-id","results","loading"])):I("",!0)]),e("div",Xc,[e("button",{onClick:N,disabled:M.value,class:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white p-4 rounded-full shadow-lg transition-all duration-200"},[M.value?(s(),r("svg",tg,l[10]||(l[10]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):(s(),r("svg",ag,l[11]||(l[11]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])))],8,eg)])])}}},rg=Se(sg,[["__scopeId","data-v-3d3ad122"]]),og={class:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200"},ng={class:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700 transition-colors duration-200"},lg={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},ig={class:"flex justify-between items-center h-16"},dg={class:"flex items-center flex-shrink-0"},ug={class:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white transition-colors duration-200"},cg={key:0,class:"ml-1 sm:ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200"},gg={class:"hidden sm:block flex-1 max-w-lg mx-8"},pg={class:"relative"},yg={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},xg={class:"flex items-center space-x-2 sm:space-x-4"},vg={class:"flex items-center space-x-1 sm:space-x-2"},bg={class:"p-1 sm:p-2 text-gray-400 dark:text-gray-300 hover:text-gray-500 dark:hover:text-gray-200"},kg=["title"],mg={class:"w-7 h-7 sm:w-8 sm:h-8 bg-indigo-500 rounded-full flex items-center justify-center"},wg={class:"text-white text-xs sm:text-sm font-medium"},fg={class:"pb-4 sm:hidden"},hg={class:"relative"},_g={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},zg={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},$g={class:"border-b border-gray-200 dark:border-gray-700"},Cg={class:"-mb-px flex flex-wrap gap-x-4 gap-y-2 sm:space-x-8 sm:gap-y-0","aria-label":"Tabs"},jg=["onClick"],Sg={class:"text-xs sm:text-sm"},Ig={class:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8"},Mg={key:0},Tg={key:1,class:"space-y-6"},Rg={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},Pg={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},Ag={class:"bg-white dark:bg-gray-800 shadow rounded-lg transition-colors duration-200"},Ng={class:"px-4 sm:px-6 py-4 border-b border-gray-200 dark:border-gray-700"},Bg={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6"},Dg=["value"],Zg=["value"],Gg={class:"border-t border-gray-200 dark:border-gray-700 pt-4"},qg={class:"flex flex-wrap gap-3 mb-4"},Fg=["disabled"],Og=["disabled"],Eg=["disabled"],Kg=["disabled"],Vg={class:"border-t border-gray-200 dark:border-gray-700 pt-4"},Ug={class:"flex flex-wrap gap-3"},Lg=["disabled"],Qg=["disabled"],Wg=["disabled"],Hg={class:"md:hidden p-4 space-y-4"},Jg={class:"hidden md:block overflow-x-auto"},Yg={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Xg={class:"bg-gray-50 dark:bg-gray-700"},ep={class:"px-6 py-3 text-left text-sm font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},tp=["checked"],ap={key:0,class:"px-6 py-3 text-left text-sm font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},sp={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},rp={class:"px-6 py-4 whitespace-nowrap"},op=["checked","onChange"],np={class:"px-6 py-4 whitespace-nowrap text-base font-medium text-gray-900 dark:text-white"},lp={class:"px-6 py-4 whitespace-nowrap text-base text-gray-600 dark:text-gray-300"},ip={class:"px-6 py-4 whitespace-nowrap"},dp={class:"text-base font-medium text-gray-900 dark:text-white"},up={class:"px-6 py-4 whitespace-nowrap text-base text-gray-600 dark:text-gray-300"},cp={class:"px-6 py-4 whitespace-nowrap"},gp={class:"px-6 py-4 whitespace-nowrap text-base font-medium text-gray-900 dark:text-white"},pp={key:0,class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},yp={class:"flex flex-col space-y-2"},xp=["onClick"],vp={key:0,class:"bg-white dark:bg-gray-800 px-4 py-3 flex items-center justify-between border-t border-gray-200 dark:border-gray-700 sm:px-6"},bp={class:"flex-1 flex justify-between sm:hidden"},kp=["disabled"],mp=["disabled"],wp={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},fp={class:"text-sm text-gray-700 dark:text-gray-300"},hp={class:"font-medium"},_p={class:"font-medium"},zp={class:"font-medium"},$p={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},Cp=["disabled"],jp=["disabled"],Sp=["onClick"],Ip={key:0,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-700 dark:text-gray-300"},Mp=["disabled"],Tp=["disabled"],Rp={key:2},Pp={key:3},Ap={key:4},Np={key:5},Bp={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Dp={class:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-4xl w-full m-4 max-h-[90vh] overflow-y-auto"},Zp={class:"flex items-center justify-between mb-4"},Gp={class:"mb-4 flex space-x-4"},qp={id:"qrPrintArea",class:"print-content"},Fp={class:"sticker-grid"},Op={class:"sticker-header"},Ep={class:"nr-startowy"},Kp={class:"zawodnik-name"},Vp={class:"qr-container"},Up=["src","alt"],Lp={class:"sticker-footer"},Qp={class:"kategoria"},Wp={class:"klub"},Be=50,Hp=_e({__name:"App",setup(V){const M=m([]),k=m(""),g=m(!0),i=m(localStorage.getItem("darkMode")==="true"),A=m(!0);m(null);const S=m(!1),Z=m(null),P=m("dashboard"),F=m({kluby:[],kategorie:[],plcie:[],statusy:[]}),u=m({kategoria:"",klub:"",statusQr:"",sortowanie:"nr_startowy_asc"}),h=m([]),y=m(!1),R=m([]),_=m(!1),C=m(1),oe=q(()=>z.value.length),te=q(()=>Math.ceil(oe.value/Be)),N=[{id:"dashboard",name:"Dashboard",icon:De,adminOnly:!1},{id:"zawodnicy",name:"Zawodnicy",icon:it,adminOnly:!0},{id:"drabinka",name:"Drabinka",icon:Te,adminOnly:!1},{id:"rankingi",name:"Rankingi",icon:Nt,adminOnly:!1},{id:"unified-start",name:"Start Control",icon:He,adminOnly:!0},{id:"qr-dashboard",name:"QR Dashboard",icon:Qe,adminOnly:!0}],z=q(()=>{let v=M.value;if(k.value){const n=k.value.toLowerCase();v=v.filter(b=>b.imie.toLowerCase().includes(n)||b.nazwisko.toLowerCase().includes(n)||b.kategoria.toLowerCase().includes(n)||b.nr_startowy.toString().includes(n)||b.klub.toLowerCase().includes(n))}return u.value.kategoria&&(v=v.filter(n=>n.kategoria===u.value.kategoria)),u.value.klub&&(v=v.filter(n=>n.klub===u.value.klub)),u.value.statusQr==="z_qr"?v=v.filter(n=>n.qr_code):u.value.statusQr==="bez_qr"&&(v=v.filter(n=>!n.qr_code)),u.value.sortowanie==="nr_startowy_asc"?v.sort((n,b)=>n.nr_startowy-b.nr_startowy):u.value.sortowanie==="nr_startowy_desc"?v.sort((n,b)=>b.nr_startowy-n.nr_startowy):u.value.sortowanie==="nazwisko_asc"?v.sort((n,b)=>`${n.nazwisko} ${n.imie}`.localeCompare(`${b.nazwisko} ${b.imie}`)):u.value.sortowanie==="nazwisko_desc"?v.sort((n,b)=>`${b.nazwisko} ${b.imie}`.localeCompare(`${n.nazwisko} ${n.imie}`)):u.value.sortowanie==="kategoria_asc"?v.sort((n,b)=>n.kategoria.localeCompare(b.kategoria)):u.value.sortowanie==="klub_asc"?v.sort((n,b)=>n.klub.localeCompare(b.klub)):u.value.sortowanie==="czas_asc"?v.sort((n,b)=>!n.czas_przejazdu_s&&!b.czas_przejazdu_s?0:n.czas_przejazdu_s?b.czas_przejazdu_s?n.czas_przejazdu_s-b.czas_przejazdu_s:-1:1):u.value.sortowanie==="czas_desc"&&v.sort((n,b)=>!n.czas_przejazdu_s&&!b.czas_przejazdu_s?0:n.czas_przejazdu_s?b.czas_przejazdu_s?b.czas_przejazdu_s-n.czas_przejazdu_s:-1:1),v}),T=q(()=>{const v=(C.value-1)*Be,n=v+Be;return z.value.slice(v,n)}),w=q(()=>{const v=M.value.length,n=M.value.filter(pe=>pe.status==="FINISHED"||pe.checked_in===!0).length,b=M.value.filter(pe=>pe.status==="DNF"||pe.status==="DSQ"||pe.checked_in===!1).length,he=M.value.filter(pe=>(pe.status==="FINISHED"||pe.checked_in===!0)&&pe.czas_przejazdu_s);let ve="-",ze="-";if(he.length>0){const pe=he.reduce((Ke,Ve)=>Ve.czas_przejazdu_s<Ke.czas_przejazdu_s?Ve:Ke);ve=X(pe.czas_przejazdu_s),ze=`${pe.imie} ${pe.nazwisko}`}return{total:v,finished:n,dnfDsq:b,recordTime:ve,recordHolder:ze}}),L=q(()=>[...new Set(M.value.map(v=>v.klub))]),p=q(()=>[...new Set(M.value.map(v=>v.kategoria))]),l=q(()=>N.filter(v=>!v.adminOnly||g.value)),d=q(()=>z.value.length>0&&z.value.every(v=>h.value.includes(v.nr_startowy))),f=q(()=>{if(!u.value.kategoria)return!1;const v=z.value.filter(n=>n.kategoria===u.value.kategoria);return v.length>0&&v.every(n=>h.value.includes(n.nr_startowy))}),B=q(()=>{if(!u.value.klub)return!1;const v=z.value.filter(n=>n.klub===u.value.klub);return v.length>0&&v.every(n=>h.value.includes(n.nr_startowy))}),O=q(()=>{const v=z.value.filter(n=>!n.qr_code);return v.length>0&&v.every(n=>h.value.includes(n.nr_startowy))}),ne=q(()=>z.value.filter(v=>!v.qr_code).length),j=q(()=>{const v=M.value.filter(b=>b.qr_code).length,n=M.value.length-v;return{withQr:v,withoutQr:n}}),c=q(()=>h.value.filter(v=>{const n=M.value.find(b=>b.nr_startowy===v);return n&&n.qr_code})),$=q(()=>h.value.filter(v=>{const n=M.value.find(b=>b.nr_startowy===v);return n&&!n.qr_code}));q(()=>{let v=M.value;if(k.value){const n=k.value.toLowerCase();v=v.filter(b=>b.imie.toLowerCase().includes(n)||b.nazwisko.toLowerCase().includes(n)||b.kategoria.toLowerCase().includes(n)||b.nr_startowy.toString().includes(n)||b.klub.toLowerCase().includes(n))}return F.value.kluby.length>0&&(v=v.filter(n=>F.value.kluby.includes(n.klub))),F.value.kategorie.length>0&&(v=v.filter(n=>F.value.kategorie.includes(n.kategoria))),F.value.plcie.length>0&&(v=v.filter(n=>F.value.plcie.includes(n.plec))),F.value.statusy.length>0&&(v=v.filter(n=>F.value.statusy.includes(n.status))),v});const X=v=>{const n=Math.floor(v/60),b=(v%60).toFixed(2);return`${n}:${b.padStart(5,"0")}`},le=async()=>{try{A.value=!0;const v=await we.get("/api/zawodnicy?limit=1000");v.data.success?M.value=v.data.data||[]:M.value=v.data.data||v.data||[],console.log(`✅ Pobrano ${M.value.length} zawodników dla client-side pagination`)}catch(v){console.error("Błąd podczas pobierania zawodników:",v),v.value="Nie udało się pobrać danych zawodników"}finally{A.value=!1}},G=()=>{g.value=!g.value},ce=()=>{i.value=!i.value,localStorage.setItem("darkMode",i.value.toString()),i.value?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},ie=v=>{Z.value=v,S.value=!0},ee=()=>{S.value=!1,Z.value=null},Y=()=>{le(),i.value?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},de=()=>{le(),i.value?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},xe=()=>{u.value={kategoria:"",klub:"",statusQr:"",sortowanie:"nr_startowy_asc"},h.value=[]},Je=v=>{const n=h.value.indexOf(v);n>-1?h.value.splice(n,1):h.value.push(v)},Me=()=>{if(d.value){const v=z.value.map(n=>n.nr_startowy);h.value=h.value.filter(n=>!v.includes(n))}else{const v=z.value.map(b=>b.nr_startowy),n=[...new Set([...h.value,...v])];h.value=n}},Pe=()=>{if(!u.value.kategoria)return;const v=z.value.filter(n=>n.kategoria===u.value.kategoria).map(n=>n.nr_startowy);if(f.value)h.value=h.value.filter(n=>!v.includes(n));else{const n=[...new Set([...h.value,...v])];h.value=n}},Ze=()=>{if(!u.value.klub)return;const v=z.value.filter(n=>n.klub===u.value.klub).map(n=>n.nr_startowy);if(B.value)h.value=h.value.filter(n=>!v.includes(n));else{const n=[...new Set([...h.value,...v])];h.value=n}},Ge=()=>{const v=z.value.filter(n=>!n.qr_code).map(n=>n.nr_startowy);if(O.value)h.value=h.value.filter(n=>!v.includes(n));else{const n=[...new Set([...h.value,...v])];h.value=n}},qe=()=>{h.value=[]},Fe=v=>{P.value=v},Oe=v=>{v>=1&&v<=te.value&&(C.value=v)},Ee=()=>{C.value<te.value&&(C.value+=1)},$e=()=>{C.value>1&&(C.value-=1)},Ye=()=>{C.value=1},ke=()=>{C.value=te.value},Xe=async()=>{if($.value.length!==0){_.value=!0;try{const v=await fetch("/api/qr/bulk-generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({numery_startowe:$.value})});if(v.ok){const n=await v.json();console.log(`✅ Wygenerowano ${n.data.codes.length} kodów QR`),await le()}else console.error("Błąd podczas generowania QR kodów")}catch(v){console.error("Błąd:",v)}finally{_.value=!1}}},et=async v=>await(await Ft(()=>import("./browser-BR0oiPy3.js").then(b=>b.b),__vite__mapDeps([0,1]))).toDataURL(v,{width:200,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}),Ae=async()=>{if(c.value.length!==0){_.value=!0;try{const n=c.value.map(ve=>M.value.find(ze=>ze.nr_startowy===ve)).filter(Boolean).map(async ve=>{if(!ve.qr_code)return null;const ze=await et(ve.qr_code);return{nr_startowy:ve.nr_startowy,imie:ve.imie,nazwisko:ve.nazwisko,kategoria:ve.kategoria,klub:ve.klub||"",qr_image:ze}}),he=(await Promise.all(n)).filter(Boolean);R.value=he,y.value=!0}catch(v){console.error("Błąd podczas przygotowywania QR kodów do druku:",v)}finally{_.value=!1}}},tt=async()=>{await Ae()},Ne=()=>{y.value=!1,R.value=[]},at=()=>{window.print(),Ne()};return Ce([u,k],()=>{C.value=1},{deep:!0}),je(()=>{le(),i.value?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}),(v,n)=>(s(),r("div",og,[e("header",ng,[e("div",lg,[e("div",ig,[e("div",dg,[e("h1",ug,[n[7]||(n[7]=e("span",{class:"hidden sm:inline"},"SKATECROSS Dashboard",-1)),n[8]||(n[8]=e("span",{class:"sm:hidden"},"SKATECROSS",-1)),g.value?(s(),r("span",cg,n[6]||(n[6]=[re(" 🔧 "),e("span",{class:"hidden sm:inline ml-1"},"ADMIN",-1)]))):I("",!0)])]),e("div",gg,[e("div",pg,[e("div",yg,[D(Q(ct),{class:"h-5 w-5 text-gray-400"})]),U(e("input",{type:"text",class:"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg leading-5 bg-white dark:bg-gray-700 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm transition-colors duration-200 shadow-sm",placeholder:"Szukaj zawodników...","onUpdate:modelValue":n[0]||(n[0]=b=>k.value=b)},null,512),[[ye,k.value]])])]),e("div",xg,[e("div",vg,[n[9]||(n[9]=e("label",{class:"text-xs sm:text-sm text-gray-600 dark:text-gray-300 hidden sm:inline"},"Admin:",-1)),e("button",{onClick:G,class:K(["relative inline-flex h-5 w-9 sm:h-6 sm:w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",g.value?"bg-indigo-600":"bg-gray-200 dark:bg-gray-600"])},[e("span",{class:K(["pointer-events-none inline-block h-4 w-4 sm:h-5 sm:w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",g.value?"translate-x-4 sm:translate-x-5":"translate-x-0"])},null,2)],2)]),e("button",bg,[D(Q(Bt),{class:"h-5 w-5 sm:h-6 sm:w-6"})]),e("button",{onClick:ce,class:"p-1 sm:p-2 text-gray-400 dark:text-gray-300 hover:text-gray-500 dark:hover:text-gray-200 transition-colors duration-200",title:i.value?"Przełącz na tryb jasny":"Przełącz na tryb ciemny"},[i.value?(s(),fe(Q(Dt),{key:0,class:"h-5 w-5 sm:h-6 sm:w-6"})):(s(),fe(Q(Zt),{key:1,class:"h-5 w-5 sm:h-6 sm:w-6"}))],8,kg),e("div",mg,[e("span",wg,a(g.value?"A":"U"),1)])])]),e("div",fg,[e("div",hg,[e("div",_g,[D(Q(ct),{class:"h-4 w-4 text-gray-400"})]),U(e("input",{type:"text",class:"block w-full pl-9 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md leading-5 bg-white dark:bg-gray-700 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 text-sm transition-colors duration-200",placeholder:"Szukaj zawodników...","onUpdate:modelValue":n[1]||(n[1]=b=>k.value=b)},null,512),[[ye,k.value]])])])])]),e("div",zg,[e("div",$g,[e("nav",Cg,[(s(!0),r(W,null,H(l.value,b=>(s(),r("button",{key:b.id,onClick:he=>P.value=b.id,class:K([P.value===b.id?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600","whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm transition-colors duration-200 flex items-center"])},[(s(),fe(We(b.icon),{class:"h-4 w-4 sm:h-5 sm:w-5 mr-1 sm:mr-2"})),e("span",Sg,a(b.name),1)],10,jg))),128))])])]),e("main",Ig,[P.value==="dashboard"?(s(),r("div",Mg,[D(n0,{onNavigate:Fe})])):I("",!0),P.value==="zawodnicy"?(s(),r("div",Tg,[e("div",Rg,[D(be,{title:"Łącznie zawodników",value:w.value.total.toString(),icon:"👥",color:"blue",subtitle:"Wszyscy zawodnicy"},null,8,["value"]),D(be,{title:"Ukończyli trasę",value:w.value.finished.toString(),icon:"✅",color:"green",subtitle:"Status FINISHED"},null,8,["value"]),D(be,{title:"DNF/DSQ",value:w.value.dnfDsq.toString(),icon:"⚠️",color:"yellow",subtitle:"Nie ukończyli"},null,8,["value"]),D(be,{title:"Najlepszy czas",value:w.value.recordTime,icon:"🏆",color:"purple",subtitle:w.value.recordHolder!=="-"?`Rekord: ${w.value.recordHolder}`:""},null,8,["value","subtitle"])]),e("div",Pg,[D(be,{title:"Z kodami QR",value:j.value.withQr.toString(),icon:"📱",color:"green",subtitle:"Mają QR kody"},null,8,["value"]),D(be,{title:"Bez kodów QR",value:j.value.withoutQr.toString(),icon:"❌",color:"red",subtitle:"Wymagają generowania"},null,8,["value"]),D(be,{title:"Zaznaczonych",value:h.value.length.toString(),icon:"☑️",color:"indigo",subtitle:"Do operacji grupowych"},null,8,["value"]),D(be,{title:"Gotowych do druku",value:c.value.length.toString(),icon:"🖨️",color:"purple",subtitle:"Zaznaczonych z QR"},null,8,["value"])]),e("div",Ag,[e("div",Ng,[e("div",{class:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4"},[n[10]||(n[10]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Filtry i sortowanie",-1)),e("button",{onClick:xe,class:"mt-2 sm:mt-0 px-3 py-1 text-sm bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300 rounded-md hover:bg-red-200 dark:hover:bg-red-800 transition-colors duration-200 flex items-center"}," 🗑️ Wyczyść filtry ")]),e("div",Bg,[e("div",null,[n[12]||(n[12]=e("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[e("span",{class:"flex items-center space-x-2"},[e("span",null,"🏆"),e("span",null,"Kategoria")])],-1)),U(e("select",{"onUpdate:modelValue":n[2]||(n[2]=b=>u.value.kategoria=b),class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},[n[11]||(n[11]=e("option",{value:""},"Wszystkie",-1)),(s(!0),r(W,null,H(p.value,b=>(s(),r("option",{key:b,value:b},a(b),9,Dg))),128))],512),[[se,u.value.kategoria]])]),e("div",null,[n[14]||(n[14]=e("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[e("span",{class:"flex items-center space-x-2"},[e("span",null,"🏢"),e("span",null,"Klub")])],-1)),U(e("select",{"onUpdate:modelValue":n[3]||(n[3]=b=>u.value.klub=b),class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},[n[13]||(n[13]=e("option",{value:""},"Wszystkie",-1)),(s(!0),r(W,null,H(L.value,b=>(s(),r("option",{key:b,value:b},a(b),9,Zg))),128))],512),[[se,u.value.klub]])]),e("div",null,[n[16]||(n[16]=e("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[e("span",{class:"flex items-center space-x-2"},[e("span",null,"📱"),e("span",null,"Status QR")])],-1)),U(e("select",{"onUpdate:modelValue":n[4]||(n[4]=b=>u.value.statusQr=b),class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},n[15]||(n[15]=[e("option",{value:""},"Wszystkie",-1),e("option",{value:"z_qr"},"Z kodem QR",-1),e("option",{value:"bez_qr"},"Bez kodu QR",-1)]),512),[[se,u.value.statusQr]])]),e("div",null,[n[18]||(n[18]=e("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2"},[e("span",{class:"flex items-center space-x-2"},[e("span",null,"🔄"),e("span",null,"Sortowanie")])],-1)),U(e("select",{"onUpdate:modelValue":n[5]||(n[5]=b=>u.value.sortowanie=b),class:"w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-md focus:border-purple-500 focus:ring-2 focus:ring-purple-500 text-sm font-medium py-2.5 px-3 transition-all duration-200 hover:shadow-lg"},n[17]||(n[17]=[ue('<option value="nr_startowy_asc" data-v-25f3cecc>Nr startowy (rosnąco)</option><option value="nr_startowy_desc" data-v-25f3cecc>Nr startowy (malejąco)</option><option value="nazwisko_asc" data-v-25f3cecc>Nazwisko (A-Z)</option><option value="nazwisko_desc" data-v-25f3cecc>Nazwisko (Z-A)</option><option value="kategoria_asc" data-v-25f3cecc>Kategoria (A-Z)</option><option value="klub_asc" data-v-25f3cecc>Klub (A-Z)</option><option value="czas_asc" data-v-25f3cecc>Czas (najlepszy)</option><option value="czas_desc" data-v-25f3cecc>Czas (najgorszy)</option>',8)]),512),[[se,u.value.sortowanie]])])]),e("div",Gg,[n[22]||(n[22]=e("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-3"},[e("span",{class:"flex items-center space-x-2"},[e("span",null,"⚡"),e("span",null,"Operacje grupowe")])],-1)),e("div",qg,[e("button",{onClick:Me,class:K(["px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 flex items-center space-x-2 border-2",d.value?"bg-indigo-700 text-white shadow-inner border-indigo-800":"bg-indigo-600 text-white hover:bg-indigo-700 border-transparent"])},[e("span",null,a(d.value?"✅":"☐"),1),e("span",null,a(d.value?"Odznacz wszystkie":"Zaznacz wszystkie")+" ("+a(z.value.length)+")",1)],2),e("button",{onClick:Pe,disabled:!u.value.kategoria,class:K(["px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 flex items-center space-x-2 border-2",u.value.kategoria?f.value?"bg-green-700 text-white shadow-inner border-green-800":"bg-green-600 text-white hover:bg-green-700 border-transparent":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed border-transparent"])},[e("span",null,a(u.value.kategoria?f.value?"✅":"☐":"🏆"),1),e("span",null,a(u.value.kategoria?f.value?`Odznacz: ${u.value.kategoria}`:`Zaznacz: ${u.value.kategoria}`:"Wybierz kategorię"),1)],10,Fg),e("button",{onClick:Ze,disabled:!u.value.klub,class:K(["px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 flex items-center space-x-2 border-2",u.value.klub?B.value?"bg-purple-700 text-white shadow-inner border-purple-800":"bg-purple-600 text-white hover:bg-purple-700 border-transparent":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed border-transparent"])},[e("span",null,a(u.value.klub?B.value?"✅":"☐":"🏢"),1),e("span",null,a(u.value.klub?B.value?`Odznacz: ${u.value.klub}`:`Zaznacz: ${u.value.klub}`:"Wybierz klub"),1)],10,Og),e("button",{onClick:Ge,class:K(["px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 flex items-center space-x-2 border-2",ne.value===0?"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed border-transparent":O.value?"bg-orange-700 text-white shadow-inner border-orange-800":"bg-orange-600 text-white hover:bg-orange-700 border-transparent"]),disabled:ne.value===0},[e("span",null,a(O.value?"✅":"☐"),1),e("span",null,a(O.value?"Odznacz bez QR":"Zaznacz bez QR")+" ("+a(ne.value)+")",1)],10,Eg),e("button",{onClick:qe,disabled:h.value.length===0,class:K(["px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 flex items-center space-x-2 border-2 border-transparent",h.value.length>0?"bg-gray-600 text-white hover:bg-gray-700":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed"])},[n[19]||(n[19]=e("span",null,"🗑️",-1)),e("span",null,"Wyczyść zaznaczenia ("+a(h.value.length)+")",1)],10,Kg)]),e("div",Vg,[n[21]||(n[21]=e("label",{class:"block text-sm font-semibold text-gray-800 dark:text-gray-200 mb-3"},[e("span",{class:"flex items-center space-x-2"},[e("span",null,"📱"),e("span",null,"Akcje QR")])],-1)),e("div",Ug,[e("button",{onClick:Xe,disabled:$.value.length===0||_.value,class:K(["px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 flex items-center space-x-2 border-2",$.value.length===0||_.value?"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed border-transparent":"bg-indigo-600 text-white hover:bg-indigo-700 border-transparent"])},[D(Q(Qe),{class:"h-4 w-4"}),e("span",null,a(_.value?"Generowanie...":`Generuj QR (${$.value.length})`),1)],10,Lg),e("button",{onClick:Ae,disabled:c.value.length===0||_.value,class:K(["px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 flex items-center space-x-2 border-2",c.value.length===0||_.value?"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed border-transparent":"bg-green-600 text-white hover:bg-green-700 border-transparent"])},[D(Q(gt),{class:"h-4 w-4"}),e("span",null,a(_.value?"Przygotowywanie...":`Drukuj QR (${c.value.length})`),1)],10,Qg),e("button",{onClick:tt,disabled:c.value.length===0,class:K(["px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 flex items-center space-x-2 border-2",c.value.length===0?"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed border-transparent":"bg-blue-600 text-white hover:bg-blue-700 border-transparent"])},[n[20]||(n[20]=e("span",null,"👁️",-1)),e("span",null,"Podgląd QR ("+a(c.value.length)+")",1)],10,Wg)])])])]),e("div",Hg,[(s(!0),r(W,null,H(T.value,b=>(s(),fe(da,{key:b.nr_startowy,zawodnik:b,isAdmin:g.value,onEdit:ie},null,8,["zawodnik","isAdmin"]))),128))]),e("div",Jg,[e("table",Yg,[e("thead",Xg,[e("tr",null,[e("th",ep,[e("input",{type:"checkbox",checked:d.value,onChange:Me,class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 dark:border-gray-600 rounded"},null,40,tp)]),n[23]||(n[23]=e("th",{class:"px-6 py-3 text-left text-sm font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Nr startowy ",-1)),n[24]||(n[24]=e("th",{class:"px-6 py-3 text-left text-sm font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Klub ",-1)),n[25]||(n[25]=e("th",{class:"px-6 py-3 text-left text-sm font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Zawodnik ",-1)),n[26]||(n[26]=e("th",{class:"px-6 py-3 text-left text-sm font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Kategoria ",-1)),n[27]||(n[27]=e("th",{class:"px-6 py-3 text-left text-sm font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Status ",-1)),n[28]||(n[28]=e("th",{class:"px-6 py-3 text-left text-sm font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Czas ",-1)),g.value?(s(),r("th",ap," Akcje ")):I("",!0)])]),e("tbody",sp,[(s(!0),r(W,null,H(T.value,b=>(s(),r("tr",{key:b.nr_startowy},[e("td",rp,[e("input",{type:"checkbox",checked:h.value.includes(b.nr_startowy),onChange:he=>Je(b.nr_startowy),class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 dark:border-gray-600 rounded"},null,40,op)]),e("td",np,a(b.nr_startowy),1),e("td",lp,a(b.klub),1),e("td",ip,[e("div",dp,a(b.imie)+" "+a(b.nazwisko),1)]),e("td",up,a(b.kategoria),1),e("td",cp,[D(bt,{status:b.status,checked_in:b.checked_in},null,8,["status","checked_in"])]),e("td",gp,a(b.czas_przejazdu_s?X(b.czas_przejazdu_s):"-"),1),g.value?(s(),r("td",pp,[e("div",yp,[e("button",{onClick:he=>ie(b),class:"inline-flex items-center justify-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200 hover:bg-indigo-200 dark:hover:bg-indigo-800 transition-colors duration-200"},[D(Q(xt),{class:"h-3 w-3 mr-1"}),n[29]||(n[29]=re(" Edytuj "))],8,xp)])])):I("",!0)]))),128))])])]),te.value>1?(s(),r("div",vp,[e("div",bp,[e("button",{onClick:$e,disabled:C.value<=1,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed"}," Poprzednie 50 ",8,kp),e("button",{onClick:Ee,disabled:C.value>=te.value,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed"}," Następne 50 ",8,mp)]),e("div",wp,[e("div",null,[e("p",fp,[n[30]||(n[30]=re(" Pokazano ")),e("span",hp,a((C.value-1)*Be+1),1),n[31]||(n[31]=re(" do ")),e("span",_p,a(Math.min(C.value*Be,oe.value)),1),n[32]||(n[32]=re(" z ")),e("span",zp,a(oe.value),1),n[33]||(n[33]=re(" wyników "))])]),e("div",null,[e("nav",$p,[e("button",{onClick:Ye,disabled:C.value<=1,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed"},n[34]||(n[34]=[e("span",{class:"sr-only"},"Pierwsza strona",-1),re(" « ")]),8,Cp),e("button",{onClick:$e,disabled:C.value<=1,class:"relative inline-flex items-center px-2 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed"},n[35]||(n[35]=[e("span",{class:"sr-only"},"Poprzednia strona",-1),re(" ‹ ")]),8,jp),(s(!0),r(W,null,H(Math.min(5,te.value),b=>(s(),r(W,{key:b},[b<=te.value?(s(),r("button",{key:0,onClick:he=>Oe(b),class:K(["relative inline-flex items-center px-4 py-2 border text-sm font-medium",b===C.value?"z-10 bg-indigo-50 dark:bg-indigo-900 border-indigo-500 text-indigo-600 dark:text-indigo-200":"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700"])},a(b),11,Sp)):I("",!0)],64))),128)),te.value>5?(s(),r("span",Ip," ... ")):I("",!0),e("button",{onClick:Ee,disabled:C.value>=te.value,class:"relative inline-flex items-center px-2 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed"},n[36]||(n[36]=[e("span",{class:"sr-only"},"Następna strona",-1),re(" › ")]),8,Mp),e("button",{onClick:ke,disabled:C.value>=te.value,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed"},n[37]||(n[37]=[e("span",{class:"sr-only"},"Ostatnia strona",-1),re(" » ")]),8,Tp)])])])])):I("",!0)])])):I("",!0),P.value==="drabinka"?(s(),r("div",Rp,[D(es)])):I("",!0),P.value==="rankingi"?(s(),r("div",Pp,[D(Mn)])):I("",!0),P.value==="unified-start"?(s(),r("div",Ap,[D(rg)])):I("",!0),P.value==="qr-dashboard"?(s(),r("div",Np,[D(Ai)])):I("",!0)]),D(vs,{show:S.value,zawodnik:Z.value,onClose:ee,onUpdated:Y,onDeleted:de},null,8,["show","zawodnik"]),y.value?(s(),r("div",Bp,[e("div",Dp,[e("div",Zp,[n[38]||(n[38]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Podgląd QR kodów do druku",-1)),e("button",{onClick:Ne,class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[D(Q(vt),{class:"h-6 w-6"})])]),e("div",Gp,[e("button",{onClick:at,class:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center space-x-2"},[D(Q(gt),{class:"h-5 w-5"}),n[39]||(n[39]=e("span",null,"Drukuj teraz",-1))]),e("button",{onClick:Ne,class:"px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-lg hover:bg-gray-400 dark:hover:bg-gray-500"}," Anuluj ")]),e("div",qp,[e("div",Fp,[(s(!0),r(W,null,H(R.value,b=>(s(),r("div",{key:b.nr_startowy,class:"sticker"},[e("div",Op,[e("div",Ep,a(b.nr_startowy),1),e("div",Kp,a(b.imie)+" "+a(b.nazwisko),1)]),e("div",Vp,[e("img",{src:b.qr_image,alt:`QR ${b.nr_startowy}`,class:"qr-code"},null,8,Up)]),e("div",Lp,[e("div",Qp,a(b.kategoria),1),e("div",Wp,a(b.klub||""),1)])]))),128))])])])])):I("",!0)]))}}),Jp=Se(Hp,[["__scopeId","data-v-25f3cecc"]]);St(Jp).mount("#app");
