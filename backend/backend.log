âœ… Connection pool zainicjalizowany (1-15 poÅ‚Ä…czeÅ„)
âœ… Connection pool zainicjalizowany (1-15 poÅ‚Ä…czeÅ„)
ğŸ¯ SKATECROSS QR - PoÅ‚Ä…czenie z Supabase PostgreSQL: SUKCES!
ğŸ‘¤ SKATECROSS QR - ModuÅ‚ ZawodnikÃ³w zaÅ‚adowany z Supabase PostgreSQL
ğŸ”² SKATECROSS QR - ModuÅ‚ QR Generation zaÅ‚adowany z Supabase PostgreSQL
ğŸ SKATECROSS QR - ModuÅ‚ Centrum Startu zaÅ‚adowany z Supabase PostgreSQL
ğŸš« v36.1: Legacy endpoints DISABLED - uÅ¼ywaj /api/unified/*
ğŸ SKATECROSS v36.0 - Centrum Startu v2.0 z integracjÄ… SECTRO zaÅ‚adowany!
ğŸ”„ SKATECROSS QR - Unified Start Manager zaÅ‚adowany
ğŸ”„ SKATECROSS QR - Unified Start API Blueprint zaÅ‚adowany
ğŸ“¦ SKATECROSS QR - API Module Init loaded
ğŸ”— RejestrujÄ™ blueprinty SKATECROSS...
âœ… Blueprinty SKATECROSS zarejestrowane:
   ğŸ‘¤ zawodnicy_bp - /api/zawodnicy/*
   ğŸ”² qr_generation_bp - /api/qr/*
   ğŸš« centrum_startu_bp - LEGACY ENDPOINTS DISABLED (uÅ¼ywaj /api/unified/*)
   ğŸ centrum_startu_v2_bp - /api/v2/* (NOWA WERSJA Z SECTRO)
   ğŸš€ unified_bp - /api/unified/* (UNIFIED START CONTROL)
   ğŸ“Š rankingi_bp - /api/rankings/*
   ğŸ† drabinka_bp - /api/drabinka
   ğŸ“ˆ statystyki_bp - /api/kluby, /api/statystyki, /api/kategorie
   ğŸ… wyniki_bp - /api/wyniki
   â„¹ï¸ version endpoint - /api/version
 * Serving Flask app 'api_server'
 * Debug mode: on
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.0.178:5001
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 439-907-472
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 21:59:59] "GET /api/kluby HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 21:59:59] "GET /api/zawodnicy?page=1&limit=50 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 21:59:59] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:00:09] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
âœ… Connection pool zainicjalizowany (1-15 poÅ‚Ä…czeÅ„)
âœ… Connection pool zainicjalizowany (1-15 poÅ‚Ä…czeÅ„)
ğŸ¯ SKATECROSS QR - PoÅ‚Ä…czenie z Supabase PostgreSQL: SUKCES!
ğŸ‘¤ SKATECROSS QR - ModuÅ‚ ZawodnikÃ³w zaÅ‚adowany z Supabase PostgreSQL
ğŸ”² SKATECROSS QR - ModuÅ‚ QR Generation zaÅ‚adowany z Supabase PostgreSQL
ğŸ SKATECROSS QR - ModuÅ‚ Centrum Startu zaÅ‚adowany z Supabase PostgreSQL
ğŸš« v36.1: Legacy endpoints DISABLED - uÅ¼ywaj /api/unified/*
ğŸ SKATECROSS v36.0 - Centrum Startu v2.0 z integracjÄ… SECTRO zaÅ‚adowany!
ğŸ”„ SKATECROSS QR - Unified Start Manager zaÅ‚adowany
ğŸ”„ SKATECROSS QR - Unified Start API Blueprint zaÅ‚adowany
ğŸ“¦ SKATECROSS QR - API Module Init loaded
ğŸ”— RejestrujÄ™ blueprinty SKATECROSS...
âœ… Blueprinty SKATECROSS zarejestrowane:
   ğŸ‘¤ zawodnicy_bp - /api/zawodnicy/*
   ğŸ”² qr_generation_bp - /api/qr/*
   ğŸš« centrum_startu_bp - LEGACY ENDPOINTS DISABLED (uÅ¼ywaj /api/unified/*)
   ğŸ centrum_startu_v2_bp - /api/v2/* (NOWA WERSJA Z SECTRO)
   ğŸš€ unified_bp - /api/unified/* (UNIFIED START CONTROL)
   ğŸ“Š rankingi_bp - /api/rankings/*
   ğŸ† drabinka_bp - /api/drabinka
   ğŸ“ˆ statystyki_bp - /api/kluby, /api/statystyki, /api/kategorie
   ğŸ… wyniki_bp - /api/wyniki
   â„¹ï¸ version endpoint - /api/version
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: SELECT DISTINCT klub FROM zawodnicy WHERE klub IS NOT NULL ORDER BY klub
âœ… Znaleziono 14 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (50, 0)
âœ… Znaleziono 50 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:00:14] "GET /api/rankings/individual?season=2025&_t=1750795214624 HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
        WITH wyniki_z_pozycjami AS (
            SELECT 
                w.nr_startowy,
                z.imie, z.nazwisko, z.kategoria, z.plec, z.klub,
                ROW_NUMBER() OVER (
                    PARTITION BY z.kategoria, z.plec 
                    ORDER BY w.czas_przejazdu_s ASC
                ) as pozycja,
                w.czas_przejazdu_s
            FROM wyniki w
            JOIN zawodnicy z ON w.nr_startowy = z.nr_startowy
            WHERE w.status = 'FINISHED' 
                AND w.czas_przejazdu_s IS NOT NULL
        ),
        punkty_zawodnikow AS (
            SELECT 
                nr_startowy, imie, nazwisko, kategoria, plec, klub,
                pozycja,
                CASE 
                    WHEN pozycja <= 32 THEN 
                        CASE pozycja
                            WHEN 1 THEN 100 WHEN 2 THEN 80 WHEN 3 THEN 60 WHEN 4 THEN 50
                            WHEN 5 THEN 45 WHEN 6 THEN 40 WHEN 7 THEN 36 WHEN 8 THEN 32
                            WHEN 9 THEN 29 WHEN 10 THEN 26 WHEN 11 THEN 24 WHEN 12 THEN 22
                            WHEN 13 THEN 20 WHEN 14 THEN 18 WHEN 15 THEN 16 WHEN 16 THEN 15
                            WHEN 17 THEN 14 WHEN 18 THEN 13 WHEN 19 THEN 12 WHEN 20 THEN 11
                            WHEN 21 THEN 10 WHEN 22 THEN 9 WHEN 23 THEN 8 WHEN 24 THEN 7
                            WHEN 25 THEN 6 WHEN 26 THEN 5 WHEN 27 THEN 4 WHEN 28 THEN 3
                            WHEN 29 THEN 2 WHEN 30 THEN 1 WHEN 31 THEN 1 WHEN 32 THEN 1
                            ELSE 0
                        END
                    ELSE 0
                END as punkty,
                czas_przejazdu_s
            FROM wyniki_z_pozycjami
        )
        SELECT 
            nr_startowy, imie, nazwisko, kategoria, plec, klub,
            SUM(punkty) as punkty,
            COUNT(*) as liczba_zawodow,
            MIN(czas_przejazdu_s) as najlepszy_czas
        FROM punkty_zawodnikow
        GROUP BY nr_startowy, imie, nazwisko, kategoria, plec, klub
        ORDER BY punkty DESC, najlepszy_czas ASC
    
âœ… Znaleziono 187 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        WITH wyniki_z_pozycjami AS (
            SELECT 
                w.nr_startowy,
                z.imie, z.nazwisko, z.kategoria, z.plec, z.klub,
                ROW_NUMBER() OVER (
                    PARTITION BY z.kategoria, z.plec 
                    ORDER BY w.czas_przejazdu_s ASC
                ) as pozycja,
                w.czas_przejazdu_s
            FROM wyniki w
            JOIN zawodnicy z ON w.nr_startowy = z.nr_startowy
            WHERE w.status = 'FINISHED' 
                AND w.czas_przejazdu_s IS NOT NULL
                AND z.klub IS NOT NULL
        ),
        punkty_zawodnikow AS (
            SELECT 
                klub, kategoria, plec, nr_startowy,
                CASE 
                    WHEN pozycja <= 32 THEN 
                        CASE pozycja
                            WHEN 1 THEN 100 WHEN 2 THEN 80 WHEN 3 THEN 60 WHEN 4 THEN 50
                            WHEN 5 THEN 45 WHEN 6 THEN 40 WHEN 7 THEN 36 WHEN 8 THEN 32
                            WHEN 9 THEN 29 WHEN 10 THEN 26 WHEN 11 THEN 24 WHEN 12 THEN 22
                            WHEN 13 THEN 20 WHEN 14 THEN 18 WHEN 15 THEN 16 WHEN 16 THEN 15
                            WHEN 17 THEN 14 WHEN 18 THEN 13 WHEN 19 THEN 12 WHEN 20 THEN 11
                            WHEN 21 THEN 10 WHEN 22 THEN 9 WHEN 23 THEN 8 WHEN 24 THEN 7
                            WHEN 25 THEN 6 WHEN 26 THEN 5 WHEN 27 THEN 4 WHEN 28 THEN 3
                            WHEN 29 THEN 2 WHEN 30 THEN 1 WHEN 31 THEN 1 WHEN 32 THEN 1
                            ELSE 0
                        END
                    ELSE 0
                END as punkty,
                ROW_NUMBER() OVER (
                    PARTITION BY klub, kategoria, plec 
                    ORDER BY pozycja ASC
                ) as ranking_w_kategorii
            FROM wyniki_z_pozycjami
        ),
        top3_per_category AS (
            SELECT 
                klub, kategoria, plec, punkty
            FROM punkty_zawodnikow
            WHERE ranking_w_kategorii <= 3
        )
        SELECT 
            klub,
            SUM(punkty) as punkty_top3,
            COUNT(DISTINCT CONCAT(kategoria, '_', plec)) as aktywne_kategorie,
            ROUND(AVG(punkty), 1) as balance
        FROM top3_per_category
        GROUP BY klub
        ORDER BY punkty_top3 DESC, aktywne_kategorie DESC
    
ğŸ” WykonujÄ™ zapytanie: 
        WITH wyniki_z_pozycjami AS (
            SELECT 
                w.nr_startowy,
                z.imie, z.nazwisko, z.kategoria, z.plec, z.klub,
                ROW_NUMBER() OVER (
                    PARTITION BY z.kategoria, z.plec 
                    ORDER BY w.czas_przejazdu_s ASC
                ) as pozycja,
                w.czas_przejazdu_s
            FROM wyniki w
            JOIN zawodnicy z ON w.nr_startowy = z.nr_startowy
            WHERE w.status = 'FINISHED' 
                AND w.czas_przejazdu_s IS NOT NULL
                AND z.klub IS NOT NULL
        ),
        punkty_zawodnikow AS (
            SELECT 
                klub, kategoria, plec, nr_startowy,
                CASE 
                    WHEN pozycja <= 32 THEN 
                        CASE pozycja
                            WHEN 1 THEN 100 WHEN 2 THEN 80 WHEN 3 THEN 60 WHEN 4 THEN 50
                            WHEN 5 THEN 45 WHEN 6 THEN 40 WHEN 7 THEN 36 WHEN 8 THEN 32
                            WHEN 9 THEN 29 WHEN 10 THEN 26 WHEN 11 THEN 24 WHEN 12 THEN 22
                            WHEN 13 THEN 20 WHEN 14 THEN 18 WHEN 15 THEN 16 WHEN 16 THEN 15
                            WHEN 17 THEN 14 WHEN 18 THEN 13 WHEN 19 THEN 12 WHEN 20 THEN 11
                            WHEN 21 THEN 10 WHEN 22 THEN 9 WHEN 23 THEN 8 WHEN 24 THEN 7
                            WHEN 25 THEN 6 WHEN 26 THEN 5 WHEN 27 THEN 4 WHEN 28 THEN 3
                            WHEN 29 THEN 2 WHEN 30 THEN 1 WHEN 31 THEN 1 WHEN 32 THEN 1
                            ELSE 0
                        END
                    ELSE 0
                END as punkty,
                ROW_NUMBER() OVER (
                    PARTITION BY klub, kategoria, plec 
                    ORDER BY pozycja ASC
                ) as ranking_w_kategorii
            FROM wyniki_z_pozycjami
        )
        SELECT 
            klub,
            SUM(punkty) as punkty_total,
            COUNT(DISTINCT CONCAT(kategoria, '_', plec)) as aktywne_kategorie,
            ROUND(AVG(punkty), 1) as balance
        FROM punkty_zawodnikow
        GROUP BY klub
        ORDER BY punkty_total DESC, aktywne_kategorie DESC
    
ğŸ” WykonujÄ™ zapytanie: 
        WITH wyniki_z_pozycjami AS (
            SELECT 
                w.nr_startowy,
                z.klub,
                ROW_NUMBER() OVER (
                    PARTITION BY z.kategoria, z.plec 
                    ORDER BY w.czas_przejazdu_s ASC
                ) as pozycja
            FROM wyniki w
            JOIN zawodnicy z ON w.nr_startowy = z.nr_startowy
            WHERE w.status = 'FINISHED' 
                AND w.czas_przejazdu_s IS NOT NULL
                AND z.klub IS NOT NULL
        ),
        medale AS (
            SELECT 
                klub,
                SUM(CASE WHEN pozycja = 1 THEN 1 ELSE 0 END) as zlote,
                SUM(CASE WHEN pozycja = 2 THEN 1 ELSE 0 END) as srebrne,
                SUM(CASE WHEN pozycja = 3 THEN 1 ELSE 0 END) as brazowe
            FROM wyniki_z_pozycjami
            WHERE pozycja <= 3
            GROUP BY klub
        )
        SELECT 
            klub,
            zlote,
            srebrne,
            brazowe,
            (zlote + srebrne + brazowe) as lacznie
        FROM medale
        ORDER BY zlote DESC, srebrne DESC, brazowe DESC
    
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:00:14] "GET /api/rankings/clubs/total?season=2025&_t=1750795214624 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:00:14] "GET /api/rankings/clubs/top3?season=2025&_t=1750795214624 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:00:14] "GET /api/rankings/medals?season=2025&_t=1750795214625 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:00:14] "GET /api/rankings/general?season=2025&_t=1750795214624 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:00:24] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:00:54] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:01:24] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:01:54] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:02:24] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:02:54] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:03:24] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:04:49] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:06:29] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:08:09] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:09:27] "[33mGET /api/version HTTP/1.1[0m" 404 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:09:45] "GET /api/zawodnicy HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:09:51] "GET /api/unified/health HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:10:11] "GET /api/unified/health HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:10:11] "POST /api/unified/register-athlete HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:10:12] "GET /api/unified/groups HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:10:12] "[31m[1mPOST /api/unified/activate-group HTTP/1.1[0m" 400 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:10:18] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:10:20] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
        WITH wyniki_z_pozycjami AS (
            SELECT 
                w.nr_startowy,
                z.imie, z.nazwisko, z.kategoria, z.plec, z.klub,
                ROW_NUMBER() OVER (
                    PARTITION BY z.kategoria, z.plec 
                    ORDER BY w.czas_przejazdu_s ASC
                ) as pozycja,
                w.czas_przejazdu_s
            FROM wyniki w
            JOIN zawodnicy z ON w.nr_startowy = z.nr_startowy
            WHERE w.status = 'FINISHED' 
                AND w.czas_przejazdu_s IS NOT NULL
        ),
        punkty_zawodnikow AS (
            SELECT 
                nr_startowy, imie, nazwisko, kategoria, plec, klub,
                pozycja,
                CASE 
                    WHEN pozycja <= 32 THEN 
                        CASE pozycja
                            WHEN 1 THEN 100 WHEN 2 THEN 80 WHEN 3 THEN 60 WHEN 4 THEN 50
                            WHEN 5 THEN 45 WHEN 6 THEN 40 WHEN 7 THEN 36 WHEN 8 THEN 32
                            WHEN 9 THEN 29 WHEN 10 THEN 26 WHEN 11 THEN 24 WHEN 12 THEN 22
                            WHEN 13 THEN 20 WHEN 14 THEN 18 WHEN 15 THEN 16 WHEN 16 THEN 15
                            WHEN 17 THEN 14 WHEN 18 THEN 13 WHEN 19 THEN 12 WHEN 20 THEN 11
                            WHEN 21 THEN 10 WHEN 22 THEN 9 WHEN 23 THEN 8 WHEN 24 THEN 7
                            WHEN 25 THEN 6 WHEN 26 THEN 5 WHEN 27 THEN 4 WHEN 28 THEN 3
                            WHEN 29 THEN 2 WHEN 30 THEN 1 WHEN 31 THEN 1 WHEN 32 THEN 1
                            ELSE 0
                        END
                    ELSE 0
                END as punkty,
                czas_przejazdu_s
            FROM wyniki_z_pozycjami
        ),
        ranked AS (
            SELECT *,
                ROW_NUMBER() OVER (PARTITION BY nr_startowy ORDER BY punkty DESC) as rn,
                COUNT(*) OVER (PARTITION BY nr_startowy) as total
            FROM punkty_zawodnikow
        )
        SELECT 
            nr_startowy, imie, nazwisko, kategoria, plec, klub,
            SUM(punkty) as punkty,
            COUNT(*) as liczba_zawodow,
            MIN(czas_przejazdu_s) as najlepszy_czas
        FROM ranked
        WHERE (total <= 2 OR rn <= total - 2)
        GROUP BY nr_startowy, imie, nazwisko, kategoria, plec, klub
        ORDER BY punkty DESC, najlepszy_czas ASC
    
âœ… Znaleziono 13 wynikÃ³w
âœ… Znaleziono 13 wynikÃ³w
âœ… Znaleziono 13 wynikÃ³w
âœ… Znaleziono 187 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (50, 0)
âœ… Znaleziono 50 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s AND COALESCE(checked_in, false) = true
                ORDER BY nr_startowy
             z parametrami: ('Junior B', 'M')
âœ… Znaleziono 2 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:10:24] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:10:27] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:10:37] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:10:47] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:10:48] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:10:57] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:11:07] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:11:17] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:11:18] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:11:27] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:11:37] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:11:48] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:11:51] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:12:18] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:12:35] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:12:55] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:13:15] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:13:16] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 6 wynikÃ³w
âœ… Znaleziono 251 wynikÃ³w
âŒ BÅ‚Ä…d w get_one: SSL connection has been closed unexpectedly

ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:13:26] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:13:36] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:13:45] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:13:46] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:13:56] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:14:00] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:14:15] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:14:30] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:14:45] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:15:01] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:15:15] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:15:30] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:15:45] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:16:00] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:16:15] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:16:31] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:16:45] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:17:01] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:17:18] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:17:47] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:18:08] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:18:39] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:19:49] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:20:24] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:22:24] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:24:24] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:27:22] "GET /api/unified/groups HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:29:16] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:29:18] "GET /api/drabinka HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:29:46] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:30:16] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:30:46] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:31:17] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:31:48] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:32:19] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:32:50] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:33:22] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:33:25] "GET /api/unified/health HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:33:26] "GET /api/zawodnicy HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:33:26] "GET /api/wyniki HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:33:26] "GET /api/kluby HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:33:26] "GET /api/unified/groups HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:33:26] "GET /api/unified/stats HTTP/1.1" 200 -
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
            SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub,
                   NULL as czas_przejazdu_s, 'WAITING' as status
            FROM zawodnicy
            WHERE kategoria IS NOT NULL AND plec IS NOT NULL
            ORDER BY kategoria, plec, nr_startowy ASC
        
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (50, 0)
âœ… Znaleziono 50 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT w.nr_startowy, w.czas_przejazdu_s, w.status, 
               z.imie, z.nazwisko, z.kategoria, z.plec
        FROM wyniki w
        LEFT JOIN zawodnicy z ON w.nr_startowy = z.nr_startowy
        ORDER BY w.nr_startowy
    
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: SELECT DISTINCT klub FROM zawodnicy WHERE klub IS NOT NULL ORDER BY klub
âœ… Znaleziono 14 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:33:27] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:33:27] "GET /api/unified/groups HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:33:27] "GET /api/qr/dashboard HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:33:28] "GET /api/unified/groups HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:33:28] "GET /api/unified/stats HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:33:28] "POST /api/unified/register-athlete HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:33:29] "GET /api/unified/groups HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:33:29] "POST /api/unified/activate-group HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:33:29] "GET /api/zawodnicy?limit=100 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:33:29] "GET /api/zawodnicy?limit=100 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:33:29] "GET /api/zawodnicy?limit=100 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:33:30] "GET /api/unified/groups HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:33:30] "GET /api/unified/groups HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:33:30] "GET /api/unified/groups HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:33:31] "GET /api/unified/stats HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:33:31] "GET /api/unified/stats HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:33:31] "GET /api/unified/stats HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:33:52] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:34:22] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code,
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT 10
    
âœ… Znaleziono 10 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s AND COALESCE(checked_in, false) = true
                ORDER BY nr_startowy
             z parametrami: ('Junior A', 'M')
âœ… Znaleziono 1 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (100, 0)
âœ… Znaleziono 100 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (100, 0)
âœ… Znaleziono 100 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (100, 0)
âœ… Znaleziono 100 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 6 wynikÃ³w
âœ… Znaleziono 251 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:34:52] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:34:53] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:35:03] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:35:10] "[31m[1mPOST /api/unified/activate-group HTTP/1.1[0m" 400 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:35:23] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:35:28] "[31m[1mPOST /api/unified/activate-group HTTP/1.1[0m" 400 -
âŒ BÅ‚Ä…d w get_one: SSL connection has been closed unexpectedly

ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s AND COALESCE(checked_in, false) = true
                ORDER BY nr_startowy
             z parametrami: (None, None)
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s AND COALESCE(checked_in, false) = true
                ORDER BY nr_startowy
             z parametrami: (None, None)
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:38:14] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:38:14] "[31m[1mPOST /api/unified/activate-group HTTP/1.1[0m" 400 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:38:14] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:38:28] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s AND COALESCE(checked_in, false) = true
                ORDER BY nr_startowy
             z parametrami: (None, None)
âœ… Znaleziono 251 wynikÃ³w
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
âŒ BÅ‚Ä…d w get_one: SSL connection has been closed unexpectedly

ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:38:38] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:38:48] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:38:49] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 6 wynikÃ³w
âœ… Znaleziono 251 wynikÃ³w
âŒ BÅ‚Ä…d w get_one: SSL connection has been closed unexpectedly

ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:38:58] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:39:02] "POST /api/unified/deactivate-group HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:39:08] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:39:18] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:39:18] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug: * Detected change in '/Users/mariusz/drabinka-turniejowa/backend/unified_start_manager.py', reloading
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 6 wynikÃ³w
âœ… Znaleziono 251 wynikÃ³w
ğŸ§¹ Connection pool zamkniÄ™ty przy shutdown
ğŸ§¹ Connection pool zamkniÄ™ty przy shutdown
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 439-907-472
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:39:28] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:39:38] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
âœ… Connection pool zainicjalizowany (1-15 poÅ‚Ä…czeÅ„)
âœ… Connection pool zainicjalizowany (1-15 poÅ‚Ä…czeÅ„)
ğŸ¯ SKATECROSS QR - PoÅ‚Ä…czenie z Supabase PostgreSQL: SUKCES!
ğŸ‘¤ SKATECROSS QR - ModuÅ‚ ZawodnikÃ³w zaÅ‚adowany z Supabase PostgreSQL
ğŸ”² SKATECROSS QR - ModuÅ‚ QR Generation zaÅ‚adowany z Supabase PostgreSQL
ğŸ SKATECROSS QR - ModuÅ‚ Centrum Startu zaÅ‚adowany z Supabase PostgreSQL
ğŸš« v36.1: Legacy endpoints DISABLED - uÅ¼ywaj /api/unified/*
ğŸ SKATECROSS v36.0 - Centrum Startu v2.0 z integracjÄ… SECTRO zaÅ‚adowany!
ğŸ”„ SKATECROSS QR - Unified Start Manager zaÅ‚adowany
ğŸ”„ SKATECROSS QR - Unified Start API Blueprint zaÅ‚adowany
ğŸ“¦ SKATECROSS QR - API Module Init loaded
ğŸ”— RejestrujÄ™ blueprinty SKATECROSS...
âœ… Blueprinty SKATECROSS zarejestrowane:
   ğŸ‘¤ zawodnicy_bp - /api/zawodnicy/*
   ğŸ”² qr_generation_bp - /api/qr/*
   ğŸš« centrum_startu_bp - LEGACY ENDPOINTS DISABLED (uÅ¼ywaj /api/unified/*)
   ğŸ centrum_startu_v2_bp - /api/v2/* (NOWA WERSJA Z SECTRO)
   ğŸš€ unified_bp - /api/unified/* (UNIFIED START CONTROL)
   ğŸ“Š rankingi_bp - /api/rankings/*
   ğŸ† drabinka_bp - /api/drabinka
   ğŸ“ˆ statystyki_bp - /api/kluby, /api/statystyki, /api/kategorie
   ğŸ… wyniki_bp - /api/wyniki
   â„¹ï¸ version endpoint - /api/version
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:39:48] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:39:49] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:39:50] "[31m[1mPOST /api/unified/activate-group HTTP/1.1[0m" 400 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:39:58] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:40:06] "[31m[1mPOST /api/unified/activate-group HTTP/1.1[0m" 400 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 251 wynikÃ³w
âŒ BÅ‚Ä…d w get_one: SSL connection has been closed unexpectedly

ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, COALESCE(checked_in, false) as checked_in
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior A', 'M')
âœ… Znaleziono 17 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, COALESCE(checked_in, false) as checked_in
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: (None, None)
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:40:11] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:40:21] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:40:21] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 6 wynikÃ³w
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:40:31] "GET /api/zawodnicy HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:40:31] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:40:41] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (50, 0)
âœ… Znaleziono 50 wynikÃ³w
âŒ BÅ‚Ä…d w get_one: SSL connection has been closed unexpectedly

ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:40:51] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:40:51] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:41:01] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug: * Detected change in '/Users/mariusz/drabinka-turniejowa/backend/unified_start_manager.py', reloading
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 6 wynikÃ³w
âœ… Znaleziono 251 wynikÃ³w
âŒ BÅ‚Ä…d w get_one: SSL connection has been closed unexpectedly

ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ§¹ Connection pool zamkniÄ™ty przy shutdown
ğŸ§¹ Connection pool zamkniÄ™ty przy shutdown
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 439-907-472
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:41:11] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:41:16] "POST /api/unified/activate-group HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:41:21] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:41:21] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:41:27] "POST /api/unified/deactivate-group HTTP/1.1" 200 -
âœ… Connection pool zainicjalizowany (1-15 poÅ‚Ä…czeÅ„)
âœ… Connection pool zainicjalizowany (1-15 poÅ‚Ä…czeÅ„)
ğŸ¯ SKATECROSS QR - PoÅ‚Ä…czenie z Supabase PostgreSQL: SUKCES!
ğŸ‘¤ SKATECROSS QR - ModuÅ‚ ZawodnikÃ³w zaÅ‚adowany z Supabase PostgreSQL
ğŸ”² SKATECROSS QR - ModuÅ‚ QR Generation zaÅ‚adowany z Supabase PostgreSQL
ğŸ SKATECROSS QR - ModuÅ‚ Centrum Startu zaÅ‚adowany z Supabase PostgreSQL
ğŸš« v36.1: Legacy endpoints DISABLED - uÅ¼ywaj /api/unified/*
ğŸ SKATECROSS v36.0 - Centrum Startu v2.0 z integracjÄ… SECTRO zaÅ‚adowany!
ğŸ”„ SKATECROSS QR - Unified Start Manager zaÅ‚adowany
ğŸ”„ SKATECROSS QR - Unified Start API Blueprint zaÅ‚adowany
ğŸ“¦ SKATECROSS QR - API Module Init loaded
ğŸ”— RejestrujÄ™ blueprinty SKATECROSS...
âœ… Blueprinty SKATECROSS zarejestrowane:
   ğŸ‘¤ zawodnicy_bp - /api/zawodnicy/*
   ğŸ”² qr_generation_bp - /api/qr/*
   ğŸš« centrum_startu_bp - LEGACY ENDPOINTS DISABLED (uÅ¼ywaj /api/unified/*)
   ğŸ centrum_startu_v2_bp - /api/v2/* (NOWA WERSJA Z SECTRO)
   ğŸš€ unified_bp - /api/unified/* (UNIFIED START CONTROL)
   ğŸ“Š rankingi_bp - /api/rankings/*
   ğŸ† drabinka_bp - /api/drabinka
   ğŸ“ˆ statystyki_bp - /api/kluby, /api/statystyki, /api/kategorie
   ğŸ… wyniki_bp - /api/wyniki
   â„¹ï¸ version endpoint - /api/version
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, COALESCE(checked_in, false) as checked_in
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior A', 'M')
âœ… Znaleziono 17 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 6 wynikÃ³w
âœ… Znaleziono 251 wynikÃ³w
âŒ BÅ‚Ä…d w get_one: SSL connection has been closed unexpectedly

ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:41:31] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:41:41] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:41:44] "POST /api/unified/activate-group HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, COALESCE(checked_in, false) as checked_in
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior A', 'M')
âœ… Znaleziono 17 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:41:51] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:41:51] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:42:01] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:42:01] "GET /api/unified/groups HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 6 wynikÃ³w
âœ… Znaleziono 251 wynikÃ³w
âŒ BÅ‚Ä…d w get_one: SSL connection has been closed unexpectedly

ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:42:11] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:42:21] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:42:21] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 6 wynikÃ³w
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:42:31] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:42:41] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:42:51] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:42:51] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:42:55] "GET /api/kluby HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:42:55] "GET /api/zawodnicy?page=1&limit=50 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:42:56] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:43:02] "[31m[1mPOST /api/unified/activate-group HTTP/1.1[0m" 400 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:43:11] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (1000, 0)
âœ… Znaleziono 6 wynikÃ³w
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: SELECT DISTINCT klub FROM zawodnicy WHERE klub IS NOT NULL ORDER BY klub
âœ… Znaleziono 14 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (50, 0)
âœ… Znaleziono 50 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âŒ BÅ‚Ä…d podczas wykonywania zapytania: SSL connection has been closed unexpectedly

ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, COALESCE(checked_in, false) as checked_in
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: (None, None)
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:43:21] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:43:31] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:43:31] "[35m[1mGET /api/unified/group-details/Junior%20B/M HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:43:39] "[35m[1mGET /api/unified/group-details/Junior%20D/K HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:43:42] "[35m[1mGET /api/unified/group-details/Junior%20A/M HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:43:49] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:43:58] "[35m[1mGET /api/unified/group-details/Junior%20A/M HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:43:59] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:47:09] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:47:19] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:47:29] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:47:39] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug: * Detected change in '/Users/mariusz/drabinka-turniejowa/backend/unified_start_manager.py', reloading
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ§¹ Connection pool zamkniÄ™ty przy shutdown
ğŸ§¹ Connection pool zamkniÄ™ty przy shutdown
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 439-907-472
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:47:49] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:47:53] "GET /api/unified/group-details/Junior%20A/M HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:47:59] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
âœ… Connection pool zainicjalizowany (1-15 poÅ‚Ä…czeÅ„)
âœ… Connection pool zainicjalizowany (1-15 poÅ‚Ä…czeÅ„)
ğŸ¯ SKATECROSS QR - PoÅ‚Ä…czenie z Supabase PostgreSQL: SUKCES!
ğŸ‘¤ SKATECROSS QR - ModuÅ‚ ZawodnikÃ³w zaÅ‚adowany z Supabase PostgreSQL
ğŸ”² SKATECROSS QR - ModuÅ‚ QR Generation zaÅ‚adowany z Supabase PostgreSQL
ğŸ SKATECROSS QR - ModuÅ‚ Centrum Startu zaÅ‚adowany z Supabase PostgreSQL
ğŸš« v36.1: Legacy endpoints DISABLED - uÅ¼ywaj /api/unified/*
ğŸ SKATECROSS v36.0 - Centrum Startu v2.0 z integracjÄ… SECTRO zaÅ‚adowany!
ğŸ”„ SKATECROSS QR - Unified Start Manager zaÅ‚adowany
ğŸ”„ SKATECROSS QR - Unified Start API Blueprint zaÅ‚adowany
ğŸ“¦ SKATECROSS QR - API Module Init loaded
ğŸ”— RejestrujÄ™ blueprinty SKATECROSS...
âœ… Blueprinty SKATECROSS zarejestrowane:
   ğŸ‘¤ zawodnicy_bp - /api/zawodnicy/*
   ğŸ”² qr_generation_bp - /api/qr/*
   ğŸš« centrum_startu_bp - LEGACY ENDPOINTS DISABLED (uÅ¼ywaj /api/unified/*)
   ğŸ centrum_startu_v2_bp - /api/v2/* (NOWA WERSJA Z SECTRO)
   ğŸš€ unified_bp - /api/unified/* (UNIFIED START CONTROL)
   ğŸ“Š rankingi_bp - /api/rankings/*
   ğŸ† drabinka_bp - /api/drabinka
   ğŸ“ˆ statystyki_bp - /api/kluby, /api/statystyki, /api/kategorie
   ğŸ… wyniki_bp - /api/wyniki
   â„¹ï¸ version endpoint - /api/version
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior A', 'M')
âœ… Znaleziono 17 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                    SELECT nr_startowy, status, start_time, finish_time, total_time
                    FROM sectro_results WHERE session_id = %s
                 z parametrami: (74,)
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:48:10] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:48:22] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:48:44] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:49:11] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:49:20] "GET /api/kluby HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:49:20] "GET /api/zawodnicy?page=1&limit=50 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:49:20] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:49:24] "GET /api/unified/group-details/Junior%20B/M HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: SELECT DISTINCT klub FROM zawodnicy WHERE klub IS NOT NULL ORDER BY klub
âœ… Znaleziono 14 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (50, 0)
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 50 wynikÃ³w
âŒ BÅ‚Ä…d podczas wykonywania zapytania: SSL connection has been closed unexpectedly

ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior B', 'M')
âœ… Znaleziono 17 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                    SELECT nr_startowy, status, start_time, finish_time, total_time
                    FROM sectro_results WHERE session_id = %s
                 z parametrami: (54,)
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:49:30] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:49:40] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:49:41] "GET /api/unified/group-details/Junior%20A/M HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior A', 'M')
âœ… Znaleziono 17 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                    SELECT nr_startowy, status, start_time, finish_time, total_time
                    FROM sectro_results WHERE session_id = %s
                 z parametrami: (74,)
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:49:50] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:50:00] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:50:10] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:50:20] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:50:30] "GET /api/unified/group-details/Junior%20A/M HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:50:30] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior A', 'M')
âœ… Znaleziono 17 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                    SELECT nr_startowy, status, start_time, finish_time, total_time
                    FROM sectro_results WHERE session_id = %s
                 z parametrami: (74,)
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
âŒ BÅ‚Ä…d w get_one: SSL connection has been closed unexpectedly

ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:50:40] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:50:50] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:51:00] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug: * Detected change in '/Users/mariusz/drabinka-turniejowa/backend/unified_start_manager.py', reloading
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ§¹ Connection pool zamkniÄ™ty przy shutdown
ğŸ§¹ Connection pool zamkniÄ™ty przy shutdown
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 439-907-472
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:51:10] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:51:20] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:51:30] "GET /api/unified/group-details/Junior%20A/M HTTP/1.1" 200 -
âœ… Connection pool zainicjalizowany (1-15 poÅ‚Ä…czeÅ„)
âœ… Connection pool zainicjalizowany (1-15 poÅ‚Ä…czeÅ„)
ğŸ¯ SKATECROSS QR - PoÅ‚Ä…czenie z Supabase PostgreSQL: SUKCES!
ğŸ‘¤ SKATECROSS QR - ModuÅ‚ ZawodnikÃ³w zaÅ‚adowany z Supabase PostgreSQL
ğŸ”² SKATECROSS QR - ModuÅ‚ QR Generation zaÅ‚adowany z Supabase PostgreSQL
ğŸ SKATECROSS QR - ModuÅ‚ Centrum Startu zaÅ‚adowany z Supabase PostgreSQL
ğŸš« v36.1: Legacy endpoints DISABLED - uÅ¼ywaj /api/unified/*
ğŸ SKATECROSS v36.0 - Centrum Startu v2.0 z integracjÄ… SECTRO zaÅ‚adowany!
ğŸ”„ SKATECROSS QR - Unified Start Manager zaÅ‚adowany
ğŸ”„ SKATECROSS QR - Unified Start API Blueprint zaÅ‚adowany
ğŸ“¦ SKATECROSS QR - API Module Init loaded
ğŸ”— RejestrujÄ™ blueprinty SKATECROSS...
âœ… Blueprinty SKATECROSS zarejestrowane:
   ğŸ‘¤ zawodnicy_bp - /api/zawodnicy/*
   ğŸ”² qr_generation_bp - /api/qr/*
   ğŸš« centrum_startu_bp - LEGACY ENDPOINTS DISABLED (uÅ¼ywaj /api/unified/*)
   ğŸ centrum_startu_v2_bp - /api/v2/* (NOWA WERSJA Z SECTRO)
   ğŸš€ unified_bp - /api/unified/* (UNIFIED START CONTROL)
   ğŸ“Š rankingi_bp - /api/rankings/*
   ğŸ† drabinka_bp - /api/drabinka
   ğŸ“ˆ statystyki_bp - /api/kluby, /api/statystyki, /api/kategorie
   ğŸ… wyniki_bp - /api/wyniki
   â„¹ï¸ version endpoint - /api/version
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior A', 'M')
âœ… Znaleziono 17 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                    SELECT nr_startowy, status, start_time, finish_time, total_time
                    FROM sectro_results WHERE session_id = %s
                 z parametrami: (74,)
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:51:30] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:51:40] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:51:50] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:52:00] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:52:10] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:52:10] "GET /api/unified/group-details/Junior%20A/M HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior A', 'M')
âœ… Znaleziono 17 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                    SELECT nr_startowy, status, start_time, finish_time, total_time
                    FROM sectro_results WHERE session_id = %s
                 z parametrami: (74,)
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:52:20] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:52:27] "GET /api/unified/group-details/Junior%20D/K HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:52:30] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:52:33] "GET /api/unified/group-details/Junior%20B/M HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior D', 'K')
âœ… Znaleziono 20 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                    SELECT nr_startowy, status, start_time, finish_time, total_time
                    FROM sectro_results WHERE session_id = %s
                 z parametrami: (68,)
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior B', 'M')
âœ… Znaleziono 17 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                    SELECT nr_startowy, status, start_time, finish_time, total_time
                    FROM sectro_results WHERE session_id = %s
                 z parametrami: (54,)
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:52:40] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:52:43] "GET /api/unified/group-details/Junior%20A/M HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:52:50] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:52:52] "[31m[1mPOST /api/unified/activate-group HTTP/1.1[0m" 400 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:53:49] "POST /api/unified/deactivate-group HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:54:38] "GET /api/unified/group-details/Junior%20B/M HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:54:41] "[31m[1mPOST /api/unified/deactivate-group HTTP/1.1[0m" 400 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:54:48] "GET /api/kluby HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior A', 'M')
âœ… Znaleziono 17 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                    SELECT nr_startowy, status, start_time, finish_time, total_time
                    FROM sectro_results WHERE session_id = %s
                 z parametrami: (74,)
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 6 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, COALESCE(checked_in, false) as checked_in
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: (None, None)
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior B', 'M')
âœ… Znaleziono 17 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                    SELECT nr_startowy, status, start_time, finish_time, total_time
                    FROM sectro_results WHERE session_id = %s
                 z parametrami: (54,)
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: SELECT DISTINCT klub FROM zawodnicy WHERE klub IS NOT NULL ORDER BY klub
âœ… Znaleziono 14 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (50, 0)
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:54:48] "GET /api/zawodnicy?page=1&limit=50 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:54:49] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:54:55] "POST /api/unified/activate-group HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:54:56] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 50 wynikÃ³w
âŒ BÅ‚Ä…d podczas wykonywania zapytania: SSL connection has been closed unexpectedly

ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, COALESCE(checked_in, false) as checked_in
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior B', 'M')
âœ… Znaleziono 17 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:54:59] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:55:01] "POST /api/unified/deactivate-group HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:55:02] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:55:08] "POST /api/unified/activate-group HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, COALESCE(checked_in, false) as checked_in
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior A', 'M')
âœ… Znaleziono 17 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:55:08] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:55:09] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:55:19] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:55:23] "POST /api/unified/deactivate-group HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
âŒ BÅ‚Ä…d w get_one: SSL connection has been closed unexpectedly

ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:55:23] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:55:29] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:55:30] "POST /api/unified/activate-group HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, COALESCE(checked_in, false) as checked_in
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior B', 'M')
âœ… Znaleziono 17 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:55:31] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:55:39] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:55:49] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:55:59] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:56:09] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:56:19] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:56:29] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:56:39] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:56:49] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:56:59] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:57:09] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:57:19] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:57:29] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:57:39] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:57:49] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:57:59] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:58:09] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:58:19] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:58:29] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:58:39] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:58:49] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:58:59] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:59:09] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:59:19] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:59:29] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:59:39] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:59:49] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 22:59:59] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:00:09] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:00:19] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:00:29] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:00:29] "GET /api/unified/queue HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:00:39] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:00:49] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:00:59] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:01:02] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:01:09] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:01:19] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:01:23] "GET /api/unified/queue HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:01:29] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:01:39] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:01:49] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:01:59] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:02:09] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:02:19] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:02:29] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:02:39] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:02:41] "POST /api/unified/activate-group HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:02:49] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:02:54] "GET /api/unified/queue HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, COALESCE(checked_in, false) as checked_in
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior B', 'M')
âœ… Znaleziono 17 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:02:59] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:03:09] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:03:15] "GET /api/unified/group-details/Junior%20B/M HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:03:18] "POST /api/unified/deactivate-group HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior B', 'M')
âœ… Znaleziono 17 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                    SELECT nr_startowy, status, start_time, finish_time, total_time
                    FROM sectro_results WHERE session_id = %s
                 z parametrami: (77,)
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:03:19] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:03:19] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:03:21] "POST /api/unified/activate-group HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:03:22] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 4 wynikÃ³w
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, COALESCE(checked_in, false) as checked_in
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior B', 'M')
âœ… Znaleziono 17 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:03:29] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:03:39] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:03:49] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:03:59] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:04:09] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:04:19] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:04:29] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:04:39] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:04:49] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:04:59] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:05:09] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:05:19] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:05:29] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:05:39] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:05:44] "[31m[1mPOST /api/unified/activate-group HTTP/1.1[0m" 400 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:05:47] "[31m[1mPOST /api/unified/activate-group HTTP/1.1[0m" 400 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:05:50] "POST /api/unified/deactivate-group HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, COALESCE(checked_in, false) as checked_in
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior D', 'K')
âœ… Znaleziono 20 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, COALESCE(checked_in, false) as checked_in
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior A', 'M')
âœ… Znaleziono 17 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:05:51] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:05:53] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:05:55] "POST /api/unified/activate-group HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, COALESCE(checked_in, false) as checked_in
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior B', 'M')
âœ… Znaleziono 17 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:05:56] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:06:03] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:06:13] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:06:13] "GET /api/unified/group-details/Junior%20B/M HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:06:17] "GET /api/unified/group-details/Junior%20D/K HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:06:21] "GET /api/unified/group-details/Junior%20A/M HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:06:23] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:06:33] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior B', 'M')
âœ… Znaleziono 17 wynikÃ³w
âŒ BÅ‚Ä…d w get_one: SSL connection has been closed unexpectedly

ğŸ” WykonujÄ™ zapytanie: 
                    SELECT nr_startowy, status, start_time, finish_time, total_time
                    FROM sectro_results WHERE session_id = %s
                 z parametrami: (81,)
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior D', 'K')
âœ… Znaleziono 20 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                    SELECT nr_startowy, status, start_time, finish_time, total_time
                    FROM sectro_results WHERE session_id = %s
                 z parametrami: (68,)
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior A', 'M')
âœ… Znaleziono 17 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                    SELECT nr_startowy, status, start_time, finish_time, total_time
                    FROM sectro_results WHERE session_id = %s
                 z parametrami: (76,)
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:06:43] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:06:53] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:07:00] "[31m[1mPOST /api/unified/activate-group HTTP/1.1[0m" 400 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:08:33] "[31m[1mPOST /api/unified/activate-group HTTP/1.1[0m" 400 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:09:58] "POST /api/unified/activate-group HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, COALESCE(checked_in, false) as checked_in
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior D', 'K')
âœ… Znaleziono 20 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, COALESCE(checked_in, false) as checked_in
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior D', 'K')
âœ… Znaleziono 20 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, COALESCE(checked_in, false) as checked_in
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior D', 'K')
âœ… Znaleziono 20 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:10:27] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:11:04] "POST /api/unified/deactivate-group HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:11:05] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:11:06] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:11:08] "POST /api/unified/activate-group HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:11:09] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:11:13] "POST /api/unified/activate-group HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:11:14] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, COALESCE(checked_in, false) as checked_in
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior B', 'M')
âœ… Znaleziono 17 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, COALESCE(checked_in, false) as checked_in
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior A', 'M')
âœ… Znaleziono 17 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:11:15] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:11:19] "POST /api/unified/deactivate-group HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:11:19] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:11:21] "GET /api/unified/group-details/Junior%20B/M HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior B', 'M')
âœ… Znaleziono 17 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                    SELECT nr_startowy, status, start_time, finish_time, total_time
                    FROM sectro_results WHERE session_id = %s
                 z parametrami: (85,)
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:11:25] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:11:28] "GET /api/unified/group-details/Junior%20D/K HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:11:35] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:11:36] "POST /api/unified/deactivate-group HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior D', 'K')
âœ… Znaleziono 20 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                    SELECT nr_startowy, status, start_time, finish_time, total_time
                    FROM sectro_results WHERE session_id = %s
                 z parametrami: (84,)
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:11:37] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:11:45] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:11:55] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:12:05] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:12:15] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:12:25] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:12:35] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:12:45] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:12:55] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:13:05] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:13:15] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:13:25] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:13:35] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:13:45] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:13:55] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:14:05] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:14:15] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:14:25] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:14:35] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:14:45] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug: * Detected change in '/Users/mariusz/drabinka-turniejowa/backend/unified_start_manager.py', reloading
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT 
                    z.nr_startowy,
                    z.imie,
                    z.nazwisko, 
                    z.kategoria,
                    z.plec,
                    z.klub,
                    z.checked_in,
                    z.check_in_time,
                    
                    -- SECTRO data
                    s.id as session_id,
                    s.nazwa as session_name,
                    s.status as session_status,
                    r.status as sectro_status,
                    r.start_time,
                    r.finish_time,
                    r.total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN r.total_time IS NOT NULL THEN 'FINISHED'
                        WHEN r.start_time IS NOT NULL THEN 'TIMING' 
                        WHEN r.session_id IS NOT NULL THEN 'READY'
                        WHEN z.checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN s.status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN z.checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting
                    CASE 
                        WHEN r.start_time IS NOT NULL AND r.finish_time IS NULL THEN 1  -- Currently timing
                        WHEN s.status = 'active' AND r.session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN z.checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM zawodnicy z
                LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                LEFT JOIN sectro_sessions s ON r.session_id = s.id
                WHERE z.checked_in = true OR r.session_id IS NOT NULL
                ORDER BY priority ASC, s.created_at DESC, r.start_time DESC, z.check_in_time DESC, z.nr_startowy ASC
            
âœ… Znaleziono 8 wynikÃ³w
ğŸ§¹ Connection pool zamkniÄ™ty przy shutdown
ğŸ§¹ Connection pool zamkniÄ™ty przy shutdown
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 439-907-472
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:14:55] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:15:03] "GET /api/kluby HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:15:03] "GET /api/zawodnicy?page=1&limit=50 HTTP/1.1" 200 -
âœ… Connection pool zainicjalizowany (1-15 poÅ‚Ä…czeÅ„)
âœ… Connection pool zainicjalizowany (1-15 poÅ‚Ä…czeÅ„)
ğŸ¯ SKATECROSS QR - PoÅ‚Ä…czenie z Supabase PostgreSQL: SUKCES!
ğŸ‘¤ SKATECROSS QR - ModuÅ‚ ZawodnikÃ³w zaÅ‚adowany z Supabase PostgreSQL
ğŸ”² SKATECROSS QR - ModuÅ‚ QR Generation zaÅ‚adowany z Supabase PostgreSQL
ğŸ SKATECROSS QR - ModuÅ‚ Centrum Startu zaÅ‚adowany z Supabase PostgreSQL
ğŸš« v36.1: Legacy endpoints DISABLED - uÅ¼ywaj /api/unified/*
ğŸ SKATECROSS v36.0 - Centrum Startu v2.0 z integracjÄ… SECTRO zaÅ‚adowany!
ğŸ”„ SKATECROSS QR - Unified Start Manager zaÅ‚adowany
ğŸ”„ SKATECROSS QR - Unified Start API Blueprint zaÅ‚adowany
ğŸ“¦ SKATECROSS QR - API Module Init loaded
ğŸ”— RejestrujÄ™ blueprinty SKATECROSS...
âœ… Blueprinty SKATECROSS zarejestrowane:
   ğŸ‘¤ zawodnicy_bp - /api/zawodnicy/*
   ğŸ”² qr_generation_bp - /api/qr/*
   ğŸš« centrum_startu_bp - LEGACY ENDPOINTS DISABLED (uÅ¼ywaj /api/unified/*)
   ğŸ centrum_startu_v2_bp - /api/v2/* (NOWA WERSJA Z SECTRO)
   ğŸš€ unified_bp - /api/unified/* (UNIFIED START CONTROL)
   ğŸ“Š rankingi_bp - /api/rankings/*
   ğŸ† drabinka_bp - /api/drabinka
   ğŸ“ˆ statystyki_bp - /api/kluby, /api/statystyki, /api/kategorie
   ğŸ… wyniki_bp - /api/wyniki
   â„¹ï¸ version endpoint - /api/version
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: SELECT DISTINCT klub FROM zawodnicy WHERE klub IS NOT NULL ORDER BY klub
âœ… Znaleziono 14 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (50, 0)
âœ… Znaleziono 50 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:15:04] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:15:09] "POST /api/unified/deactivate-group HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:15:10] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:15:14] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:15:24] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:15:34] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:15:37] "GET /api/unified/queue HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:15:44] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:15:54] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:15:58] "POST /api/unified/activate-group HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, COALESCE(checked_in, false) as checked_in
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior B', 'M')
âœ… Znaleziono 17 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:15:58] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:16:03] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:16:04] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:16:14] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:16:24] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:16:34] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:16:44] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:16:54] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:17:04] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:17:05] "GET /api/unified/group-details/Junior%20B/M HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior B', 'M')
âœ… Znaleziono 17 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                    SELECT nr_startowy, status, start_time, finish_time, total_time
                    FROM sectro_results WHERE session_id = %s
                 z parametrami: (87,)
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:17:14] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:17:24] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:17:34] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:17:41] "POST /api/unified/deactivate-group HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:17:41] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:17:44] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:17:48] "POST /api/unified/activate-group HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:17:48] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, COALESCE(checked_in, false) as checked_in
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior A', 'M')
âœ… Znaleziono 17 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:17:54] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:17:57] "[31m[1mPOST /api/unified/record-measurement HTTP/1.1[0m" 400 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:17:59] "[31m[1mPOST /api/unified/record-measurement HTTP/1.1[0m" 400 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:18:04] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:18:14] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:18:21] "POST /api/unified/activate-group HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, COALESCE(checked_in, false) as checked_in
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior B', 'M')
âœ… Znaleziono 17 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:18:22] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:18:24] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:18:30] "POST /api/unified/activate-group HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, COALESCE(checked_in, false) as checked_in
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior D', 'K')
âœ… Znaleziono 20 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:18:31] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:18:34] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:18:44] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:18:46] "POST /api/unified/deactivate-group HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:18:47] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:18:54] "POST /api/unified/activate-group HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:18:54] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, COALESCE(checked_in, false) as checked_in
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior A', 'M')
âœ… Znaleziono 17 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
âŒ BÅ‚Ä…d w get_one: SSL connection has been closed unexpectedly

INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:18:55] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:19:04] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:19:05] "POST /api/unified/deactivate-group HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:19:06] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:19:14] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:19:21] "POST /api/unified/activate-group HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, COALESCE(checked_in, false) as checked_in
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior B', 'M')
âœ… Znaleziono 17 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:19:22] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:19:24] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:19:34] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:19:44] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:19:54] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:20:04] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:20:14] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:20:24] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:20:34] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:20:44] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:20:54] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:21:04] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:21:14] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:21:24] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:21:34] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:21:44] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:21:54] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:22:04] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug: * Detected change in '/Users/mariusz/drabinka-turniejowa/backend/unified_start_manager.py', reloading
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true OR r.session_id IS NOT NULL
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 5 wynikÃ³w
ğŸ§¹ Connection pool zamkniÄ™ty przy shutdown
ğŸ§¹ Connection pool zamkniÄ™ty przy shutdown
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 439-907-472
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:22:14] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
âœ… Connection pool zainicjalizowany (1-15 poÅ‚Ä…czeÅ„)
âœ… Connection pool zainicjalizowany (1-15 poÅ‚Ä…czeÅ„)
ğŸ¯ SKATECROSS QR - PoÅ‚Ä…czenie z Supabase PostgreSQL: SUKCES!
ğŸ‘¤ SKATECROSS QR - ModuÅ‚ ZawodnikÃ³w zaÅ‚adowany z Supabase PostgreSQL
ğŸ”² SKATECROSS QR - ModuÅ‚ QR Generation zaÅ‚adowany z Supabase PostgreSQL
ğŸ SKATECROSS QR - ModuÅ‚ Centrum Startu zaÅ‚adowany z Supabase PostgreSQL
ğŸš« v36.1: Legacy endpoints DISABLED - uÅ¼ywaj /api/unified/*
ğŸ SKATECROSS v36.0 - Centrum Startu v2.0 z integracjÄ… SECTRO zaÅ‚adowany!
ğŸ”„ SKATECROSS QR - Unified Start Manager zaÅ‚adowany
ğŸ”„ SKATECROSS QR - Unified Start API Blueprint zaÅ‚adowany
ğŸ“¦ SKATECROSS QR - API Module Init loaded
ğŸ”— RejestrujÄ™ blueprinty SKATECROSS...
âœ… Blueprinty SKATECROSS zarejestrowane:
   ğŸ‘¤ zawodnicy_bp - /api/zawodnicy/*
   ğŸ”² qr_generation_bp - /api/qr/*
   ğŸš« centrum_startu_bp - LEGACY ENDPOINTS DISABLED (uÅ¼ywaj /api/unified/*)
   ğŸ centrum_startu_v2_bp - /api/v2/* (NOWA WERSJA Z SECTRO)
   ğŸš€ unified_bp - /api/unified/* (UNIFIED START CONTROL)
   ğŸ“Š rankingi_bp - /api/rankings/*
   ğŸ† drabinka_bp - /api/drabinka
   ğŸ“ˆ statystyki_bp - /api/kluby, /api/statystyki, /api/kategorie
   ğŸ… wyniki_bp - /api/wyniki
   â„¹ï¸ version endpoint - /api/version
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:22:24] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:22:34] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:22:44] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:22:54] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:23:04] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:23:14] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:23:24] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:23:34] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:23:40] "POST /api/unified/deactivate-group HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:23:41] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 1 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:23:44] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:23:45] "POST /api/unified/activate-group HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:23:46] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:23:51] "POST /api/unified/deactivate-group HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 1 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, COALESCE(checked_in, false) as checked_in
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior D', 'K')
âœ… Znaleziono 20 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 1 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:23:52] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:23:54] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:24:04] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:24:10] "POST /api/unified/activate-group HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, COALESCE(checked_in, false) as checked_in
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior A', 'M')
âœ… Znaleziono 17 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:24:11] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:24:14] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:24:19] "POST /api/unified/activate-group HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:24:20] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, COALESCE(checked_in, false) as checked_in
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior B', 'M')
âœ… Znaleziono 17 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:24:24] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:24:34] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:24:44] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:24:54] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:25:04] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:25:14] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:25:24] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:25:34] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:25:43] "GET /api/unified/queue HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:25:44] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:25:54] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:26:00] "POST /api/unified/deactivate-group HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:26:01] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:26:04] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:26:09] "POST /api/unified/deactivate-group HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:26:09] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 1 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:26:14] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:26:15] "POST /api/unified/deactivate-group HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 1 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:26:16] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:26:19] "POST /api/unified/activate-group HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:26:20] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, COALESCE(checked_in, false) as checked_in
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior B', 'M')
âœ… Znaleziono 17 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:26:24] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:26:30] "POST /api/unified/activate-group HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, COALESCE(checked_in, false) as checked_in
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior D', 'K')
âœ… Znaleziono 20 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:26:30] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:26:34] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:26:35] "POST /api/unified/activate-group HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, COALESCE(checked_in, false) as checked_in
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior A', 'M')
âœ… Znaleziono 17 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:26:36] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:26:42] "POST /api/unified/deactivate-group HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:26:43] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:26:44] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:26:52] "GET /api/kluby HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:26:52] "GET /api/zawodnicy?page=1&limit=50 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:26:52] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:26:57] "POST /api/unified/activate-group HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: SELECT DISTINCT klub FROM zawodnicy WHERE klub IS NOT NULL ORDER BY klub
âœ… Znaleziono 14 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (50, 0)
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 50 wynikÃ³w
âŒ BÅ‚Ä…d podczas wykonywania zapytania: SSL connection has been closed unexpectedly

âŒ BÅ‚Ä…d w get_one: SSL connection has been closed unexpectedly

ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, COALESCE(checked_in, false) as checked_in
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior B', 'M')
âœ… Znaleziono 17 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:26:58] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:27:02] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:27:12] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:27:22] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:27:32] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:27:42] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:27:52] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:28:02] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:28:12] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:28:22] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:28:32] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:28:42] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:28:52] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:29:02] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:29:12] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:29:22] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:29:32] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:29:42] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:29:52] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:30:02] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug: * Detected change in '/Users/mariusz/drabinka-turniejowa/backend/unified_start_manager.py', reloading
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ§¹ Connection pool zamkniÄ™ty przy shutdown
ğŸ§¹ Connection pool zamkniÄ™ty przy shutdown
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 439-907-472
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:30:12] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug: * Detected change in '/Users/mariusz/drabinka-turniejowa/backend/unified_start_manager.py', reloading
âœ… Connection pool zainicjalizowany (1-15 poÅ‚Ä…czeÅ„)
âœ… Connection pool zainicjalizowany (1-15 poÅ‚Ä…czeÅ„)
ğŸ¯ SKATECROSS QR - PoÅ‚Ä…czenie z Supabase PostgreSQL: SUKCES!
ğŸ‘¤ SKATECROSS QR - ModuÅ‚ ZawodnikÃ³w zaÅ‚adowany z Supabase PostgreSQL
ğŸ”² SKATECROSS QR - ModuÅ‚ QR Generation zaÅ‚adowany z Supabase PostgreSQL
ğŸ SKATECROSS QR - ModuÅ‚ Centrum Startu zaÅ‚adowany z Supabase PostgreSQL
ğŸš« v36.1: Legacy endpoints DISABLED - uÅ¼ywaj /api/unified/*
ğŸ SKATECROSS v36.0 - Centrum Startu v2.0 z integracjÄ… SECTRO zaÅ‚adowany!
ğŸ”„ SKATECROSS QR - Unified Start Manager zaÅ‚adowany
ğŸ”„ SKATECROSS QR - Unified Start API Blueprint zaÅ‚adowany
ğŸ“¦ SKATECROSS QR - API Module Init loaded
ğŸ”— RejestrujÄ™ blueprinty SKATECROSS...
âœ… Blueprinty SKATECROSS zarejestrowane:
   ğŸ‘¤ zawodnicy_bp - /api/zawodnicy/*
   ğŸ”² qr_generation_bp - /api/qr/*
   ğŸš« centrum_startu_bp - LEGACY ENDPOINTS DISABLED (uÅ¼ywaj /api/unified/*)
   ğŸ centrum_startu_v2_bp - /api/v2/* (NOWA WERSJA Z SECTRO)
   ğŸš€ unified_bp - /api/unified/* (UNIFIED START CONTROL)
   ğŸ“Š rankingi_bp - /api/rankings/*
   ğŸ† drabinka_bp - /api/drabinka
   ğŸ“ˆ statystyki_bp - /api/kluby, /api/statystyki, /api/kategorie
   ğŸ… wyniki_bp - /api/wyniki
   â„¹ï¸ version endpoint - /api/version
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ§¹ Connection pool zamkniÄ™ty przy shutdown
ğŸ§¹ Connection pool zamkniÄ™ty przy shutdown
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 439-907-472
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:30:22] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug: * Detected change in '/Users/mariusz/drabinka-turniejowa/backend/unified_start_manager.py', reloading
âœ… Connection pool zainicjalizowany (1-15 poÅ‚Ä…czeÅ„)
âœ… Connection pool zainicjalizowany (1-15 poÅ‚Ä…czeÅ„)
ğŸ¯ SKATECROSS QR - PoÅ‚Ä…czenie z Supabase PostgreSQL: SUKCES!
ğŸ‘¤ SKATECROSS QR - ModuÅ‚ ZawodnikÃ³w zaÅ‚adowany z Supabase PostgreSQL
ğŸ”² SKATECROSS QR - ModuÅ‚ QR Generation zaÅ‚adowany z Supabase PostgreSQL
ğŸ SKATECROSS QR - ModuÅ‚ Centrum Startu zaÅ‚adowany z Supabase PostgreSQL
ğŸš« v36.1: Legacy endpoints DISABLED - uÅ¼ywaj /api/unified/*
ğŸ SKATECROSS v36.0 - Centrum Startu v2.0 z integracjÄ… SECTRO zaÅ‚adowany!
ğŸ”„ SKATECROSS QR - Unified Start Manager zaÅ‚adowany
ğŸ”„ SKATECROSS QR - Unified Start API Blueprint zaÅ‚adowany
ğŸ“¦ SKATECROSS QR - API Module Init loaded
ğŸ”— RejestrujÄ™ blueprinty SKATECROSS...
âœ… Blueprinty SKATECROSS zarejestrowane:
   ğŸ‘¤ zawodnicy_bp - /api/zawodnicy/*
   ğŸ”² qr_generation_bp - /api/qr/*
   ğŸš« centrum_startu_bp - LEGACY ENDPOINTS DISABLED (uÅ¼ywaj /api/unified/*)
   ğŸ centrum_startu_v2_bp - /api/v2/* (NOWA WERSJA Z SECTRO)
   ğŸš€ unified_bp - /api/unified/* (UNIFIED START CONTROL)
   ğŸ“Š rankingi_bp - /api/rankings/*
   ğŸ† drabinka_bp - /api/drabinka
   ğŸ“ˆ statystyki_bp - /api/kluby, /api/statystyki, /api/kategorie
   ğŸ… wyniki_bp - /api/wyniki
   â„¹ï¸ version endpoint - /api/version
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ§¹ Connection pool zamkniÄ™ty przy shutdown
ğŸ§¹ Connection pool zamkniÄ™ty przy shutdown
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 439-907-472
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:30:32] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
âœ… Connection pool zainicjalizowany (1-15 poÅ‚Ä…czeÅ„)
âœ… Connection pool zainicjalizowany (1-15 poÅ‚Ä…czeÅ„)
ğŸ¯ SKATECROSS QR - PoÅ‚Ä…czenie z Supabase PostgreSQL: SUKCES!
ğŸ‘¤ SKATECROSS QR - ModuÅ‚ ZawodnikÃ³w zaÅ‚adowany z Supabase PostgreSQL
ğŸ”² SKATECROSS QR - ModuÅ‚ QR Generation zaÅ‚adowany z Supabase PostgreSQL
ğŸ SKATECROSS QR - ModuÅ‚ Centrum Startu zaÅ‚adowany z Supabase PostgreSQL
ğŸš« v36.1: Legacy endpoints DISABLED - uÅ¼ywaj /api/unified/*
ğŸ SKATECROSS v36.0 - Centrum Startu v2.0 z integracjÄ… SECTRO zaÅ‚adowany!
ğŸ”„ SKATECROSS QR - Unified Start Manager zaÅ‚adowany
ğŸ”„ SKATECROSS QR - Unified Start API Blueprint zaÅ‚adowany
ğŸ“¦ SKATECROSS QR - API Module Init loaded
ğŸ”— RejestrujÄ™ blueprinty SKATECROSS...
âœ… Blueprinty SKATECROSS zarejestrowane:
   ğŸ‘¤ zawodnicy_bp - /api/zawodnicy/*
   ğŸ”² qr_generation_bp - /api/qr/*
   ğŸš« centrum_startu_bp - LEGACY ENDPOINTS DISABLED (uÅ¼ywaj /api/unified/*)
   ğŸ centrum_startu_v2_bp - /api/v2/* (NOWA WERSJA Z SECTRO)
   ğŸš€ unified_bp - /api/unified/* (UNIFIED START CONTROL)
   ğŸ“Š rankingi_bp - /api/rankings/*
   ğŸ† drabinka_bp - /api/drabinka
   ğŸ“ˆ statystyki_bp - /api/kluby, /api/statystyki, /api/kategorie
   ğŸ… wyniki_bp - /api/wyniki
   â„¹ï¸ version endpoint - /api/version
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:30:42] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:30:52] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:31:02] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:31:12] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:31:22] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:31:32] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:31:42] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:31:52] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:32:02] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:32:12] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:32:12] "POST /api/unified/deactivate-group HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:32:13] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:32:15] "POST /api/unified/deactivate-group HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:32:15] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 1 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:32:22] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:32:22] "POST /api/unified/deactivate-group HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:32:23] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:32:27] "POST /api/unified/activate-group HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 1 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, COALESCE(checked_in, false) as checked_in
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior A', 'M')
âœ… Znaleziono 17 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:32:27] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:32:32] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:32:33] "POST /api/unified/deactivate-group HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:32:34] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:32:41] "POST /api/unified/activate-group HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, COALESCE(checked_in, false) as checked_in
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior B', 'M')
âœ… Znaleziono 17 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:32:42] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:32:42] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:32:48] "GET /api/kluby HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:32:48] "GET /api/zawodnicy?page=1&limit=50 HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: SELECT DISTINCT klub FROM zawodnicy WHERE klub IS NOT NULL ORDER BY klub
âœ… Znaleziono 14 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (50, 0)
âœ… Znaleziono 50 wynikÃ³w
âŒ BÅ‚Ä…d w get_one: SSL connection has been closed unexpectedly

INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:32:49] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:32:52] "POST /api/unified/activate-group HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:32:53] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, COALESCE(checked_in, false) as checked_in
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior A', 'M')
âœ… Znaleziono 17 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:32:58] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:33:08] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:33:18] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:33:28] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:33:38] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:33:48] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:33:58] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:34:08] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:34:18] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:34:28] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:34:38] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:34:48] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:34:58] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:35:08] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:35:18] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:35:28] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:35:38] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:35:48] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:35:58] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:36:08] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:36:18] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:36:28] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:36:38] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:36:48] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
â„¹ï¸ Zapytanie nie zwrÃ³ciÅ‚o Å¼adnych wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:36:58] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 1 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:37:08] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:37:18] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 1 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 1 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:37:28] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 1 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:37:39] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:37:48] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 1 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 1 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:37:58] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 1 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:38:08] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:38:18] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 1 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 1 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:38:28] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 1 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:38:38] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:38:48] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 1 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 1 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:38:59] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 1 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:39:08] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:39:18] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 1 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 1 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:39:28] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug: * Detected change in '/Users/mariusz/drabinka-turniejowa/backend/unified_start_manager.py', reloading
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 1 wynikÃ³w
ğŸ§¹ Connection pool zamkniÄ™ty przy shutdown
ğŸ§¹ Connection pool zamkniÄ™ty przy shutdown
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 439-907-472
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:39:38] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug: * Detected change in '/Users/mariusz/drabinka-turniejowa/backend/unified_start_manager.py', reloading
âœ… Connection pool zainicjalizowany (1-15 poÅ‚Ä…czeÅ„)
âœ… Connection pool zainicjalizowany (1-15 poÅ‚Ä…czeÅ„)
ğŸ¯ SKATECROSS QR - PoÅ‚Ä…czenie z Supabase PostgreSQL: SUKCES!
ğŸ‘¤ SKATECROSS QR - ModuÅ‚ ZawodnikÃ³w zaÅ‚adowany z Supabase PostgreSQL
ğŸ”² SKATECROSS QR - ModuÅ‚ QR Generation zaÅ‚adowany z Supabase PostgreSQL
ğŸ SKATECROSS QR - ModuÅ‚ Centrum Startu zaÅ‚adowany z Supabase PostgreSQL
ğŸš« v36.1: Legacy endpoints DISABLED - uÅ¼ywaj /api/unified/*
ğŸ SKATECROSS v36.0 - Centrum Startu v2.0 z integracjÄ… SECTRO zaÅ‚adowany!
ğŸ”„ SKATECROSS QR - Unified Start Manager zaÅ‚adowany
ğŸ”„ SKATECROSS QR - Unified Start API Blueprint zaÅ‚adowany
ğŸ“¦ SKATECROSS QR - API Module Init loaded
ğŸ”— RejestrujÄ™ blueprinty SKATECROSS...
âœ… Blueprinty SKATECROSS zarejestrowane:
   ğŸ‘¤ zawodnicy_bp - /api/zawodnicy/*
   ğŸ”² qr_generation_bp - /api/qr/*
   ğŸš« centrum_startu_bp - LEGACY ENDPOINTS DISABLED (uÅ¼ywaj /api/unified/*)
   ğŸ centrum_startu_v2_bp - /api/v2/* (NOWA WERSJA Z SECTRO)
   ğŸš€ unified_bp - /api/unified/* (UNIFIED START CONTROL)
   ğŸ“Š rankingi_bp - /api/rankings/*
   ğŸ† drabinka_bp - /api/drabinka
   ğŸ“ˆ statystyki_bp - /api/kluby, /api/statystyki, /api/kategorie
   ğŸ… wyniki_bp - /api/wyniki
   â„¹ï¸ version endpoint - /api/version
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 1 wynikÃ³w
ğŸ§¹ Connection pool zamkniÄ™ty przy shutdown
ğŸ§¹ Connection pool zamkniÄ™ty przy shutdown
INFO:werkzeug: * Restarting with stat
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 439-907-472
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:39:49] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
âœ… Connection pool zainicjalizowany (1-15 poÅ‚Ä…czeÅ„)
âœ… Connection pool zainicjalizowany (1-15 poÅ‚Ä…czeÅ„)
ğŸ¯ SKATECROSS QR - PoÅ‚Ä…czenie z Supabase PostgreSQL: SUKCES!
ğŸ‘¤ SKATECROSS QR - ModuÅ‚ ZawodnikÃ³w zaÅ‚adowany z Supabase PostgreSQL
ğŸ”² SKATECROSS QR - ModuÅ‚ QR Generation zaÅ‚adowany z Supabase PostgreSQL
ğŸ SKATECROSS QR - ModuÅ‚ Centrum Startu zaÅ‚adowany z Supabase PostgreSQL
ğŸš« v36.1: Legacy endpoints DISABLED - uÅ¼ywaj /api/unified/*
ğŸ SKATECROSS v36.0 - Centrum Startu v2.0 z integracjÄ… SECTRO zaÅ‚adowany!
ğŸ”„ SKATECROSS QR - Unified Start Manager zaÅ‚adowany
ğŸ”„ SKATECROSS QR - Unified Start API Blueprint zaÅ‚adowany
ğŸ“¦ SKATECROSS QR - API Module Init loaded
ğŸ”— RejestrujÄ™ blueprinty SKATECROSS...
âœ… Blueprinty SKATECROSS zarejestrowane:
   ğŸ‘¤ zawodnicy_bp - /api/zawodnicy/*
   ğŸ”² qr_generation_bp - /api/qr/*
   ğŸš« centrum_startu_bp - LEGACY ENDPOINTS DISABLED (uÅ¼ywaj /api/unified/*)
   ğŸ centrum_startu_v2_bp - /api/v2/* (NOWA WERSJA Z SECTRO)
   ğŸš€ unified_bp - /api/unified/* (UNIFIED START CONTROL)
   ğŸ“Š rankingi_bp - /api/rankings/*
   ğŸ† drabinka_bp - /api/drabinka
   ğŸ“ˆ statystyki_bp - /api/kluby, /api/statystyki, /api/kategorie
   ğŸ… wyniki_bp - /api/wyniki
   â„¹ï¸ version endpoint - /api/version
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 1 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:39:58] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:40:08] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 1 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 1 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:40:18] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 1 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:40:28] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:40:38] "POST /api/unified/activate-group HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 1 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, COALESCE(checked_in, false) as checked_in
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior D', 'K')
âœ… Znaleziono 20 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:40:38] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:40:38] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:40:44] "POST /api/unified/deactivate-group HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:40:44] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:40:48] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:40:50] "GET /api/kluby HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:40:50] "GET /api/zawodnicy?page=1&limit=50 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:40:51] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:40:56] "POST /api/unified/activate-group HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: SELECT DISTINCT klub FROM zawodnicy WHERE klub IS NOT NULL ORDER BY klub
âœ… Znaleziono 14 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (50, 0)
âœ… Znaleziono 50 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, COALESCE(checked_in, false) as checked_in
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior B', 'M')
âœ… Znaleziono 17 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:40:57] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:41:01] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:41:01] "POST /api/unified/deactivate-group HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:41:02] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:41:05] "POST /api/unified/activate-group HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, COALESCE(checked_in, false) as checked_in
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior D', 'K')
âœ… Znaleziono 20 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:41:06] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:41:10] "POST /api/unified/deactivate-group HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:41:11] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:41:11] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:41:12] "POST /api/unified/deactivate-group HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
âŒ BÅ‚Ä…d w get_one: SSL connection has been closed unexpectedly

ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:41:13] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:41:18] "POST /api/unified/activate-group HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:41:18] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 1 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, COALESCE(checked_in, false) as checked_in
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior B', 'M')
âœ… Znaleziono 17 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:41:21] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:41:22] "POST /api/unified/deactivate-group HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:41:23] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:41:27] "GET /api/unified/group-details/Junior%20D/K HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior D', 'K')
âœ… Znaleziono 20 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                    SELECT nr_startowy, status, start_time, finish_time, total_time
                    FROM sectro_results WHERE session_id = %s
                 z parametrami: (112,)
âœ… Znaleziono 1 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 4 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:41:31] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:41:35] "POST /api/unified/delete-group HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:41:40] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s AND COALESCE(checked_in, false) = true
             z parametrami: ('Junior D', 'K')
âœ… Znaleziono 1 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:41:48] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:41:58] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:42:08] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:42:18] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:42:28] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:42:38] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:42:48] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:42:58] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:43:08] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:43:18] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:43:28] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:43:38] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:43:48] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:43:58] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:44:08] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:44:18] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:44:28] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:44:38] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:44:48] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:44:58] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:45:08] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:45:18] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:45:28] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:45:38] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:45:48] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:45:58] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:46:08] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:46:18] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:46:28] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:46:38] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:46:48] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:46:58] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:47:08] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:47:18] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:47:28] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:47:38] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:47:48] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:47:58] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:48:08] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:48:18] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:48:28] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:48:38] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:48:46] "GET /api/unified/queue HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:48:46] "GET /api/unified/groups HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:48:47] "POST /api/unified/activate-group HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:48:47] "GET /api/unified/queue HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:48:47] "POST /api/unified/deactivate-group HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, COALESCE(checked_in, false) as checked_in
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior A', 'M')
âœ… Znaleziono 17 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:48:47] "GET /api/unified/queue HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:48:48] "POST /api/unified/activate-group HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:48:48] "GET /api/unified/queue HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 1 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, COALESCE(checked_in, false) as checked_in
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior B', 'M')
âœ… Znaleziono 17 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:48:48] "GET /api/unified/groups HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:48:48] "GET /api/unified/queue HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:48:48] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:48:58] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:49:08] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:49:18] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:49:28] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:49:38] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:49:48] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:49:58] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:50:08] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:50:18] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:50:28] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:50:38] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:50:48] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:50:58] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:51:08] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:51:18] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:51:28] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:51:38] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:51:48] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:51:58] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:52:08] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:52:18] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:52:28] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:52:38] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:52:48] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:52:58] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:53:08] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:53:18] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:53:28] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:53:38] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:53:48] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:53:58] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:54:08] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:54:18] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:54:28] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:54:38] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:54:48] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:54:58] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:55:08] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:55:18] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:55:28] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:55:38] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:55:48] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:55:58] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:56:08] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:56:18] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:56:28] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:56:30] "[31m[1mPOST /api/unified/record-measurement HTTP/1.1[0m" 400 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:56:36] "[31m[1mPOST /api/unified/record-measurement HTTP/1.1[0m" 400 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:56:38] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:56:43] "[31m[1mPOST /api/unified/record-measurement HTTP/1.1[0m" 400 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:56:48] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:56:58] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:57:08] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:57:18] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:57:28] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:57:38] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:57:48] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:57:58] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:58:08] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:58:18] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:58:28] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:58:38] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:58:48] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:58:58] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:59:03] "POST /api/unified/record-measurement HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:59:03] "POST /api/unified/record-measurement HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:59:03] "[31m[1mPOST /api/unified/record-measurement HTTP/1.1[0m" 400 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:59:08] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:59:08] "GET /api/sectro/sessions/115/results HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:59:18] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
            SELECT r.*, z.imie, z.nazwisko, z.kategoria, z.plec, z.klub
            FROM sectro_results r
            LEFT JOIN zawodnicy z ON r.nr_startowy = z.nr_startowy
            WHERE r.session_id = %s
            ORDER BY r.total_time ASC
         z parametrami: (115,)
âœ… Znaleziono 2 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:59:28] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:59:38] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:59:48] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [24/Jun/2025 23:59:58] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:00:08] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:00:18] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:00:28] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:00:29] "[31m[1mPOST /api/unified/record-measurement HTTP/1.1[0m" 400 -
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:00:32] "[31m[1mPOST /api/unified/record-measurement HTTP/1.1[0m" 400 -
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:00:36] "[31m[1mPOST /api/unified/record-measurement HTTP/1.1[0m" 400 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:00:38] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:00:48] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:00:55] "[31m[1mPOST /api/unified/record-measurement HTTP/1.1[0m" 400 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:00:58] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:00:59] "[31m[1mPOST /api/unified/record-measurement HTTP/1.1[0m" 400 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:01:08] "POST /api/unified/deactivate-group HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:01:08] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:01:09] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:01:14] "[31m[1mPOST /api/unified/record-measurement HTTP/1.1[0m" 400 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 1 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:01:18] "[31m[1mPOST /api/unified/record-measurement HTTP/1.1[0m" 400 -
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:01:18] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 1 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: SELECT DISTINCT klub FROM zawodnicy WHERE klub IS NOT NULL ORDER BY klub
âœ… Znaleziono 14 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:01:26] "GET /api/kluby HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:01:26] "GET /api/zawodnicy?page=1&limit=50 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:01:27] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:01:31] "POST /api/unified/activate-group HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
ğŸ” WykonujÄ™ zapytanie: 
        SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, qr_code, 
               COALESCE(checked_in, false) as checked_in
        FROM zawodnicy 
        ORDER BY nr_startowy 
        LIMIT %s OFFSET %s
     z parametrami: (50, 0)
âœ… Znaleziono 1 wynikÃ³w
âŒ BÅ‚Ä…d w get_one: SSL connection has been closed unexpectedly

âœ… Znaleziono 50 wynikÃ³w
âŒ BÅ‚Ä…d w get_one: SSL connection has been closed unexpectedly

ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, COALESCE(checked_in, false) as checked_in
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior B', 'M')
âœ… Znaleziono 17 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:01:32] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:01:36] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:01:47] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:01:57] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:02:06] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:02:16] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:02:26] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:02:36] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:02:46] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:02:56] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:03:06] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:03:16] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:03:26] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:03:37] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:03:47] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:03:57] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:04:06] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:04:17] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:04:26] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:04:36] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:04:46] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:04:57] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:05:06] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:05:16] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:05:26] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:05:36] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:05:46] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:05:56] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:06:06] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:06:17] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:06:27] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:06:37] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:06:47] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:06:56] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:07:07] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:07:16] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:07:27] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:07:37] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:07:47] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:07:57] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:08:07] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:08:17] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:08:27] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:08:37] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:08:47] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:08:57] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:08:59] "GET /api/rankings/individual?season=2025&_t=1750802939719 HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        WITH wyniki_z_pozycjami AS (
            SELECT 
                w.nr_startowy,
                z.imie, z.nazwisko, z.kategoria, z.plec, z.klub,
                ROW_NUMBER() OVER (
                    PARTITION BY z.kategoria, z.plec 
                    ORDER BY w.czas_przejazdu_s ASC
                ) as pozycja,
                w.czas_przejazdu_s
            FROM wyniki w
            JOIN zawodnicy z ON w.nr_startowy = z.nr_startowy
            WHERE w.status = 'FINISHED' 
                AND w.czas_przejazdu_s IS NOT NULL
        ),
        punkty_zawodnikow AS (
            SELECT 
                nr_startowy, imie, nazwisko, kategoria, plec, klub,
                pozycja,
                CASE 
                    WHEN pozycja <= 32 THEN 
                        CASE pozycja
                            WHEN 1 THEN 100 WHEN 2 THEN 80 WHEN 3 THEN 60 WHEN 4 THEN 50
                            WHEN 5 THEN 45 WHEN 6 THEN 40 WHEN 7 THEN 36 WHEN 8 THEN 32
                            WHEN 9 THEN 29 WHEN 10 THEN 26 WHEN 11 THEN 24 WHEN 12 THEN 22
                            WHEN 13 THEN 20 WHEN 14 THEN 18 WHEN 15 THEN 16 WHEN 16 THEN 15
                            WHEN 17 THEN 14 WHEN 18 THEN 13 WHEN 19 THEN 12 WHEN 20 THEN 11
                            WHEN 21 THEN 10 WHEN 22 THEN 9 WHEN 23 THEN 8 WHEN 24 THEN 7
                            WHEN 25 THEN 6 WHEN 26 THEN 5 WHEN 27 THEN 4 WHEN 28 THEN 3
                            WHEN 29 THEN 2 WHEN 30 THEN 1 WHEN 31 THEN 1 WHEN 32 THEN 1
                            ELSE 0
                        END
                    ELSE 0
                END as punkty,
                czas_przejazdu_s
            FROM wyniki_z_pozycjami
        )
        SELECT 
            nr_startowy, imie, nazwisko, kategoria, plec, klub,
            SUM(punkty) as punkty,
            COUNT(*) as liczba_zawodow,
            MIN(czas_przejazdu_s) as najlepszy_czas
        FROM punkty_zawodnikow
        GROUP BY nr_startowy, imie, nazwisko, kategoria, plec, klub
        ORDER BY punkty DESC, najlepszy_czas ASC
    
âœ… Znaleziono 187 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
        WITH wyniki_z_pozycjami AS (
            SELECT 
                w.nr_startowy,
                z.imie, z.nazwisko, z.kategoria, z.plec, z.klub,
                ROW_NUMBER() OVER (
                    PARTITION BY z.kategoria, z.plec 
                    ORDER BY w.czas_przejazdu_s ASC
                ) as pozycja,
                w.czas_przejazdu_s
            FROM wyniki w
            JOIN zawodnicy z ON w.nr_startowy = z.nr_startowy
            WHERE w.status = 'FINISHED' 
                AND w.czas_przejazdu_s IS NOT NULL
        ),
        punkty_zawodnikow AS (
            SELECT 
                nr_startowy, imie, nazwisko, kategoria, plec, klub,
                pozycja,
                CASE 
                    WHEN pozycja <= 32 THEN 
                        CASE pozycja
                            WHEN 1 THEN 100 WHEN 2 THEN 80 WHEN 3 THEN 60 WHEN 4 THEN 50
                            WHEN 5 THEN 45 WHEN 6 THEN 40 WHEN 7 THEN 36 WHEN 8 THEN 32
                            WHEN 9 THEN 29 WHEN 10 THEN 26 WHEN 11 THEN 24 WHEN 12 THEN 22
                            WHEN 13 THEN 20 WHEN 14 THEN 18 WHEN 15 THEN 16 WHEN 16 THEN 15
                            WHEN 17 THEN 14 WHEN 18 THEN 13 WHEN 19 THEN 12 WHEN 20 THEN 11
                            WHEN 21 THEN 10 WHEN 22 THEN 9 WHEN 23 THEN 8 WHEN 24 THEN 7
                            WHEN 25 THEN 6 WHEN 26 THEN 5 WHEN 27 THEN 4 WHEN 28 THEN 3
                            WHEN 29 THEN 2 WHEN 30 THEN 1 WHEN 31 THEN 1 WHEN 32 THEN 1
                            ELSE 0
                        END
                    ELSE 0
                END as punkty,
                czas_przejazdu_s
            FROM wyniki_z_pozycjami
        ),
        ranked AS (
            SELECT *,
                ROW_NUMBER() OVER (PARTITION BY nr_startowy ORDER BY punkty DESC) as rn,
                COUNT(*) OVER (PARTITION BY nr_startowy) as total
            FROM punkty_zawodnikow
        )
        SELECT 
            nr_startowy, imie, nazwisko, kategoria, plec, klub,
            SUM(punkty) as punkty,
            COUNT(*) as liczba_zawodow,
            MIN(czas_przejazdu_s) as najlepszy_czas
        FROM ranked
        WHERE (total <= 2 OR rn <= total - 2)
        GROUP BY nr_startowy, imie, nazwisko, kategoria, plec, klub
        ORDER BY punkty DESC, najlepszy_czas ASC
    
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:09:00] "GET /api/rankings/clubs/top3?season=2025&_t=1750802939720 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:09:00] "GET /api/rankings/medals?season=2025&_t=1750802939720 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:09:00] "GET /api/rankings/clubs/total?season=2025&_t=1750802939720 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:09:00] "GET /api/rankings/general?season=2025&_t=1750802939719 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:09:01] "GET /api/drabinka HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
        WITH wyniki_z_pozycjami AS (
            SELECT 
                w.nr_startowy,
                z.klub,
                ROW_NUMBER() OVER (
                    PARTITION BY z.kategoria, z.plec 
                    ORDER BY w.czas_przejazdu_s ASC
                ) as pozycja
            FROM wyniki w
            JOIN zawodnicy z ON w.nr_startowy = z.nr_startowy
            WHERE w.status = 'FINISHED' 
                AND w.czas_przejazdu_s IS NOT NULL
                AND z.klub IS NOT NULL
        ),
        medale AS (
            SELECT 
                klub,
                SUM(CASE WHEN pozycja = 1 THEN 1 ELSE 0 END) as zlote,
                SUM(CASE WHEN pozycja = 2 THEN 1 ELSE 0 END) as srebrne,
                SUM(CASE WHEN pozycja = 3 THEN 1 ELSE 0 END) as brazowe
            FROM wyniki_z_pozycjami
            WHERE pozycja <= 3
            GROUP BY klub
        )
        SELECT 
            klub,
            zlote,
            srebrne,
            brazowe,
            (zlote + srebrne + brazowe) as lacznie
        FROM medale
        ORDER BY zlote DESC, srebrne DESC, brazowe DESC
    
âœ… Znaleziono 13 wynikÃ³w
âœ… Znaleziono 13 wynikÃ³w
âœ… Znaleziono 13 wynikÃ³w
âœ… Znaleziono 187 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
            SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub,
                   NULL as czas_przejazdu_s, 'WAITING' as status
            FROM zawodnicy
            WHERE kategoria IS NOT NULL AND plec IS NOT NULL
            ORDER BY kategoria, plec, nr_startowy ASC
        
âœ… Znaleziono 251 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 3 wynikÃ³w
   °$b   0[   0şZ   p[   °$b   °[   0şZ   ğ[   °$b   0[   0şZ   p[   °$b   °[   0[   0\H   p2Z   ğ[H   p[   °[   °$b   ğ[   ğ[   0[   °$b   p[   ğ[   °[   °$b   `[   ğ[   °[   °$b   ğ[   ğ[    [   °$b   p[   ğ[   0[   °$b   °[   ğ[   ğ[   °$b   0[   ğ[   p[   °$b   °[   ğ[   ğ[   °$b   0[   °[   0\H   p2Z   ğ[H   ğ[   0[   °$b   p[   p[   °[   °$b   ğ[   p[   0[   °$b   P[   p[    [   °$b   p[   p[   ğ[   °$b   ğ[   p[   °[   °$b   0[   p[   p[   °$b   °[   p[   ğ[   °$b   0[   p[   p[   °$b   °[   0[   0\H   p2Z   ğ[H   p[   °[   °$b   ğ[   ğ[   0[   °$b   p[   ğ[   °[   °$b   @[   ğ[   [   °$b   ğ[   ğ[   à[   °$b   p[   ğ[   0[   °$b   °[   ğ[   ğ[   °$b   0[   ğ[   p[   °$b   °[   ğ[   0 [   °$b   p [   ğ [   0\H   p2Z   ğ[H   0![   p![   °$b   °![   ° [   ğ![   °$b   0"[   ° [   p"[   °$b   0[   ° [   €[   °$b   °"[   ° [   Ğ[   °$b   0#[   ° [   ğ"[   °$b   p#[   ° [   °#[   °$b   ğ#[   ° [   0$[   °$b   p$[   ° [   °$[   °$b   ğ$[   p%[   0\H   p2Z   ğ[H   °%[   ğ%[   °$b   0&[   0%[   p&[   °$b   °&[   0%[   ğ&[   °$b    [   0%[   p[   °$b   0'[   0%[   À[   °$b   °'[   0%[   p'[   °$b   ğ'[   0%[   0([   °$b   p([   0%[   °([   °$b   ğ([   0%[   0)[   °$b   p)[   ğ)[   0\H   p2Z   ğ[H   0*[   p*[   °$b   °*[   °)[   ğ*[   °$b   0+[   °)[   p+[   °$b   [   °)[   `[   °$b   °+[   °)[   °[   °$b   0,[   °)[   ğ+[   °$b   p,[   °)[   °,[   °$b   ğ,[   °)[   0-[   °$b   p-[   °)[   °-[   °$b   ğ-[   p.[   0\H   p2Z   ğ[H   °.[   ğ.[   °$b    [   0.[   0/[   °$b   p/[   0.[   °/[   °$b   P[   0.[    [   °$b   00[   0.[   ğ[   °$b   °0[   0.[   p0[   °$b   @	[   0.[   ğ0[   °$b   01[   0.[   p1[   °$b   °1[   0.[   ğ1[   °$b   02[   °2[   0\H   p2Z   ğ[H   ğ2[   03[   °$b   p3[   p2[   °3[   °$b   ğ3[   p2[   04[   °$b   	[   p2[   à	[   °$b   p4[   p2[   0
[   °$b   ğ4[   p2[   °4[   °$b   05[   p2[   p5[   °$b   °5[   p2[   ğ5[   °$b   06[   p2[   p6[   °$b   °6[   07[   0\H   ğ6[   0nD   °1Z   °2Z   °$b   pja   °1Z   p7[   °$b   Ğ5W   °1Z   °7[   °$b   ğ[H   08[   °8[   °$b   ğ8[   ğ7[   09[   °$b   p9[   ğ7[   °9[   °$b   ğ9[   ğ7[   0:[   °$b   €
[   ğ7[   p:[   °$b   °:[   ğ:[   0\H   °1Z   p8[   °$b   °gD   ğ‹=   0\H                           X               X                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:09:06] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:09:12] "GET /api/unified/group-details/Junior%20B/M HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:09:15] "POST /api/unified/remove-athlete-from-group HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:09:17] "GET /api/unified/group-details/Junior%20B/M HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 3 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior B', 'M')
âœ… Znaleziono 17 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                    SELECT nr_startowy, status, start_time, finish_time, total_time
                    FROM sectro_results WHERE session_id = %s
                 z parametrami: (116,)
âœ… Znaleziono 2 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE kategoria = %s AND plec = %s
                ORDER BY nr_startowy
             z parametrami: ('Junior B', 'M')
âœ… Znaleziono 17 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                    SELECT nr_startowy, status, start_time, finish_time, total_time
                    FROM sectro_results WHERE session_id = %s
                 z parametrami: (116,)
âœ… Znaleziono 2 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 2 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:09:18] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:09:19] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                SELECT nr_startowy, imie, nazwisko, kategoria, plec, klub, 
                       COALESCE(checked_in, false) as checked_in, check_in_time
                FROM zawodnicy 
                WHERE COALESCE(checked_in, false) = true 
                AND kategoria IS NOT NULL 
                AND plec IS NOT NULL
                ORDER BY kategoria, plec, nr_startowy
            
âœ… Znaleziono 2 wynikÃ³w
ğŸ” WykonujÄ™ zapytanie: 
                WITH best_sessions AS (
                    SELECT DISTINCT ON (z.nr_startowy)
                        z.nr_startowy,
                        z.imie,
                        z.nazwisko, 
                        z.kategoria,
                        z.plec,
                        z.klub,
                        z.checked_in,
                        z.check_in_time,
                        
                        -- SECTRO data (najlepsza sesja)
                        s.id as session_id,
                        s.nazwa as session_name,
                        s.status as session_status,
                        r.status as sectro_status,
                        r.start_time,
                        r.finish_time,
                        r.total_time,
                        
                        -- Session priority (niÅ¼sze = lepsze)
                        CASE 
                            WHEN s.status = 'active' THEN 1
                            WHEN s.status = 'timing' THEN 2  
                            WHEN s.status = 'completed' THEN 3
                            WHEN s.status = 'cancelled' THEN 4
                            ELSE 5
                        END as session_priority
                        
                    FROM zawodnicy z
                    LEFT JOIN sectro_results r ON z.nr_startowy = r.nr_startowy
                    LEFT JOIN sectro_sessions s ON r.session_id = s.id
                    WHERE z.checked_in = true 
                    AND s.status IN ('active', 'timing')
                    ORDER BY z.nr_startowy, session_priority ASC, s.created_at DESC
                )
                SELECT 
                    nr_startowy,
                    imie,
                    nazwisko, 
                    kategoria,
                    plec,
                    klub,
                    checked_in,
                    check_in_time,
                    session_id,
                    session_name,
                    session_status,
                    sectro_status,
                    start_time,
                    finish_time,
                    total_time,
                    
                    -- Unified status calculation
                    CASE 
                        WHEN total_time IS NOT NULL THEN 'FINISHED'
                        WHEN start_time IS NOT NULL THEN 'TIMING' 
                        WHEN session_id IS NOT NULL THEN 'READY'
                        WHEN checked_in = true THEN 'REGISTERED'
                        ELSE 'WAITING'
                    END as unified_status,
                    
                    -- Source type
                    CASE
                        WHEN session_status IN ('active', 'timing') THEN 'SECTRO_ACTIVE'
                        WHEN checked_in = true THEN 'CHECKED_IN'
                        ELSE 'MANUAL'
                    END as source_type,
                    
                    -- Priority for sorting (niÅ¼sze = wyÅ¼szy priorytet)
                    CASE 
                        WHEN start_time IS NOT NULL AND finish_time IS NULL THEN 1  -- Currently timing
                        WHEN session_status = 'active' AND session_id IS NOT NULL THEN 2   -- Ready in active session
                        WHEN checked_in = true THEN 3                                -- Checked in
                        ELSE 4                                                          -- Others
                    END as priority
                    
                FROM best_sessions
                ORDER BY priority ASC, check_in_time DESC, nr_startowy ASC
            
âœ… Znaleziono 2 wynikÃ³w
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:09:23] "GET /api/kluby HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:09:23] "GET /api/zawodnicy?page=1&limit=50 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:09:23] "GET /api/unified/dashboard-data HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:09:29] "GET /api/drabinka HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/Jun/2025 00:09:31] "GET /api/zawodnicy?limit=1000 HTTP/1.1" 200 -
ğŸ§¹ Connection pool zamkniÄ™ty przy shutdown
ğŸ§¹ Connection pool zamkniÄ™ty przy shutdown
/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/resource_tracker.py:216: UserWarning: resource_tracker: There appear to be 1 leaked semaphore objects to clean up at shutdown
  warnings.warn('resource_tracker: There appear to be %d '
